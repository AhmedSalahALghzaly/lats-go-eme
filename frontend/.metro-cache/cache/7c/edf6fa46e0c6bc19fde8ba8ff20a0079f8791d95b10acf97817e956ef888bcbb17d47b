{"dependencies":[{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"],"imports":1}},{"name":"@nozbe/watermelondb","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":113},"end":{"line":5,"column":47,"index":160}}],"key":"BhyCNEj5Kb8+qX57sh0j9MvNw00=","exportNames":["*"],"imports":1}},{"name":"@nozbe/watermelondb/adapters/lokijs","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":6,"column":0,"index":161},"end":{"line":6,"column":64,"index":225}}],"key":"f2KP8v71ie9RSKPN3s+SLfp9b04=","exportNames":["*"],"imports":1}},{"name":"./schema","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":7,"column":0,"index":226},"end":{"line":7,"column":30,"index":256}}],"key":"S+0aqVr8+Zrs44D+tao8MWIW6h4=","exportNames":["*"],"imports":1}},{"name":"./models","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":8,"column":0,"index":257},"end":{"line":17,"column":18,"index":395}}],"key":"v2ABkugXd5cTrc+BpisT3+iSgy0=","exportNames":["*"],"imports":1}},{"name":"react-native","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":18,"column":0,"index":396},"end":{"line":18,"column":40,"index":436}}],"key":"KyzuX10g6ixS9UfynhmjlvCIG3g=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return _default;\n    }\n  });\n  Object.defineProperty(exports, \"carBrandsCollection\", {\n    enumerable: true,\n    get: function () {\n      return carBrandsCollection;\n    }\n  });\n  Object.defineProperty(exports, \"carModelsCollection\", {\n    enumerable: true,\n    get: function () {\n      return carModelsCollection;\n    }\n  });\n  Object.defineProperty(exports, \"productBrandsCollection\", {\n    enumerable: true,\n    get: function () {\n      return productBrandsCollection;\n    }\n  });\n  Object.defineProperty(exports, \"categoriesCollection\", {\n    enumerable: true,\n    get: function () {\n      return categoriesCollection;\n    }\n  });\n  Object.defineProperty(exports, \"productsCollection\", {\n    enumerable: true,\n    get: function () {\n      return productsCollection;\n    }\n  });\n  Object.defineProperty(exports, \"favoritesCollection\", {\n    enumerable: true,\n    get: function () {\n      return favoritesCollection;\n    }\n  });\n  Object.defineProperty(exports, \"cartItemsCollection\", {\n    enumerable: true,\n    get: function () {\n      return cartItemsCollection;\n    }\n  });\n  Object.defineProperty(exports, \"syncMetadataCollection\", {\n    enumerable: true,\n    get: function () {\n      return syncMetadataCollection;\n    }\n  });\n  exports.resetDatabase = resetDatabase;\n  var _babelRuntimeHelpersAsyncToGenerator = require(_dependencyMap[0], \"@babel/runtime/helpers/asyncToGenerator\");\n  var _asyncToGenerator = _interopDefault(_babelRuntimeHelpersAsyncToGenerator);\n  var _nozbeWatermelondb = require(_dependencyMap[1], \"@nozbe/watermelondb\");\n  var _nozbeWatermelondbAdaptersLokijs = require(_dependencyMap[2], \"@nozbe/watermelondb/adapters/lokijs\");\n  var LokiJSAdapter = _interopDefault(_nozbeWatermelondbAdaptersLokijs);\n  var _schema = require(_dependencyMap[3], \"./schema\");\n  var schema = _interopDefault(_schema);\n  var _models = require(_dependencyMap[4], \"./models\");\n  var _reactNative = require(_dependencyMap[5], \"react-native\");\n  /**\n   * WatermelonDB Database Instance\n   * Initializes the database with appropriate adapter for each platform\n   */\n\n  // Create adapter based on platform\n  // Using LokiJS adapter which works on all platforms including web\n  var adapter = new LokiJSAdapter.default({\n    schema: schema.default,\n    useWebWorker: false,\n    useIncrementalIndexedDB: _reactNative.Platform.OS === 'web',\n    dbName: 'alghazaly_offline_db'\n  });\n\n  // Create database instance with models\n  var database = new _nozbeWatermelondb.Database({\n    adapter,\n    modelClasses: [_models.CarBrand, _models.CarModel, _models.ProductBrand, _models.Category, _models.Product, _models.Favorite, _models.CartItem, _models.SyncMetadata]\n  });\n  var _default = database;\n\n  // Export table references for easy access\n  var carBrandsCollection = database.get('car_brands');\n  var carModelsCollection = database.get('car_models');\n  var productBrandsCollection = database.get('product_brands');\n  var categoriesCollection = database.get('categories');\n  var productsCollection = database.get('products');\n  var favoritesCollection = database.get('favorites');\n  var cartItemsCollection = database.get('cart_items');\n  var syncMetadataCollection = database.get('sync_metadata');\n\n  // Helper to reset database (for debugging)\n  function resetDatabase() {\n    return _resetDatabase.apply(this, arguments);\n  }\n  function _resetDatabase() {\n    _resetDatabase = (0, _asyncToGenerator.default)(function* () {\n      yield database.write(/*#__PURE__*/(0, _asyncToGenerator.default)(function* () {\n        yield database.unsafeResetDatabase();\n      }));\n    });\n    return _resetDatabase.apply(this, arguments);\n  }\n});","lineCount":119,"map":[[12,2,44,0,"Object"],[12,8,44,0],[12,9,44,0,"defineProperty"],[12,23,44,0],[12,24,44,0,"exports"],[12,31,44,0],[13,4,44,0,"enumerable"],[13,14,44,0],[14,4,44,0,"get"],[14,7,44,0],[14,18,44,0,"get"],[14,19,44,0],[15,6,44,0],[15,13,44,0,"_default"],[15,21,44,0],[16,4,44,0],[17,2,44,0],[18,2,47,0,"Object"],[18,8,47,0],[18,9,47,0,"defineProperty"],[18,23,47,0],[18,24,47,0,"exports"],[18,31,47,0],[19,4,47,0,"enumerable"],[19,14,47,0],[20,4,47,0,"get"],[20,7,47,0],[20,18,47,0,"get"],[20,19,47,0],[21,6,47,0],[21,13,47,0,"carBrandsCollection"],[21,32,47,0],[22,4,47,0],[23,2,47,0],[24,2,48,0,"Object"],[24,8,48,0],[24,9,48,0,"defineProperty"],[24,23,48,0],[24,24,48,0,"exports"],[24,31,48,0],[25,4,48,0,"enumerable"],[25,14,48,0],[26,4,48,0,"get"],[26,7,48,0],[26,18,48,0,"get"],[26,19,48,0],[27,6,48,0],[27,13,48,0,"carModelsCollection"],[27,32,48,0],[28,4,48,0],[29,2,48,0],[30,2,49,0,"Object"],[30,8,49,0],[30,9,49,0,"defineProperty"],[30,23,49,0],[30,24,49,0,"exports"],[30,31,49,0],[31,4,49,0,"enumerable"],[31,14,49,0],[32,4,49,0,"get"],[32,7,49,0],[32,18,49,0,"get"],[32,19,49,0],[33,6,49,0],[33,13,49,0,"productBrandsCollection"],[33,36,49,0],[34,4,49,0],[35,2,49,0],[36,2,50,0,"Object"],[36,8,50,0],[36,9,50,0,"defineProperty"],[36,23,50,0],[36,24,50,0,"exports"],[36,31,50,0],[37,4,50,0,"enumerable"],[37,14,50,0],[38,4,50,0,"get"],[38,7,50,0],[38,18,50,0,"get"],[38,19,50,0],[39,6,50,0],[39,13,50,0,"categoriesCollection"],[39,33,50,0],[40,4,50,0],[41,2,50,0],[42,2,51,0,"Object"],[42,8,51,0],[42,9,51,0,"defineProperty"],[42,23,51,0],[42,24,51,0,"exports"],[42,31,51,0],[43,4,51,0,"enumerable"],[43,14,51,0],[44,4,51,0,"get"],[44,7,51,0],[44,18,51,0,"get"],[44,19,51,0],[45,6,51,0],[45,13,51,0,"productsCollection"],[45,31,51,0],[46,4,51,0],[47,2,51,0],[48,2,52,0,"Object"],[48,8,52,0],[48,9,52,0,"defineProperty"],[48,23,52,0],[48,24,52,0,"exports"],[48,31,52,0],[49,4,52,0,"enumerable"],[49,14,52,0],[50,4,52,0,"get"],[50,7,52,0],[50,18,52,0,"get"],[50,19,52,0],[51,6,52,0],[51,13,52,0,"favoritesCollection"],[51,32,52,0],[52,4,52,0],[53,2,52,0],[54,2,53,0,"Object"],[54,8,53,0],[54,9,53,0,"defineProperty"],[54,23,53,0],[54,24,53,0,"exports"],[54,31,53,0],[55,4,53,0,"enumerable"],[55,14,53,0],[56,4,53,0,"get"],[56,7,53,0],[56,18,53,0,"get"],[56,19,53,0],[57,6,53,0],[57,13,53,0,"cartItemsCollection"],[57,32,53,0],[58,4,53,0],[59,2,53,0],[60,2,54,0,"Object"],[60,8,54,0],[60,9,54,0,"defineProperty"],[60,23,54,0],[60,24,54,0,"exports"],[60,31,54,0],[61,4,54,0,"enumerable"],[61,14,54,0],[62,4,54,0,"get"],[62,7,54,0],[62,18,54,0,"get"],[62,19,54,0],[63,6,54,0],[63,13,54,0,"syncMetadataCollection"],[63,35,54,0],[64,4,54,0],[65,2,54,0],[66,2,57,0,"exports"],[66,9,57,0],[66,10,57,0,"resetDatabase"],[66,23,57,0],[66,26,57,0,"resetDatabase"],[66,39,57,0],[67,2,61,1],[67,6,61,1,"_babelRuntimeHelpersAsyncToGenerator"],[67,42,61,1],[67,45,61,1,"require"],[67,52,61,1],[67,53,61,1,"_dependencyMap"],[67,67,61,1],[68,2,61,1],[68,6,61,1,"_asyncToGenerator"],[68,23,61,1],[68,26,61,1,"_interopDefault"],[68,41,61,1],[68,42,61,1,"_babelRuntimeHelpersAsyncToGenerator"],[68,78,61,1],[69,2,5,0],[69,6,5,0,"_nozbeWatermelondb"],[69,24,5,0],[69,27,5,0,"require"],[69,34,5,0],[69,35,5,0,"_dependencyMap"],[69,49,5,0],[70,2,6,0],[70,6,6,0,"_nozbeWatermelondbAdaptersLokijs"],[70,38,6,0],[70,41,6,0,"require"],[70,48,6,0],[70,49,6,0,"_dependencyMap"],[70,63,6,0],[71,2,6,0],[71,6,6,0,"LokiJSAdapter"],[71,19,6,0],[71,22,6,0,"_interopDefault"],[71,37,6,0],[71,38,6,0,"_nozbeWatermelondbAdaptersLokijs"],[71,70,6,0],[72,2,7,0],[72,6,7,0,"_schema"],[72,13,7,0],[72,16,7,0,"require"],[72,23,7,0],[72,24,7,0,"_dependencyMap"],[72,38,7,0],[73,2,7,0],[73,6,7,0,"schema"],[73,12,7,0],[73,15,7,0,"_interopDefault"],[73,30,7,0],[73,31,7,0,"_schema"],[73,38,7,0],[74,2,8,0],[74,6,8,0,"_models"],[74,13,8,0],[74,16,8,0,"require"],[74,23,8,0],[74,24,8,0,"_dependencyMap"],[74,38,8,0],[75,2,18,0],[75,6,18,0,"_reactNative"],[75,18,18,0],[75,21,18,0,"require"],[75,28,18,0],[75,29,18,0,"_dependencyMap"],[75,43,18,0],[76,2,1,0],[77,0,2,0],[78,0,3,0],[79,0,4,0],[81,2,20,0],[82,2,21,0],[83,2,22,0],[83,6,22,6,"adapter"],[83,13,22,13],[83,16,22,16],[83,20,22,20,"LokiJSAdapter"],[83,33,22,33],[83,34,22,33,"default"],[83,41,22,33],[83,42,22,34],[84,4,23,2,"schema"],[84,10,23,8],[84,12,23,2,"schema"],[84,18,23,8],[84,19,23,8,"default"],[84,26,23,8],[85,4,24,2,"useWebWorker"],[85,16,24,14],[85,18,24,16],[85,23,24,21],[86,4,25,2,"useIncrementalIndexedDB"],[86,27,25,25],[86,29,25,27,"Platform"],[86,41,25,35],[86,42,25,35,"Platform"],[86,50,25,35],[86,51,25,36,"OS"],[86,53,25,38],[86,58,25,43],[86,63,25,48],[87,4,26,2,"dbName"],[87,10,26,8],[87,12,26,10],[88,2,27,0],[88,3,27,1],[88,4,27,2],[90,2,29,0],[91,2,30,0],[91,6,30,6,"database"],[91,14,30,14],[91,17,30,17],[91,21,30,21,"Database"],[91,39,30,29],[91,40,30,29,"Database"],[91,48,30,29],[91,49,30,30],[92,4,31,2,"adapter"],[92,11,31,9],[93,4,32,2,"modelClasses"],[93,16,32,14],[93,18,32,16],[93,19,33,4,"CarBrand"],[93,26,33,12],[93,27,33,12,"CarBrand"],[93,35,33,12],[93,37,34,4,"CarModel"],[93,44,34,12],[93,45,34,12,"CarModel"],[93,53,34,12],[93,55,35,4,"ProductBrand"],[93,62,35,16],[93,63,35,16,"ProductBrand"],[93,75,35,16],[93,77,36,4,"Category"],[93,84,36,12],[93,85,36,12,"Category"],[93,93,36,12],[93,95,37,4,"Product"],[93,102,37,11],[93,103,37,11,"Product"],[93,110,37,11],[93,112,38,4,"Favorite"],[93,119,38,12],[93,120,38,12,"Favorite"],[93,128,38,12],[93,130,39,4,"CartItem"],[93,137,39,12],[93,138,39,12,"CartItem"],[93,146,39,12],[93,148,40,4,"SyncMetadata"],[93,155,40,16],[93,156,40,16,"SyncMetadata"],[93,168,40,16],[94,2,42,0],[94,3,42,1],[94,4,42,2],[95,2,44,0],[95,6,44,0,"_default"],[95,14,44,0],[95,17,44,15,"database"],[95,25,44,23],[97,2,46,0],[98,2,47,7],[98,6,47,13,"carBrandsCollection"],[98,25,47,32],[98,28,47,35,"database"],[98,36,47,43],[98,37,47,44,"get"],[98,40,47,47],[98,41,47,58],[98,53,47,70],[98,54,47,71],[99,2,48,7],[99,6,48,13,"carModelsCollection"],[99,25,48,32],[99,28,48,35,"database"],[99,36,48,43],[99,37,48,44,"get"],[99,40,48,47],[99,41,48,58],[99,53,48,70],[99,54,48,71],[100,2,49,7],[100,6,49,13,"productBrandsCollection"],[100,29,49,36],[100,32,49,39,"database"],[100,40,49,47],[100,41,49,48,"get"],[100,44,49,51],[100,45,49,66],[100,61,49,82],[100,62,49,83],[101,2,50,7],[101,6,50,13,"categoriesCollection"],[101,26,50,33],[101,29,50,36,"database"],[101,37,50,44],[101,38,50,45,"get"],[101,41,50,48],[101,42,50,59],[101,54,50,71],[101,55,50,72],[102,2,51,7],[102,6,51,13,"productsCollection"],[102,24,51,31],[102,27,51,34,"database"],[102,35,51,42],[102,36,51,43,"get"],[102,39,51,46],[102,40,51,56],[102,50,51,66],[102,51,51,67],[103,2,52,7],[103,6,52,13,"favoritesCollection"],[103,25,52,32],[103,28,52,35,"database"],[103,36,52,43],[103,37,52,44,"get"],[103,40,52,47],[103,41,52,58],[103,52,52,69],[103,53,52,70],[104,2,53,7],[104,6,53,13,"cartItemsCollection"],[104,25,53,32],[104,28,53,35,"database"],[104,36,53,43],[104,37,53,44,"get"],[104,40,53,47],[104,41,53,58],[104,53,53,70],[104,54,53,71],[105,2,54,7],[105,6,54,13,"syncMetadataCollection"],[105,28,54,35],[105,31,54,38,"database"],[105,39,54,46],[105,40,54,47,"get"],[105,43,54,50],[105,44,54,65],[105,59,54,80],[105,60,54,81],[107,2,56,0],[108,2,56,0],[108,11,57,22,"resetDatabase"],[108,24,57,35,"resetDatabase"],[108,25,57,35],[109,4,57,35],[109,11,57,35,"_resetDatabase"],[109,25,57,35],[109,26,57,35,"apply"],[109,31,57,35],[109,38,57,35,"arguments"],[109,47,57,35],[110,2,57,35],[111,2,57,35],[111,11,57,35,"_resetDatabase"],[111,26,57,35],[112,4,57,35,"_resetDatabase"],[112,18,57,35],[112,25,57,35,"_asyncToGenerator"],[112,42,57,35],[112,43,57,35,"default"],[112,50,57,35],[112,52,57,7],[112,65,57,38],[113,6,58,2],[113,12,58,8,"database"],[113,20,58,16],[113,21,58,17,"write"],[113,26,58,22],[113,44,58,22,"_asyncToGenerator"],[113,61,58,22],[113,62,58,22,"default"],[113,69,58,22],[113,71,58,23],[113,84,58,35],[114,8,59,4],[114,14,59,10,"database"],[114,22,59,18],[114,23,59,19,"unsafeResetDatabase"],[114,42,59,38],[114,43,59,39],[114,44,59,40],[115,6,60,2],[115,7,60,3],[115,9,60,4],[116,4,61,0],[116,5,61,1],[117,4,61,1],[117,11,61,1,"_resetDatabase"],[117,25,61,1],[117,26,61,1,"apply"],[117,31,61,1],[117,38,61,1,"arguments"],[117,47,61,1],[118,2,61,1],[119,0,61,1],[119,3]],"functionMap":{"names":["<global>","resetDatabase","database.write$argument_0"],"mappings":"AAA;OCwD;uBCC;GDE;CDC"},"hasCjsExports":false},"type":"js/module"}]}