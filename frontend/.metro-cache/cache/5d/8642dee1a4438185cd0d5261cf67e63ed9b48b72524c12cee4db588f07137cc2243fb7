{"dependencies":[{"name":"../util/lift","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":4,"column":13,"index":114},"end":{"line":4,"column":36,"index":137}}],"key":"QCxE0PdfaUm4cT9qPVYaaaoo46A=","exportNames":["*"],"imports":1}},{"name":"./OperatorSubscriber","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":5,"column":27,"index":166},"end":{"line":5,"column":58,"index":197}}],"key":"5a4JxA+rxI0MIxewBKZddpWmHrQ=","exportNames":["*"],"imports":1}},{"name":"../util/identity","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":6,"column":17,"index":216},"end":{"line":6,"column":44,"index":243}}],"key":"7G8t17UjdLz+1vgZc9hnV806JUk=","exportNames":["*"],"imports":1}},{"name":"../observable/timer","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":7,"column":14,"index":259},"end":{"line":7,"column":44,"index":289}}],"key":"GS4xWdSOWUF/4jN7wbbo//xg8QE=","exportNames":["*"],"imports":1}},{"name":"../observable/innerFrom","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":8,"column":18,"index":309},"end":{"line":8,"column":52,"index":343}}],"key":"T4CuDoHB9q4c1mpqb7scn7763KE=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.retry = void 0;\n  var lift_1 = require(_dependencyMap[0], \"../util/lift\");\n  var OperatorSubscriber_1 = require(_dependencyMap[1], \"./OperatorSubscriber\");\n  var identity_1 = require(_dependencyMap[2], \"../util/identity\");\n  var timer_1 = require(_dependencyMap[3], \"../observable/timer\");\n  var innerFrom_1 = require(_dependencyMap[4], \"../observable/innerFrom\");\n  function retry(configOrCount) {\n    if (configOrCount === void 0) {\n      configOrCount = Infinity;\n    }\n    var config;\n    if (configOrCount && typeof configOrCount === 'object') {\n      config = configOrCount;\n    } else {\n      config = {\n        count: configOrCount\n      };\n    }\n    var _a = config.count,\n      count = _a === void 0 ? Infinity : _a,\n      delay = config.delay,\n      _b = config.resetOnSuccess,\n      resetOnSuccess = _b === void 0 ? false : _b;\n    return count <= 0 ? identity_1.identity : lift_1.operate(function (source, subscriber) {\n      var soFar = 0;\n      var innerSub;\n      var subscribeForRetry = function () {\n        var syncUnsub = false;\n        innerSub = source.subscribe(OperatorSubscriber_1.createOperatorSubscriber(subscriber, function (value) {\n          if (resetOnSuccess) {\n            soFar = 0;\n          }\n          subscriber.next(value);\n        }, undefined, function (err) {\n          if (soFar++ < count) {\n            var resub_1 = function () {\n              if (innerSub) {\n                innerSub.unsubscribe();\n                innerSub = null;\n                subscribeForRetry();\n              } else {\n                syncUnsub = true;\n              }\n            };\n            if (delay != null) {\n              var notifier = typeof delay === 'number' ? timer_1.timer(delay) : innerFrom_1.innerFrom(delay(err, soFar));\n              var notifierSubscriber_1 = OperatorSubscriber_1.createOperatorSubscriber(subscriber, function () {\n                notifierSubscriber_1.unsubscribe();\n                resub_1();\n              }, function () {\n                subscriber.complete();\n              });\n              notifier.subscribe(notifierSubscriber_1);\n            } else {\n              resub_1();\n            }\n          } else {\n            subscriber.error(err);\n          }\n        }));\n        if (syncUnsub) {\n          innerSub.unsubscribe();\n          innerSub = null;\n          subscribeForRetry();\n        }\n      };\n      subscribeForRetry();\n    });\n  }\n  exports.retry = retry;\n});","lineCount":77,"map":[[2,2,1,0],[2,14,1,12],[4,2,2,0,"Object"],[4,8,2,6],[4,9,2,7,"defineProperty"],[4,23,2,21],[4,24,2,22,"exports"],[4,31,2,29],[4,33,2,31],[4,45,2,43],[4,47,2,45],[5,4,2,47,"value"],[5,9,2,52],[5,11,2,54],[6,2,2,59],[6,3,2,60],[6,4,2,61],[7,2,3,0,"exports"],[7,9,3,7],[7,10,3,8,"retry"],[7,15,3,13],[7,18,3,16],[7,23,3,21],[7,24,3,22],[8,2,4,0],[8,6,4,4,"lift_1"],[8,12,4,10],[8,15,4,13,"require"],[8,22,4,20],[8,23,4,20,"_dependencyMap"],[8,37,4,20],[8,56,4,35],[8,57,4,36],[9,2,5,0],[9,6,5,4,"OperatorSubscriber_1"],[9,26,5,24],[9,29,5,27,"require"],[9,36,5,34],[9,37,5,34,"_dependencyMap"],[9,51,5,34],[9,78,5,57],[9,79,5,58],[10,2,6,0],[10,6,6,4,"identity_1"],[10,16,6,14],[10,19,6,17,"require"],[10,26,6,24],[10,27,6,24,"_dependencyMap"],[10,41,6,24],[10,64,6,43],[10,65,6,44],[11,2,7,0],[11,6,7,4,"timer_1"],[11,13,7,11],[11,16,7,14,"require"],[11,23,7,21],[11,24,7,21,"_dependencyMap"],[11,38,7,21],[11,64,7,43],[11,65,7,44],[12,2,8,0],[12,6,8,4,"innerFrom_1"],[12,17,8,15],[12,20,8,18,"require"],[12,27,8,25],[12,28,8,25,"_dependencyMap"],[12,42,8,25],[12,72,8,51],[12,73,8,52],[13,2,9,0],[13,11,9,9,"retry"],[13,16,9,14,"retry"],[13,17,9,15,"configOrCount"],[13,30,9,28],[13,32,9,30],[14,4,10,4],[14,8,10,8,"configOrCount"],[14,21,10,21],[14,26,10,26],[14,31,10,31],[14,32,10,32],[14,34,10,34],[15,6,10,36,"configOrCount"],[15,19,10,49],[15,22,10,52,"Infinity"],[15,30,10,60],[16,4,10,62],[17,4,11,4],[17,8,11,8,"config"],[17,14,11,14],[18,4,12,4],[18,8,12,8,"configOrCount"],[18,21,12,21],[18,25,12,25],[18,32,12,32,"configOrCount"],[18,45,12,45],[18,50,12,50],[18,58,12,58],[18,60,12,60],[19,6,13,8,"config"],[19,12,13,14],[19,15,13,17,"configOrCount"],[19,28,13,30],[20,4,14,4],[20,5,14,5],[20,11,15,9],[21,6,16,8,"config"],[21,12,16,14],[21,15,16,17],[22,8,17,12,"count"],[22,13,17,17],[22,15,17,19,"configOrCount"],[23,6,18,8],[23,7,18,9],[24,4,19,4],[25,4,20,4],[25,8,20,8,"_a"],[25,10,20,10],[25,13,20,13,"config"],[25,19,20,19],[25,20,20,20,"count"],[25,25,20,25],[26,6,20,27,"count"],[26,11,20,32],[26,14,20,35,"_a"],[26,16,20,37],[26,21,20,42],[26,26,20,47],[26,27,20,48],[26,30,20,51,"Infinity"],[26,38,20,59],[26,41,20,62,"_a"],[26,43,20,64],[27,6,20,66,"delay"],[27,11,20,71],[27,14,20,74,"config"],[27,20,20,80],[27,21,20,81,"delay"],[27,26,20,86],[28,6,20,88,"_b"],[28,8,20,90],[28,11,20,93,"config"],[28,17,20,99],[28,18,20,100,"resetOnSuccess"],[28,32,20,114],[29,6,20,116,"resetOnSuccess"],[29,20,20,130],[29,23,20,133,"_b"],[29,25,20,135],[29,30,20,140],[29,35,20,145],[29,36,20,146],[29,39,20,149],[29,44,20,154],[29,47,20,157,"_b"],[29,49,20,159],[30,4,21,4],[30,11,21,11,"count"],[30,16,21,16],[30,20,21,20],[30,21,21,21],[30,24,22,10,"identity_1"],[30,34,22,20],[30,35,22,21,"identity"],[30,43,22,29],[30,46,23,10,"lift_1"],[30,52,23,16],[30,53,23,17,"operate"],[30,60,23,24],[30,61,23,25],[30,71,23,35,"source"],[30,77,23,41],[30,79,23,43,"subscriber"],[30,89,23,53],[30,91,23,55],[31,6,24,12],[31,10,24,16,"soFar"],[31,15,24,21],[31,18,24,24],[31,19,24,25],[32,6,25,12],[32,10,25,16,"innerSub"],[32,18,25,24],[33,6,26,12],[33,10,26,16,"subscribeForRetry"],[33,27,26,33],[33,30,26,36],[33,39,26,36,"subscribeForRetry"],[33,40,26,36],[33,42,26,48],[34,8,27,16],[34,12,27,20,"syncUnsub"],[34,21,27,29],[34,24,27,32],[34,29,27,37],[35,8,28,16,"innerSub"],[35,16,28,24],[35,19,28,27,"source"],[35,25,28,33],[35,26,28,34,"subscribe"],[35,35,28,43],[35,36,28,44,"OperatorSubscriber_1"],[35,56,28,64],[35,57,28,65,"createOperatorSubscriber"],[35,81,28,89],[35,82,28,90,"subscriber"],[35,92,28,100],[35,94,28,102],[35,104,28,112,"value"],[35,109,28,117],[35,111,28,119],[36,10,29,20],[36,14,29,24,"resetOnSuccess"],[36,28,29,38],[36,30,29,40],[37,12,30,24,"soFar"],[37,17,30,29],[37,20,30,32],[37,21,30,33],[38,10,31,20],[39,10,32,20,"subscriber"],[39,20,32,30],[39,21,32,31,"next"],[39,25,32,35],[39,26,32,36,"value"],[39,31,32,41],[39,32,32,42],[40,8,33,16],[40,9,33,17],[40,11,33,19,"undefined"],[40,20,33,28],[40,22,33,30],[40,32,33,40,"err"],[40,35,33,43],[40,37,33,45],[41,10,34,20],[41,14,34,24,"soFar"],[41,19,34,29],[41,21,34,31],[41,24,34,34,"count"],[41,29,34,39],[41,31,34,41],[42,12,35,24],[42,16,35,28,"resub_1"],[42,23,35,35],[42,26,35,38],[42,35,35,38,"resub_1"],[42,36,35,38],[42,38,35,50],[43,14,36,28],[43,18,36,32,"innerSub"],[43,26,36,40],[43,28,36,42],[44,16,37,32,"innerSub"],[44,24,37,40],[44,25,37,41,"unsubscribe"],[44,36,37,52],[44,37,37,53],[44,38,37,54],[45,16,38,32,"innerSub"],[45,24,38,40],[45,27,38,43],[45,31,38,47],[46,16,39,32,"subscribeForRetry"],[46,33,39,49],[46,34,39,50],[46,35,39,51],[47,14,40,28],[47,15,40,29],[47,21,41,33],[48,16,42,32,"syncUnsub"],[48,25,42,41],[48,28,42,44],[48,32,42,48],[49,14,43,28],[50,12,44,24],[50,13,44,25],[51,12,45,24],[51,16,45,28,"delay"],[51,21,45,33],[51,25,45,37],[51,29,45,41],[51,31,45,43],[52,14,46,28],[52,18,46,32,"notifier"],[52,26,46,40],[52,29,46,43],[52,36,46,50,"delay"],[52,41,46,55],[52,46,46,60],[52,54,46,68],[52,57,46,71,"timer_1"],[52,64,46,78],[52,65,46,79,"timer"],[52,70,46,84],[52,71,46,85,"delay"],[52,76,46,90],[52,77,46,91],[52,80,46,94,"innerFrom_1"],[52,91,46,105],[52,92,46,106,"innerFrom"],[52,101,46,115],[52,102,46,116,"delay"],[52,107,46,121],[52,108,46,122,"err"],[52,111,46,125],[52,113,46,127,"soFar"],[52,118,46,132],[52,119,46,133],[52,120,46,134],[53,14,47,28],[53,18,47,32,"notifierSubscriber_1"],[53,38,47,52],[53,41,47,55,"OperatorSubscriber_1"],[53,61,47,75],[53,62,47,76,"createOperatorSubscriber"],[53,86,47,100],[53,87,47,101,"subscriber"],[53,97,47,111],[53,99,47,113],[53,111,47,125],[54,16,48,32,"notifierSubscriber_1"],[54,36,48,52],[54,37,48,53,"unsubscribe"],[54,48,48,64],[54,49,48,65],[54,50,48,66],[55,16,49,32,"resub_1"],[55,23,49,39],[55,24,49,40],[55,25,49,41],[56,14,50,28],[56,15,50,29],[56,17,50,31],[56,29,50,43],[57,16,51,32,"subscriber"],[57,26,51,42],[57,27,51,43,"complete"],[57,35,51,51],[57,36,51,52],[57,37,51,53],[58,14,52,28],[58,15,52,29],[58,16,52,30],[59,14,53,28,"notifier"],[59,22,53,36],[59,23,53,37,"subscribe"],[59,32,53,46],[59,33,53,47,"notifierSubscriber_1"],[59,53,53,67],[59,54,53,68],[60,12,54,24],[60,13,54,25],[60,19,55,29],[61,14,56,28,"resub_1"],[61,21,56,35],[61,22,56,36],[61,23,56,37],[62,12,57,24],[63,10,58,20],[63,11,58,21],[63,17,59,25],[64,12,60,24,"subscriber"],[64,22,60,34],[64,23,60,35,"error"],[64,28,60,40],[64,29,60,41,"err"],[64,32,60,44],[64,33,60,45],[65,10,61,20],[66,8,62,16],[66,9,62,17],[66,10,62,18],[66,11,62,19],[67,8,63,16],[67,12,63,20,"syncUnsub"],[67,21,63,29],[67,23,63,31],[68,10,64,20,"innerSub"],[68,18,64,28],[68,19,64,29,"unsubscribe"],[68,30,64,40],[68,31,64,41],[68,32,64,42],[69,10,65,20,"innerSub"],[69,18,65,28],[69,21,65,31],[69,25,65,35],[70,10,66,20,"subscribeForRetry"],[70,27,66,37],[70,28,66,38],[70,29,66,39],[71,8,67,16],[72,6,68,12],[72,7,68,13],[73,6,69,12,"subscribeForRetry"],[73,23,69,29],[73,24,69,30],[73,25,69,31],[74,4,70,8],[74,5,70,9],[74,6,70,10],[75,2,71,0],[76,2,72,0,"exports"],[76,9,72,7],[76,10,72,8,"retry"],[76,15,72,13],[76,18,72,16,"retry"],[76,23,72,21],[77,0,72,22],[77,3]],"functionMap":{"names":["<global>","retry","lift_1.operate$argument_0","subscribeForRetry","OperatorSubscriber_1.createOperatorSubscriber$argument_1","OperatorSubscriber_1.createOperatorSubscriber$argument_3","resub_1","OperatorSubscriber_1.createOperatorSubscriber$argument_2"],"mappings":"AAA;ACQ;yBCc;oCCG;sGCE;iBDK,aE;sCCE;yBDS;iHDG;6BCG,EE;6BFE;iBFU;aDM;SDE;CDC"},"hasCjsExports":true},"type":"js/module"}]}