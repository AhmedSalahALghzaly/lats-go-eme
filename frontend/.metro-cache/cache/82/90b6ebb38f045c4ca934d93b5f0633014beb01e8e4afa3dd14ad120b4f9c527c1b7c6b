{"dependencies":[{"name":"../observable/innerFrom","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":4,"column":18,"index":124},"end":{"line":4,"column":52,"index":158}}],"key":"T4CuDoHB9q4c1mpqb7scn7763KE=","exportNames":["*"],"imports":1}},{"name":"../Subject","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":5,"column":16,"index":176},"end":{"line":5,"column":37,"index":197}}],"key":"rCTmTYO6TJ25UVDxGzxJlC7LYfM=","exportNames":["*"],"imports":1}},{"name":"../util/lift","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":6,"column":13,"index":212},"end":{"line":6,"column":36,"index":235}}],"key":"QCxE0PdfaUm4cT9qPVYaaaoo46A=","exportNames":["*"],"imports":1}},{"name":"./OperatorSubscriber","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":7,"column":27,"index":264},"end":{"line":7,"column":58,"index":295}}],"key":"5a4JxA+rxI0MIxewBKZddpWmHrQ=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.repeatWhen = void 0;\n  var innerFrom_1 = require(_dependencyMap[0], \"../observable/innerFrom\");\n  var Subject_1 = require(_dependencyMap[1], \"../Subject\");\n  var lift_1 = require(_dependencyMap[2], \"../util/lift\");\n  var OperatorSubscriber_1 = require(_dependencyMap[3], \"./OperatorSubscriber\");\n  function repeatWhen(notifier) {\n    return lift_1.operate(function (source, subscriber) {\n      var innerSub;\n      var syncResub = false;\n      var completions$;\n      var isNotifierComplete = false;\n      var isMainComplete = false;\n      var checkComplete = function () {\n        return isMainComplete && isNotifierComplete && (subscriber.complete(), true);\n      };\n      var getCompletionSubject = function () {\n        if (!completions$) {\n          completions$ = new Subject_1.Subject();\n          innerFrom_1.innerFrom(notifier(completions$)).subscribe(OperatorSubscriber_1.createOperatorSubscriber(subscriber, function () {\n            if (innerSub) {\n              subscribeForRepeatWhen();\n            } else {\n              syncResub = true;\n            }\n          }, function () {\n            isNotifierComplete = true;\n            checkComplete();\n          }));\n        }\n        return completions$;\n      };\n      var subscribeForRepeatWhen = function () {\n        isMainComplete = false;\n        innerSub = source.subscribe(OperatorSubscriber_1.createOperatorSubscriber(subscriber, undefined, function () {\n          isMainComplete = true;\n          !checkComplete() && getCompletionSubject().next();\n        }));\n        if (syncResub) {\n          innerSub.unsubscribe();\n          innerSub = null;\n          syncResub = false;\n          subscribeForRepeatWhen();\n        }\n      };\n      subscribeForRepeatWhen();\n    });\n  }\n  exports.repeatWhen = repeatWhen;\n});","lineCount":55,"map":[[2,2,1,0],[2,14,1,12],[4,2,2,0,"Object"],[4,8,2,6],[4,9,2,7,"defineProperty"],[4,23,2,21],[4,24,2,22,"exports"],[4,31,2,29],[4,33,2,31],[4,45,2,43],[4,47,2,45],[5,4,2,47,"value"],[5,9,2,52],[5,11,2,54],[6,2,2,59],[6,3,2,60],[6,4,2,61],[7,2,3,0,"exports"],[7,9,3,7],[7,10,3,8,"repeatWhen"],[7,20,3,18],[7,23,3,21],[7,28,3,26],[7,29,3,27],[8,2,4,0],[8,6,4,4,"innerFrom_1"],[8,17,4,15],[8,20,4,18,"require"],[8,27,4,25],[8,28,4,25,"_dependencyMap"],[8,42,4,25],[8,72,4,51],[8,73,4,52],[9,2,5,0],[9,6,5,4,"Subject_1"],[9,15,5,13],[9,18,5,16,"require"],[9,25,5,23],[9,26,5,23,"_dependencyMap"],[9,40,5,23],[9,57,5,36],[9,58,5,37],[10,2,6,0],[10,6,6,4,"lift_1"],[10,12,6,10],[10,15,6,13,"require"],[10,22,6,20],[10,23,6,20,"_dependencyMap"],[10,37,6,20],[10,56,6,35],[10,57,6,36],[11,2,7,0],[11,6,7,4,"OperatorSubscriber_1"],[11,26,7,24],[11,29,7,27,"require"],[11,36,7,34],[11,37,7,34,"_dependencyMap"],[11,51,7,34],[11,78,7,57],[11,79,7,58],[12,2,8,0],[12,11,8,9,"repeatWhen"],[12,21,8,19,"repeatWhen"],[12,22,8,20,"notifier"],[12,30,8,28],[12,32,8,30],[13,4,9,4],[13,11,9,11,"lift_1"],[13,17,9,17],[13,18,9,18,"operate"],[13,25,9,25],[13,26,9,26],[13,36,9,36,"source"],[13,42,9,42],[13,44,9,44,"subscriber"],[13,54,9,54],[13,56,9,56],[14,6,10,8],[14,10,10,12,"innerSub"],[14,18,10,20],[15,6,11,8],[15,10,11,12,"syncResub"],[15,19,11,21],[15,22,11,24],[15,27,11,29],[16,6,12,8],[16,10,12,12,"completions$"],[16,22,12,24],[17,6,13,8],[17,10,13,12,"isNotifierComplete"],[17,28,13,30],[17,31,13,33],[17,36,13,38],[18,6,14,8],[18,10,14,12,"isMainComplete"],[18,24,14,26],[18,27,14,29],[18,32,14,34],[19,6,15,8],[19,10,15,12,"checkComplete"],[19,23,15,25],[19,26,15,28],[19,35,15,28,"checkComplete"],[19,36,15,28],[19,38,15,40],[20,8,15,42],[20,15,15,49,"isMainComplete"],[20,29,15,63],[20,33,15,67,"isNotifierComplete"],[20,51,15,85],[20,56,15,90,"subscriber"],[20,66,15,100],[20,67,15,101,"complete"],[20,75,15,109],[20,76,15,110],[20,77,15,111],[20,79,15,113],[20,83,15,117],[20,84,15,118],[21,6,15,120],[21,7,15,121],[22,6,16,8],[22,10,16,12,"getCompletionSubject"],[22,30,16,32],[22,33,16,35],[22,42,16,35,"getCompletionSubject"],[22,43,16,35],[22,45,16,47],[23,8,17,12],[23,12,17,16],[23,13,17,17,"completions$"],[23,25,17,29],[23,27,17,31],[24,10,18,16,"completions$"],[24,22,18,28],[24,25,18,31],[24,29,18,35,"Subject_1"],[24,38,18,44],[24,39,18,45,"Subject"],[24,46,18,52],[24,47,18,53],[24,48,18,54],[25,10,19,16,"innerFrom_1"],[25,21,19,27],[25,22,19,28,"innerFrom"],[25,31,19,37],[25,32,19,38,"notifier"],[25,40,19,46],[25,41,19,47,"completions$"],[25,53,19,59],[25,54,19,60],[25,55,19,61],[25,56,19,62,"subscribe"],[25,65,19,71],[25,66,19,72,"OperatorSubscriber_1"],[25,86,19,92],[25,87,19,93,"createOperatorSubscriber"],[25,111,19,117],[25,112,19,118,"subscriber"],[25,122,19,128],[25,124,19,130],[25,136,19,142],[26,12,20,20],[26,16,20,24,"innerSub"],[26,24,20,32],[26,26,20,34],[27,14,21,24,"subscribeForRepeatWhen"],[27,36,21,46],[27,37,21,47],[27,38,21,48],[28,12,22,20],[28,13,22,21],[28,19,23,25],[29,14,24,24,"syncResub"],[29,23,24,33],[29,26,24,36],[29,30,24,40],[30,12,25,20],[31,10,26,16],[31,11,26,17],[31,13,26,19],[31,25,26,31],[32,12,27,20,"isNotifierComplete"],[32,30,27,38],[32,33,27,41],[32,37,27,45],[33,12,28,20,"checkComplete"],[33,25,28,33],[33,26,28,34],[33,27,28,35],[34,10,29,16],[34,11,29,17],[34,12,29,18],[34,13,29,19],[35,8,30,12],[36,8,31,12],[36,15,31,19,"completions$"],[36,27,31,31],[37,6,32,8],[37,7,32,9],[38,6,33,8],[38,10,33,12,"subscribeForRepeatWhen"],[38,32,33,34],[38,35,33,37],[38,44,33,37,"subscribeForRepeatWhen"],[38,45,33,37],[38,47,33,49],[39,8,34,12,"isMainComplete"],[39,22,34,26],[39,25,34,29],[39,30,34,34],[40,8,35,12,"innerSub"],[40,16,35,20],[40,19,35,23,"source"],[40,25,35,29],[40,26,35,30,"subscribe"],[40,35,35,39],[40,36,35,40,"OperatorSubscriber_1"],[40,56,35,60],[40,57,35,61,"createOperatorSubscriber"],[40,81,35,85],[40,82,35,86,"subscriber"],[40,92,35,96],[40,94,35,98,"undefined"],[40,103,35,107],[40,105,35,109],[40,117,35,121],[41,10,36,16,"isMainComplete"],[41,24,36,30],[41,27,36,33],[41,31,36,37],[42,10,37,16],[42,11,37,17,"checkComplete"],[42,24,37,30],[42,25,37,31],[42,26,37,32],[42,30,37,36,"getCompletionSubject"],[42,50,37,56],[42,51,37,57],[42,52,37,58],[42,53,37,59,"next"],[42,57,37,63],[42,58,37,64],[42,59,37,65],[43,8,38,12],[43,9,38,13],[43,10,38,14],[43,11,38,15],[44,8,39,12],[44,12,39,16,"syncResub"],[44,21,39,25],[44,23,39,27],[45,10,40,16,"innerSub"],[45,18,40,24],[45,19,40,25,"unsubscribe"],[45,30,40,36],[45,31,40,37],[45,32,40,38],[46,10,41,16,"innerSub"],[46,18,41,24],[46,21,41,27],[46,25,41,31],[47,10,42,16,"syncResub"],[47,19,42,25],[47,22,42,28],[47,27,42,33],[48,10,43,16,"subscribeForRepeatWhen"],[48,32,43,38],[48,33,43,39],[48,34,43,40],[49,8,44,12],[50,6,45,8],[50,7,45,9],[51,6,46,8,"subscribeForRepeatWhen"],[51,28,46,30],[51,29,46,31],[51,30,46,32],[52,4,47,4],[52,5,47,5],[52,6,47,6],[53,2,48,0],[54,2,49,0,"exports"],[54,9,49,7],[54,10,49,8,"repeatWhen"],[54,20,49,18],[54,23,49,21,"repeatWhen"],[54,33,49,31],[55,0,49,32],[55,3]],"functionMap":{"names":["<global>","repeatWhen","lift_1.operate$argument_0","checkComplete","getCompletionSubject","OperatorSubscriber_1.createOperatorSubscriber$argument_1","OperatorSubscriber_1.createOperatorSubscriber$argument_2","subscribeForRepeatWhen"],"mappings":"AAA;ACO;0BCC;4BCM,6FD;mCEC;kICG;iBDO,EE;iBFG;SFG;qCKC;6GDE;aCG;SLO;KDE;CDC"},"hasCjsExports":true},"type":"js/module"}]}