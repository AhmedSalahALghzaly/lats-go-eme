{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":3,"column":29,"index":44},"end":{"line":3,"column":84,"index":99}}],"key":"kslwqCIsh6ew+I1KeA1rlVRjsAk=","exportNames":["*"],"imports":1}},{"name":"../../utils/fp/allPass","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":6,"column":38,"index":199},"end":{"line":6,"column":71,"index":232}}],"key":"d0/Hmhtzu0C8ctBOSO1RA9zWk+w=","exportNames":["*"],"imports":1}},{"name":"../../utils/fp/anyPass","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":7,"column":38,"index":273},"end":{"line":7,"column":71,"index":306}}],"key":"b2FneR1JxjPZ8PnbWZ7rIc+WIq8=","exportNames":["*"],"imports":1}},{"name":"../../utils/common/invariant","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":8,"column":40,"index":349},"end":{"line":8,"column":79,"index":388}}],"key":"Ri1v75fiwCPZVoZkMGIO2QkMa+M=","exportNames":["*"],"imports":1}},{"name":"./operators","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":9,"column":40,"index":431},"end":{"line":9,"column":62,"index":453}}],"key":"es7bH9KwD2TNWu322IEitOJv/80=","exportNames":["*"],"imports":1}},{"name":"./canEncode","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":10,"column":41,"index":497},"end":{"line":10,"column":63,"index":519}}],"key":"5vw2NXFrIQdfuJalfaGs2Uri3Og=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _interopRequireDefault = require(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n  exports.__esModule = true;\n  exports.default = encodeMatcher;\n  var _allPass = _interopRequireDefault(require(_dependencyMap[1], \"../../utils/fp/allPass\"));\n  var _anyPass = _interopRequireDefault(require(_dependencyMap[2], \"../../utils/fp/anyPass\"));\n  var _invariant = _interopRequireDefault(require(_dependencyMap[3], \"../../utils/common/invariant\"));\n  var _operators = _interopRequireDefault(require(_dependencyMap[4], \"./operators\"));\n  var _canEncode = _interopRequireWildcard(require(_dependencyMap[5], \"./canEncode\"));\n  function _getRequireWildcardCache(e) {\n    if (\"function\" != typeof WeakMap) return null;\n    var r = new WeakMap(),\n      t = new WeakMap();\n    return (_getRequireWildcardCache = function _getRequireWildcardCache(e) {\n      return e ? t : r;\n    })(e);\n  }\n  function _interopRequireWildcard(e, r) {\n    if (!r && e && e.__esModule) return e;\n    if (null === e || \"object\" != typeof e && \"function\" != typeof e) return {\n      default: e\n    };\n    var t = _getRequireWildcardCache(r);\n    if (t && t.has(e)) return t.get(e);\n    var n = {\n        __proto__: null\n      },\n      a = Object.defineProperty && Object.getOwnPropertyDescriptor;\n    for (var u in e) if (\"default\" !== u && {}.hasOwnProperty.call(e, u)) {\n      var i = a ? Object.getOwnPropertyDescriptor(e, u) : null;\n      i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u];\n    }\n    return n.default = e, t && t.set(e, n), n;\n  }\n  /* eslint-disable no-use-before-define */\n  // eslint-disable-next-line no-unused-vars\n  var encodeWhereDescription = function (description) {\n    return function (rawRecord) {\n      var left = rawRecord[description.left];\n      var {\n        comparison: comparison\n      } = description;\n      var operator = _operators.default[comparison.operator];\n      var compRight = comparison.right;\n      var right;\n\n      // TODO: What about `undefined`s ?\n      if (compRight.value !== undefined) {\n        right = compRight.value;\n      } else if (compRight.values) {\n        right = compRight.values;\n      } else if (compRight.column) {\n        right = rawRecord[compRight.column];\n      } else {\n        throw new Error('Invalid comparisonRight');\n      }\n      return operator(left, right);\n    };\n  };\n  var _encodeWhere = function (where) {\n    switch (where.type) {\n      case 'where':\n        return encodeWhereDescription(where);\n      case 'and':\n        return (0, _allPass.default)(where.conditions.map(_encodeWhere));\n      case 'or':\n        return (0, _anyPass.default)(where.conditions.map(_encodeWhere));\n      case 'on':\n        throw new Error('Illegal Q.on found -- nested Q.ons require explicit Q.experimentalJoinTables declaration');\n      default:\n        throw new Error(\"Illegal clause \".concat(where.type));\n    }\n  };\n  var encodeConditions = function (conditions) {\n    return (0, _allPass.default)(conditions.map(_encodeWhere));\n  };\n  function encodeMatcher(query) {\n    (0, _invariant.default)((0, _canEncode.default)(query), _canEncode.forbiddenError);\n    return encodeConditions(query.where);\n  }\n});","lineCount":83,"map":[[2,2,1,0],[2,14,1,12],[4,2,3,0],[4,6,3,4,"_interopRequireDefault"],[4,28,3,26],[4,31,3,29,"require"],[4,38,3,36],[4,39,3,36,"_dependencyMap"],[4,53,3,36],[4,104,3,83],[4,105,3,84],[5,2,4,0,"exports"],[5,9,4,7],[5,10,4,8,"__esModule"],[5,20,4,18],[5,23,4,21],[5,27,4,25],[6,2,5,0,"exports"],[6,9,5,7],[6,10,5,8,"default"],[6,17,5,15],[6,20,5,18,"encodeMatcher"],[6,33,5,31],[7,2,6,0],[7,6,6,4,"_allPass"],[7,14,6,12],[7,17,6,15,"_interopRequireDefault"],[7,39,6,37],[7,40,6,38,"require"],[7,47,6,45],[7,48,6,45,"_dependencyMap"],[7,62,6,45],[7,91,6,70],[7,92,6,71],[7,93,6,72],[8,2,7,0],[8,6,7,4,"_anyPass"],[8,14,7,12],[8,17,7,15,"_interopRequireDefault"],[8,39,7,37],[8,40,7,38,"require"],[8,47,7,45],[8,48,7,45,"_dependencyMap"],[8,62,7,45],[8,91,7,70],[8,92,7,71],[8,93,7,72],[9,2,8,0],[9,6,8,4,"_invariant"],[9,16,8,14],[9,19,8,17,"_interopRequireDefault"],[9,41,8,39],[9,42,8,40,"require"],[9,49,8,47],[9,50,8,47,"_dependencyMap"],[9,64,8,47],[9,99,8,78],[9,100,8,79],[9,101,8,80],[10,2,9,0],[10,6,9,4,"_operators"],[10,16,9,14],[10,19,9,17,"_interopRequireDefault"],[10,41,9,39],[10,42,9,40,"require"],[10,49,9,47],[10,50,9,47,"_dependencyMap"],[10,64,9,47],[10,82,9,61],[10,83,9,62],[10,84,9,63],[11,2,10,0],[11,6,10,4,"_canEncode"],[11,16,10,14],[11,19,10,17,"_interopRequireWildcard"],[11,42,10,40],[11,43,10,41,"require"],[11,50,10,48],[11,51,10,48,"_dependencyMap"],[11,65,10,48],[11,83,10,62],[11,84,10,63],[11,85,10,64],[12,2,11,0],[12,11,11,9,"_getRequireWildcardCache"],[12,35,11,33,"_getRequireWildcardCache"],[12,36,11,34,"e"],[12,37,11,35],[12,39,11,37],[13,4,11,39],[13,8,11,43],[13,18,11,53],[13,22,11,57],[13,29,11,64,"WeakMap"],[13,36,11,71],[13,38,11,73],[13,45,11,80],[13,49,11,84],[14,4,11,86],[14,8,11,90,"r"],[14,9,11,91],[14,12,11,94],[14,16,11,98,"WeakMap"],[14,23,11,105],[14,24,11,106],[14,25,11,107],[15,6,11,109,"t"],[15,7,11,110],[15,10,11,113],[15,14,11,117,"WeakMap"],[15,21,11,124],[15,22,11,125],[15,23,11,126],[16,4,11,128],[16,11,11,135],[16,12,11,136,"_getRequireWildcardCache"],[16,36,11,160],[16,39,11,163],[16,48,11,172,"_getRequireWildcardCache"],[16,72,11,196,"_getRequireWildcardCache"],[16,73,11,197,"e"],[16,74,11,198],[16,76,11,200],[17,6,11,202],[17,13,11,209,"e"],[17,14,11,210],[17,17,11,213,"t"],[17,18,11,214],[17,21,11,217,"r"],[17,22,11,218],[18,4,11,220],[18,5,11,221],[18,7,11,223,"e"],[18,8,11,224],[18,9,11,225],[19,2,11,227],[20,2,12,0],[20,11,12,9,"_interopRequireWildcard"],[20,34,12,32,"_interopRequireWildcard"],[20,35,12,33,"e"],[20,36,12,34],[20,38,12,36,"r"],[20,39,12,37],[20,41,12,39],[21,4,12,41],[21,8,12,45],[21,9,12,46,"r"],[21,10,12,47],[21,14,12,51,"e"],[21,15,12,52],[21,19,12,56,"e"],[21,20,12,57],[21,21,12,58,"__esModule"],[21,31,12,68],[21,33,12,70],[21,40,12,77,"e"],[21,41,12,78],[22,4,12,80],[22,8,12,84],[22,12,12,88],[22,17,12,93,"e"],[22,18,12,94],[22,22,12,98],[22,30,12,106],[22,34,12,110],[22,41,12,117,"e"],[22,42,12,118],[22,46,12,122],[22,56,12,132],[22,60,12,136],[22,67,12,143,"e"],[22,68,12,144],[22,70,12,146],[22,77,12,153],[23,6,12,155,"default"],[23,13,12,162],[23,15,12,164,"e"],[24,4,12,166],[24,5,12,167],[25,4,12,169],[25,8,12,173,"t"],[25,9,12,174],[25,12,12,177,"_getRequireWildcardCache"],[25,36,12,201],[25,37,12,202,"r"],[25,38,12,203],[25,39,12,204],[26,4,12,206],[26,8,12,210,"t"],[26,9,12,211],[26,13,12,215,"t"],[26,14,12,216],[26,15,12,217,"has"],[26,18,12,220],[26,19,12,221,"e"],[26,20,12,222],[26,21,12,223],[26,23,12,225],[26,30,12,232,"t"],[26,31,12,233],[26,32,12,234,"get"],[26,35,12,237],[26,36,12,238,"e"],[26,37,12,239],[26,38,12,240],[27,4,12,242],[27,8,12,246,"n"],[27,9,12,247],[27,12,12,250],[28,8,12,252,"__proto__"],[28,17,12,261],[28,19,12,263],[29,6,12,268],[29,7,12,269],[30,6,12,271,"a"],[30,7,12,272],[30,10,12,275,"Object"],[30,16,12,281],[30,17,12,282,"defineProperty"],[30,31,12,296],[30,35,12,300,"Object"],[30,41,12,306],[30,42,12,307,"getOwnPropertyDescriptor"],[30,66,12,331],[31,4,12,333],[31,9,12,338],[31,13,12,342,"u"],[31,14,12,343],[31,18,12,347,"e"],[31,19,12,348],[31,21,12,350],[31,25,12,354],[31,34,12,363],[31,39,12,368,"u"],[31,40,12,369],[31,44,12,373],[31,45,12,374],[31,46,12,375],[31,47,12,376,"hasOwnProperty"],[31,61,12,390],[31,62,12,391,"call"],[31,66,12,395],[31,67,12,396,"e"],[31,68,12,397],[31,70,12,399,"u"],[31,71,12,400],[31,72,12,401],[31,74,12,403],[32,6,12,405],[32,10,12,409,"i"],[32,11,12,410],[32,14,12,413,"a"],[32,15,12,414],[32,18,12,417,"Object"],[32,24,12,423],[32,25,12,424,"getOwnPropertyDescriptor"],[32,49,12,448],[32,50,12,449,"e"],[32,51,12,450],[32,53,12,452,"u"],[32,54,12,453],[32,55,12,454],[32,58,12,457],[32,62,12,461],[33,6,12,463,"i"],[33,7,12,464],[33,12,12,469,"i"],[33,13,12,470],[33,14,12,471,"get"],[33,17,12,474],[33,21,12,478,"i"],[33,22,12,479],[33,23,12,480,"set"],[33,26,12,483],[33,27,12,484],[33,30,12,487,"Object"],[33,36,12,493],[33,37,12,494,"defineProperty"],[33,51,12,508],[33,52,12,509,"n"],[33,53,12,510],[33,55,12,512,"u"],[33,56,12,513],[33,58,12,515,"i"],[33,59,12,516],[33,60,12,517],[33,63,12,520,"n"],[33,64,12,521],[33,65,12,522,"u"],[33,66,12,523],[33,67,12,524],[33,70,12,527,"e"],[33,71,12,528],[33,72,12,529,"u"],[33,73,12,530],[33,74,12,531],[34,4,12,533],[35,4,12,535],[35,11,12,542,"n"],[35,12,12,543],[35,13,12,544,"default"],[35,20,12,551],[35,23,12,554,"e"],[35,24,12,555],[35,26,12,557,"t"],[35,27,12,558],[35,31,12,562,"t"],[35,32,12,563],[35,33,12,564,"set"],[35,36,12,567],[35,37,12,568,"e"],[35,38,12,569],[35,40,12,571,"n"],[35,41,12,572],[35,42,12,573],[35,44,12,575,"n"],[35,45,12,576],[36,2,12,578],[37,2,13,0],[38,2,14,0],[39,2,15,0],[39,6,15,4,"encodeWhereDescription"],[39,28,15,26],[39,31,15,29],[39,40,15,29,"encodeWhereDescription"],[39,41,15,39,"description"],[39,52,15,50],[39,54,15,52],[40,4,16,2],[40,11,16,9],[40,21,16,19,"rawRecord"],[40,30,16,28],[40,32,16,30],[41,6,17,4],[41,10,17,8,"left"],[41,14,17,12],[41,17,17,15,"rawRecord"],[41,26,17,24],[41,27,17,25,"description"],[41,38,17,36],[41,39,17,37,"left"],[41,43,17,41],[41,44,17,42],[42,6,18,4],[42,10,18,8],[43,8,19,6,"comparison"],[43,18,19,16],[43,20,19,18,"comparison"],[44,6,20,4],[44,7,20,5],[44,10,20,8,"description"],[44,21,20,19],[45,6,21,4],[45,10,21,8,"operator"],[45,18,21,16],[45,21,21,19,"_operators"],[45,31,21,29],[45,32,21,30,"default"],[45,39,21,37],[45,40,21,38,"comparison"],[45,50,21,48],[45,51,21,49,"operator"],[45,59,21,57],[45,60,21,58],[46,6,22,4],[46,10,22,8,"compRight"],[46,19,22,17],[46,22,22,20,"comparison"],[46,32,22,30],[46,33,22,31,"right"],[46,38,22,36],[47,6,23,4],[47,10,23,8,"right"],[47,15,23,13],[49,6,25,4],[50,6,26,4],[50,10,26,8,"compRight"],[50,19,26,17],[50,20,26,18,"value"],[50,25,26,23],[50,30,26,28,"undefined"],[50,39,26,37],[50,41,26,39],[51,8,27,6,"right"],[51,13,27,11],[51,16,27,14,"compRight"],[51,25,27,23],[51,26,27,24,"value"],[51,31,27,29],[52,6,28,4],[52,7,28,5],[52,13,28,11],[52,17,28,15,"compRight"],[52,26,28,24],[52,27,28,25,"values"],[52,33,28,31],[52,35,28,33],[53,8,29,6,"right"],[53,13,29,11],[53,16,29,14,"compRight"],[53,25,29,23],[53,26,29,24,"values"],[53,32,29,30],[54,6,30,4],[54,7,30,5],[54,13,30,11],[54,17,30,15,"compRight"],[54,26,30,24],[54,27,30,25,"column"],[54,33,30,31],[54,35,30,33],[55,8,31,6,"right"],[55,13,31,11],[55,16,31,14,"rawRecord"],[55,25,31,23],[55,26,31,24,"compRight"],[55,35,31,33],[55,36,31,34,"column"],[55,42,31,40],[55,43,31,41],[56,6,32,4],[56,7,32,5],[56,13,32,11],[57,8,33,6],[57,14,33,12],[57,18,33,16,"Error"],[57,23,33,21],[57,24,33,22],[57,49,33,47],[57,50,33,48],[58,6,34,4],[59,6,35,4],[59,13,35,11,"operator"],[59,21,35,19],[59,22,35,20,"left"],[59,26,35,24],[59,28,35,26,"right"],[59,33,35,31],[59,34,35,32],[60,4,36,2],[60,5,36,3],[61,2,37,0],[61,3,37,1],[62,2,38,0],[62,6,38,4,"_encodeWhere"],[62,18,38,16],[62,21,38,19],[62,30,38,19,"_encodeWhere"],[62,31,38,29,"where"],[62,36,38,34],[62,38,38,36],[63,4,39,2],[63,12,39,10,"where"],[63,17,39,15],[63,18,39,16,"type"],[63,22,39,20],[64,6,40,4],[64,11,40,9],[64,18,40,16],[65,8,41,6],[65,15,41,13,"encodeWhereDescription"],[65,37,41,35],[65,38,41,36,"where"],[65,43,41,41],[65,44,41,42],[66,6,42,4],[66,11,42,9],[66,16,42,14],[67,8,43,6],[67,15,43,13],[67,16,43,14],[67,17,43,15],[67,19,43,17,"_allPass"],[67,27,43,25],[67,28,43,26,"default"],[67,35,43,33],[67,37,43,35,"where"],[67,42,43,40],[67,43,43,41,"conditions"],[67,53,43,51],[67,54,43,52,"map"],[67,57,43,55],[67,58,43,56,"_encodeWhere"],[67,70,43,68],[67,71,43,69],[67,72,43,70],[68,6,44,4],[68,11,44,9],[68,15,44,13],[69,8,45,6],[69,15,45,13],[69,16,45,14],[69,17,45,15],[69,19,45,17,"_anyPass"],[69,27,45,25],[69,28,45,26,"default"],[69,35,45,33],[69,37,45,35,"where"],[69,42,45,40],[69,43,45,41,"conditions"],[69,53,45,51],[69,54,45,52,"map"],[69,57,45,55],[69,58,45,56,"_encodeWhere"],[69,70,45,68],[69,71,45,69],[69,72,45,70],[70,6,46,4],[70,11,46,9],[70,15,46,13],[71,8,47,6],[71,14,47,12],[71,18,47,16,"Error"],[71,23,47,21],[71,24,47,22],[71,114,47,112],[71,115,47,113],[72,6,48,4],[73,8,49,6],[73,14,49,12],[73,18,49,16,"Error"],[73,23,49,21],[73,24,49,22],[73,41,49,39],[73,42,49,40,"concat"],[73,48,49,46],[73,49,49,47,"where"],[73,54,49,52],[73,55,49,53,"type"],[73,59,49,57],[73,60,49,58],[73,61,49,59],[74,4,50,2],[75,2,51,0],[75,3,51,1],[76,2,52,0],[76,6,52,4,"encodeConditions"],[76,22,52,20],[76,25,52,23],[76,34,52,23,"encodeConditions"],[76,35,52,33,"conditions"],[76,45,52,43],[76,47,52,45],[77,4,53,2],[77,11,53,9],[77,12,53,10],[77,13,53,11],[77,15,53,13,"_allPass"],[77,23,53,21],[77,24,53,22,"default"],[77,31,53,29],[77,33,53,31,"conditions"],[77,43,53,41],[77,44,53,42,"map"],[77,47,53,45],[77,48,53,46,"_encodeWhere"],[77,60,53,58],[77,61,53,59],[77,62,53,60],[78,2,54,0],[78,3,54,1],[79,2,55,0],[79,11,55,9,"encodeMatcher"],[79,24,55,22,"encodeMatcher"],[79,25,55,23,"query"],[79,30,55,28],[79,32,55,30],[80,4,56,2],[80,5,56,3],[80,6,56,4],[80,8,56,6,"_invariant"],[80,18,56,16],[80,19,56,17,"default"],[80,26,56,24],[80,28,56,26],[80,29,56,27],[80,30,56,28],[80,32,56,30,"_canEncode"],[80,42,56,40],[80,43,56,41,"default"],[80,50,56,48],[80,52,56,50,"query"],[80,57,56,55],[80,58,56,56],[80,60,56,58,"_canEncode"],[80,70,56,68],[80,71,56,69,"forbiddenError"],[80,85,56,83],[80,86,56,84],[81,4,57,2],[81,11,57,9,"encodeConditions"],[81,27,57,25],[81,28,57,26,"query"],[81,33,57,31],[81,34,57,32,"where"],[81,39,57,37],[81,40,57,38],[82,2,58,0],[83,0,58,1],[83,3]],"functionMap":{"names":["<global>","_getRequireWildcardCache","_interopRequireWildcard","encodeWhereDescription","<anonymous>","_encodeWhere","encodeConditions","encodeMatcher"],"mappings":"AAA;ACU,oOD;AEC,mkBF;6BGG;SCC;GDoB;CHC;mBKC;CLa;uBMC;CNE;AOC"},"hasCjsExports":true},"type":"js/module"}]}