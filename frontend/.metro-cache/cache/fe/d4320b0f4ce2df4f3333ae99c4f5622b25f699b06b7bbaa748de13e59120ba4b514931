{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":3,"column":29,"index":44},"end":{"line":3,"column":84,"index":99}}],"key":"kslwqCIsh6ew+I1KeA1rlVRjsAk=","exportNames":["*"],"imports":1}},{"name":"../../Collection","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":6,"column":41,"index":195},"end":{"line":6,"column":68,"index":222}}],"key":"UYoj2qQLTNibJ0hQrZ3r+XabigE=","exportNames":["*"],"imports":1}},{"name":"../../utils/common","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":7,"column":14,"index":239},"end":{"line":7,"column":43,"index":268}}],"key":"f8rxJKsVH8u9Uvy41cjr6BETN6o=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _interopRequireDefault = require(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n  exports.__esModule = true;\n  exports.default = void 0;\n  var _Collection = _interopRequireDefault(require(_dependencyMap[1], \"../../Collection\"));\n  var _common = require(_dependencyMap[2], \"../../utils/common\");\n  var CollectionMap = exports.default = /*#__PURE__*/function () {\n    function CollectionMap(db, modelClasses) {\n      var _this = this;\n      this.map = Object.create(null);\n      modelClasses.forEach(function (modelClass) {\n        var {\n          table: table\n        } = modelClass;\n        if ('production' !== process.env.NODE_ENV) {\n          // TODO: move these checks to Collection?\n          (0, _common.invariant)('string' === typeof table, \"Model class \".concat(modelClass.name, \" passed to Database constructor is missing \\\"static table = 'table_name'\\\"\"));\n          (0, _common.invariant)(db.schema.tables[table], \"Model class \".concat(modelClass.name, \" has static table defined that is missing in schema known by this database\"));\n        }\n        _this.map[table] = new _Collection.default(db, modelClass);\n      });\n      Object.freeze(this.map);\n    }\n    var _proto = CollectionMap.prototype;\n    _proto.get = function (tableName) {\n      return this.map[tableName] || null;\n    };\n    return CollectionMap;\n  }();\n});","lineCount":32,"map":[[2,2,1,0],[2,14,1,12],[4,2,3,0],[4,6,3,4,"_interopRequireDefault"],[4,28,3,26],[4,31,3,29,"require"],[4,38,3,36],[4,39,3,36,"_dependencyMap"],[4,53,3,36],[4,104,3,83],[4,105,3,84],[5,2,4,0,"exports"],[5,9,4,7],[5,10,4,8,"__esModule"],[5,20,4,18],[5,23,4,21],[5,27,4,25],[6,2,5,0,"exports"],[6,9,5,7],[6,10,5,8,"default"],[6,17,5,15],[6,20,5,18],[6,25,5,23],[6,26,5,24],[7,2,6,0],[7,6,6,4,"_Collection"],[7,17,6,15],[7,20,6,18,"_interopRequireDefault"],[7,42,6,40],[7,43,6,41,"require"],[7,50,6,48],[7,51,6,48,"_dependencyMap"],[7,65,6,48],[7,88,6,67],[7,89,6,68],[7,90,6,69],[8,2,7,0],[8,6,7,4,"_common"],[8,13,7,11],[8,16,7,14,"require"],[8,23,7,21],[8,24,7,21,"_dependencyMap"],[8,38,7,21],[8,63,7,42],[8,64,7,43],[9,2,8,0],[9,6,8,4,"CollectionMap"],[9,19,8,17],[9,22,8,20,"exports"],[9,29,8,27],[9,30,8,28,"default"],[9,37,8,35],[9,40,8,38],[9,53,8,51],[9,65,8,63],[10,4,9,2],[10,13,9,11,"CollectionMap"],[10,26,9,24,"CollectionMap"],[10,27,9,25,"db"],[10,29,9,27],[10,31,9,29,"modelClasses"],[10,43,9,41],[10,45,9,43],[11,6,10,4],[11,10,10,8,"_this"],[11,15,10,13],[11,18,10,16],[11,22,10,20],[12,6,11,4],[12,10,11,8],[12,11,11,9,"map"],[12,14,11,12],[12,17,11,15,"Object"],[12,23,11,21],[12,24,11,22,"create"],[12,30,11,28],[12,31,11,29],[12,35,11,33],[12,36,11,34],[13,6,12,4,"modelClasses"],[13,18,12,16],[13,19,12,17,"forEach"],[13,26,12,24],[13,27,12,25],[13,37,12,35,"modelClass"],[13,47,12,45],[13,49,12,47],[14,8,13,6],[14,12,13,10],[15,10,14,8,"table"],[15,15,14,13],[15,17,14,15,"table"],[16,8,15,6],[16,9,15,7],[16,12,15,10,"modelClass"],[16,22,15,20],[17,8,16,6],[17,12,16,10],[17,24,16,22],[17,29,16,27,"process"],[17,36,16,34],[17,37,16,35,"env"],[17,40,16,38],[17,41,16,39,"NODE_ENV"],[17,49,16,47],[17,51,16,49],[18,10,17,8],[19,10,18,8],[19,11,18,9],[19,12,18,10],[19,14,18,12,"_common"],[19,21,18,19],[19,22,18,20,"invariant"],[19,31,18,29],[19,33,18,31],[19,41,18,39],[19,46,18,44],[19,53,18,51,"table"],[19,58,18,56],[19,60,18,58],[19,74,18,72],[19,75,18,73,"concat"],[19,81,18,79],[19,82,18,80,"modelClass"],[19,92,18,90],[19,93,18,91,"name"],[19,97,18,95],[19,99,18,97],[19,175,18,173],[19,176,18,174],[19,177,18,175],[20,10,19,8],[20,11,19,9],[20,12,19,10],[20,14,19,12,"_common"],[20,21,19,19],[20,22,19,20,"invariant"],[20,31,19,29],[20,33,19,31,"db"],[20,35,19,33],[20,36,19,34,"schema"],[20,42,19,40],[20,43,19,41,"tables"],[20,49,19,47],[20,50,19,48,"table"],[20,55,19,53],[20,56,19,54],[20,58,19,56],[20,72,19,70],[20,73,19,71,"concat"],[20,79,19,77],[20,80,19,78,"modelClass"],[20,90,19,88],[20,91,19,89,"name"],[20,95,19,93],[20,97,19,95],[20,173,19,171],[20,174,19,172],[20,175,19,173],[21,8,20,6],[22,8,21,6,"_this"],[22,13,21,11],[22,14,21,12,"map"],[22,17,21,15],[22,18,21,16,"table"],[22,23,21,21],[22,24,21,22],[22,27,21,25],[22,31,21,29,"_Collection"],[22,42,21,40],[22,43,21,41,"default"],[22,50,21,48],[22,51,21,49,"db"],[22,53,21,51],[22,55,21,53,"modelClass"],[22,65,21,63],[22,66,21,64],[23,6,22,4],[23,7,22,5],[23,8,22,6],[24,6,23,4,"Object"],[24,12,23,10],[24,13,23,11,"freeze"],[24,19,23,17],[24,20,23,18],[24,24,23,22],[24,25,23,23,"map"],[24,28,23,26],[24,29,23,27],[25,4,24,2],[26,4,25,2],[26,8,25,6,"_proto"],[26,14,25,12],[26,17,25,15,"CollectionMap"],[26,30,25,28],[26,31,25,29,"prototype"],[26,40,25,38],[27,4,26,2,"_proto"],[27,10,26,8],[27,11,26,9,"get"],[27,14,26,12],[27,17,26,15],[27,27,26,25,"tableName"],[27,36,26,34],[27,38,26,36],[28,6,27,4],[28,13,27,11],[28,17,27,15],[28,18,27,16,"map"],[28,21,27,19],[28,22,27,20,"tableName"],[28,31,27,29],[28,32,27,30],[28,36,27,34],[28,40,27,38],[29,4,28,2],[29,5,28,3],[30,4,29,2],[30,11,29,9,"CollectionMap"],[30,24,29,22],[31,2,30,0],[31,3,30,1],[31,4,30,2],[31,5,30,3],[32,0,30,4],[32,3]],"functionMap":{"names":["<global>","<anonymous>","CollectionMap","modelClasses.forEach$argument_0","_proto.get"],"mappings":"AAA;mDCO;ECC;yBCG;KDU;GDE;eGE;GHE;CDE"},"hasCjsExports":true},"type":"js/module"}]}