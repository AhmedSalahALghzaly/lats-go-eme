{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":3,"column":29,"index":44},"end":{"line":3,"column":84,"index":99}}],"key":"kslwqCIsh6ew+I1KeA1rlVRjsAk=","exportNames":["*"],"imports":1}},{"name":"../utils/common/invariant","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":6,"column":40,"index":202},"end":{"line":6,"column":76,"index":238}}],"key":"xXWoRmIvK22fz8BhZzrIVJrZW3I=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _interopRequireDefault = require(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n  exports.__esModule = true;\n  exports.getAssociations = void 0;\n  var _invariant = _interopRequireDefault(require(_dependencyMap[1], \"../utils/common/invariant\"));\n  var getAssociations = exports.getAssociations = function (description, modelClass, db) {\n    return description.joinTables.map(function (table) {\n      var info = modelClass.associations[table];\n      (0, _invariant.default)(info, \"Query on '\".concat(modelClass.table, \"' joins with '\").concat(table, \"', but \").concat(modelClass.name, \" does not have associations={} defined for '\").concat(table, \"'\"));\n      return {\n        from: modelClass.table,\n        to: table,\n        info: info\n      };\n    }).concat(description.nestedJoinTables.map(function ({\n      from: from,\n      to: to\n    }) {\n      var collection = db.get(from);\n      (0, _invariant.default)(collection, \"Query on '\".concat(modelClass.table, \"' has a nested join with '\").concat(from, \"', but collection for '\").concat(from, \"' cannot be found\"));\n      var info = collection.modelClass.associations[to];\n      (0, _invariant.default)(info, \"Query on '\".concat(modelClass.table, \"' has a nested join from '\").concat(from, \"' to '\").concat(to, \"', but \").concat(collection.modelClass.name, \" does not have associations={} defined for '\").concat(to, \"'\"));\n      return {\n        from: from,\n        to: to,\n        info: info\n      };\n    }));\n  };\n});","lineCount":32,"map":[[2,2,1,0],[2,14,1,12],[4,2,3,0],[4,6,3,4,"_interopRequireDefault"],[4,28,3,26],[4,31,3,29,"require"],[4,38,3,36],[4,39,3,36,"_dependencyMap"],[4,53,3,36],[4,104,3,83],[4,105,3,84],[5,2,4,0,"exports"],[5,9,4,7],[5,10,4,8,"__esModule"],[5,20,4,18],[5,23,4,21],[5,27,4,25],[6,2,5,0,"exports"],[6,9,5,7],[6,10,5,8,"getAssociations"],[6,25,5,23],[6,28,5,26],[6,33,5,31],[6,34,5,32],[7,2,6,0],[7,6,6,4,"_invariant"],[7,16,6,14],[7,19,6,17,"_interopRequireDefault"],[7,41,6,39],[7,42,6,40,"require"],[7,49,6,47],[7,50,6,47,"_dependencyMap"],[7,64,6,47],[7,96,6,75],[7,97,6,76],[7,98,6,77],[8,2,7,0],[8,6,7,4,"getAssociations"],[8,21,7,19],[8,24,7,22,"exports"],[8,31,7,29],[8,32,7,30,"getAssociations"],[8,47,7,45],[8,50,7,48],[8,60,7,58,"description"],[8,71,7,69],[8,73,7,71,"modelClass"],[8,83,7,81],[8,85,7,83,"db"],[8,87,7,85],[8,89,7,87],[9,4,8,2],[9,11,8,9,"description"],[9,22,8,20],[9,23,8,21,"joinTables"],[9,33,8,31],[9,34,8,32,"map"],[9,37,8,35],[9,38,8,36],[9,48,8,46,"table"],[9,53,8,51],[9,55,8,53],[10,6,9,4],[10,10,9,8,"info"],[10,14,9,12],[10,17,9,15,"modelClass"],[10,27,9,25],[10,28,9,26,"associations"],[10,40,9,38],[10,41,9,39,"table"],[10,46,9,44],[10,47,9,45],[11,6,10,4],[11,7,10,5],[11,8,10,6],[11,10,10,8,"_invariant"],[11,20,10,18],[11,21,10,19,"default"],[11,28,10,26],[11,30,10,28,"info"],[11,34,10,32],[11,36,10,34],[11,48,10,46],[11,49,10,47,"concat"],[11,55,10,53],[11,56,10,54,"modelClass"],[11,66,10,64],[11,67,10,65,"table"],[11,72,10,70],[11,74,10,72],[11,90,10,88],[11,91,10,89],[11,92,10,90,"concat"],[11,98,10,96],[11,99,10,97,"table"],[11,104,10,102],[11,106,10,104],[11,115,10,113],[11,116,10,114],[11,117,10,115,"concat"],[11,123,10,121],[11,124,10,122,"modelClass"],[11,134,10,132],[11,135,10,133,"name"],[11,139,10,137],[11,141,10,139],[11,187,10,185],[11,188,10,186],[11,189,10,187,"concat"],[11,195,10,193],[11,196,10,194,"table"],[11,201,10,199],[11,203,10,201],[11,206,10,204],[11,207,10,205],[11,208,10,206],[12,6,11,4],[12,13,11,11],[13,8,12,6,"from"],[13,12,12,10],[13,14,12,12,"modelClass"],[13,24,12,22],[13,25,12,23,"table"],[13,30,12,28],[14,8,13,6,"to"],[14,10,13,8],[14,12,13,10,"table"],[14,17,13,15],[15,8,14,6,"info"],[15,12,14,10],[15,14,14,12,"info"],[16,6,15,4],[16,7,15,5],[17,4,16,2],[17,5,16,3],[17,6,16,4],[17,7,16,5,"concat"],[17,13,16,11],[17,14,16,12,"description"],[17,25,16,23],[17,26,16,24,"nestedJoinTables"],[17,42,16,40],[17,43,16,41,"map"],[17,46,16,44],[17,47,16,45],[17,57,16,55],[18,6,17,4,"from"],[18,10,17,8],[18,12,17,10,"from"],[18,16,17,14],[19,6,18,4,"to"],[19,8,18,6],[19,10,18,8,"to"],[20,4,19,2],[20,5,19,3],[20,7,19,5],[21,6,20,4],[21,10,20,8,"collection"],[21,20,20,18],[21,23,20,21,"db"],[21,25,20,23],[21,26,20,24,"get"],[21,29,20,27],[21,30,20,28,"from"],[21,34,20,32],[21,35,20,33],[22,6,21,4],[22,7,21,5],[22,8,21,6],[22,10,21,8,"_invariant"],[22,20,21,18],[22,21,21,19,"default"],[22,28,21,26],[22,30,21,28,"collection"],[22,40,21,38],[22,42,21,40],[22,54,21,52],[22,55,21,53,"concat"],[22,61,21,59],[22,62,21,60,"modelClass"],[22,72,21,70],[22,73,21,71,"table"],[22,78,21,76],[22,80,21,78],[22,108,21,106],[22,109,21,107],[22,110,21,108,"concat"],[22,116,21,114],[22,117,21,115,"from"],[22,121,21,119],[22,123,21,121],[22,148,21,146],[22,149,21,147],[22,150,21,148,"concat"],[22,156,21,154],[22,157,21,155,"from"],[22,161,21,159],[22,163,21,161],[22,182,21,180],[22,183,21,181],[22,184,21,182],[23,6,22,4],[23,10,22,8,"info"],[23,14,22,12],[23,17,22,15,"collection"],[23,27,22,25],[23,28,22,26,"modelClass"],[23,38,22,36],[23,39,22,37,"associations"],[23,51,22,49],[23,52,22,50,"to"],[23,54,22,52],[23,55,22,53],[24,6,23,4],[24,7,23,5],[24,8,23,6],[24,10,23,8,"_invariant"],[24,20,23,18],[24,21,23,19,"default"],[24,28,23,26],[24,30,23,28,"info"],[24,34,23,32],[24,36,23,34],[24,48,23,46],[24,49,23,47,"concat"],[24,55,23,53],[24,56,23,54,"modelClass"],[24,66,23,64],[24,67,23,65,"table"],[24,72,23,70],[24,74,23,72],[24,102,23,100],[24,103,23,101],[24,104,23,102,"concat"],[24,110,23,108],[24,111,23,109,"from"],[24,115,23,113],[24,117,23,115],[24,125,23,123],[24,126,23,124],[24,127,23,125,"concat"],[24,133,23,131],[24,134,23,132,"to"],[24,136,23,134],[24,138,23,136],[24,147,23,145],[24,148,23,146],[24,149,23,147,"concat"],[24,155,23,153],[24,156,23,154,"collection"],[24,166,23,164],[24,167,23,165,"modelClass"],[24,177,23,175],[24,178,23,176,"name"],[24,182,23,180],[24,184,23,182],[24,230,23,228],[24,231,23,229],[24,232,23,230,"concat"],[24,238,23,236],[24,239,23,237,"to"],[24,241,23,239],[24,243,23,241],[24,246,23,244],[24,247,23,245],[24,248,23,246],[25,6,24,4],[25,13,24,11],[26,8,25,6,"from"],[26,12,25,10],[26,14,25,12,"from"],[26,18,25,16],[27,8,26,6,"to"],[27,10,26,8],[27,12,26,10,"to"],[27,14,26,12],[28,8,27,6,"info"],[28,12,27,10],[28,14,27,12,"info"],[29,6,28,4],[29,7,28,5],[30,4,29,2],[30,5,29,3],[30,6,29,4],[30,7,29,5],[31,2,30,0],[31,3,30,1],[32,0,30,2],[32,3]],"functionMap":{"names":["<global>","exports.getAssociations","description.joinTables.map$argument_0","description.nestedJoinTables.map$argument_0"],"mappings":"AAA;gDCM;oCCC;GDQ,0CE;GFa;CDC"},"hasCjsExports":true},"type":"js/module"}]}