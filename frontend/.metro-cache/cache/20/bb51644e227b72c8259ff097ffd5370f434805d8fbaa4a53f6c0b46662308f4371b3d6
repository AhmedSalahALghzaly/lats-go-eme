{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":3,"column":29,"index":44},"end":{"line":3,"column":84,"index":99}}],"key":"kslwqCIsh6ew+I1KeA1rlVRjsAk=","exportNames":["*"],"imports":1}},{"name":"../utils/common/invariant","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":10,"column":40,"index":351},"end":{"line":10,"column":76,"index":387}}],"key":"xXWoRmIvK22fz8BhZzrIVJrZW3I=","exportNames":["*"],"imports":1}},{"name":"../utils/fp/checkName","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":65,"column":20,"index":1833},"end":{"line":65,"column":52,"index":1865}}],"key":"SMzJbCIMgbq1YqTAu08FBE5LB/U=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _interopRequireDefault = require(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n  exports.__esModule = true;\n  exports.appSchema = appSchema;\n  exports.columnName = columnName;\n  exports.tableName = tableName;\n  exports.tableSchema = tableSchema;\n  exports.validateColumnSchema = validateColumnSchema;\n  var _invariant = _interopRequireDefault(require(_dependencyMap[1], \"../utils/common/invariant\"));\n  // NOTE: Only require files needed (critical path on web)\n  /**\n   * String that signifies a database table name (mapping to WatermelonDB Models)\n   */\n  /**\n   * String that signifies a database column name (mapping to WatermelonDB fields)\n   */\n  /**\n   * Type of a column\n   */\n  /**\n   * Definition of a table column\n   */\n  /**\n   * Creates a typed TableName\n   */\n  function tableName(name) {\n    return name;\n  }\n\n  /**\n   * Creates a typed ColumnName\n   */\n  function columnName(name) {\n    return name;\n  }\n\n  /**\n   * Creates a database schema object. Pass table definitions created using {@see tableSchema}\n   */\n  function appSchema(_ref) {\n    var version = _ref.version,\n      tableList = _ref.tables,\n      unsafeSql = _ref.unsafeSql;\n    if ('production' !== process.env.NODE_ENV) {\n      (0, _invariant.default)(0 < version, \"Schema version must be greater than 0\");\n    }\n    var tables = tableList.reduce(function (map, table) {\n      if ('production' !== process.env.NODE_ENV) {\n        (0, _invariant.default)('object' === typeof table && table.name, \"Table schema must contain a name\");\n      }\n      map[table.name] = table;\n      return map;\n    }, {});\n    return {\n      version: version,\n      tables: tables,\n      unsafeSql: unsafeSql\n    };\n  }\n  var validateName = function (name) {\n    if ('production' !== process.env.NODE_ENV) {\n      (0, _invariant.default)(!['id', '_changed', '_status', 'local_storage'].includes(name.toLowerCase()), \"Invalid column or table name '\".concat(name, \"' - reserved by WatermelonDB\"));\n      var checkName = require(_dependencyMap[2], \"../utils/fp/checkName\").default;\n      checkName(name);\n    }\n  };\n  function validateColumnSchema(column) {\n    if ('production' !== process.env.NODE_ENV) {\n      (0, _invariant.default)(column.name, \"Missing column name\");\n      validateName(column.name);\n      (0, _invariant.default)(['string', 'boolean', 'number'].includes(column.type), \"Invalid type \".concat(column.type, \" for column '\").concat(column.name, \"' (valid: string, boolean, number)\"));\n      if ('created_at' === column.name || 'updated_at' === column.name) {\n        (0, _invariant.default)('number' === column.type && !column.isOptional, \"\".concat(column.name, \" must be of type number and not optional\"));\n      }\n      if ('last_modified' === column.name) {\n        (0, _invariant.default)('number' === column.type, \"For compatibility reasons, column last_modified must be of type 'number', and should be optional\");\n      }\n    }\n  }\n\n  /**\n   * Creates a typed TableSchema\n   */\n  function tableSchema(_ref2) {\n    var name = _ref2.name,\n      columnArray = _ref2.columns,\n      unsafeSql = _ref2.unsafeSql;\n    if ('production' !== process.env.NODE_ENV) {\n      (0, _invariant.default)(name, \"Missing table name in schema\");\n      validateName(name);\n    }\n    var columns = columnArray.reduce(function (map, column) {\n      if ('production' !== process.env.NODE_ENV) {\n        validateColumnSchema(column);\n      }\n      map[column.name] = column;\n      return map;\n    }, {});\n    return {\n      name: name,\n      columns: columns,\n      columnArray: columnArray,\n      unsafeSql: unsafeSql\n    };\n  }\n});","lineCount":108,"map":[[2,2,1,0],[2,14,1,12],[4,2,3,0],[4,6,3,4,"_interopRequireDefault"],[4,28,3,26],[4,31,3,29,"require"],[4,38,3,36],[4,39,3,36,"_dependencyMap"],[4,53,3,36],[4,104,3,83],[4,105,3,84],[5,2,4,0,"exports"],[5,9,4,7],[5,10,4,8,"__esModule"],[5,20,4,18],[5,23,4,21],[5,27,4,25],[6,2,5,0,"exports"],[6,9,5,7],[6,10,5,8,"appSchema"],[6,19,5,17],[6,22,5,20,"appSchema"],[6,31,5,29],[7,2,6,0,"exports"],[7,9,6,7],[7,10,6,8,"columnName"],[7,20,6,18],[7,23,6,21,"columnName"],[7,33,6,31],[8,2,7,0,"exports"],[8,9,7,7],[8,10,7,8,"tableName"],[8,19,7,17],[8,22,7,20,"tableName"],[8,31,7,29],[9,2,8,0,"exports"],[9,9,8,7],[9,10,8,8,"tableSchema"],[9,21,8,19],[9,24,8,22,"tableSchema"],[9,35,8,33],[10,2,9,0,"exports"],[10,9,9,7],[10,10,9,8,"validateColumnSchema"],[10,30,9,28],[10,33,9,31,"validateColumnSchema"],[10,53,9,51],[11,2,10,0],[11,6,10,4,"_invariant"],[11,16,10,14],[11,19,10,17,"_interopRequireDefault"],[11,41,10,39],[11,42,10,40,"require"],[11,49,10,47],[11,50,10,47,"_dependencyMap"],[11,64,10,47],[11,96,10,75],[11,97,10,76],[11,98,10,77],[12,2,11,0],[13,2,12,0],[14,0,13,0],[15,0,14,0],[16,2,15,0],[17,0,16,0],[18,0,17,0],[19,2,18,0],[20,0,19,0],[21,0,20,0],[22,2,21,0],[23,0,22,0],[24,0,23,0],[25,2,24,0],[26,0,25,0],[27,0,26,0],[28,2,27,0],[28,11,27,9,"tableName"],[28,20,27,18,"tableName"],[28,21,27,19,"name"],[28,25,27,23],[28,27,27,25],[29,4,28,2],[29,11,28,9,"name"],[29,15,28,13],[30,2,29,0],[32,2,31,0],[33,0,32,0],[34,0,33,0],[35,2,34,0],[35,11,34,9,"columnName"],[35,21,34,19,"columnName"],[35,22,34,20,"name"],[35,26,34,24],[35,28,34,26],[36,4,35,2],[36,11,35,9,"name"],[36,15,35,13],[37,2,36,0],[39,2,38,0],[40,0,39,0],[41,0,40,0],[42,2,41,0],[42,11,41,9,"appSchema"],[42,20,41,18,"appSchema"],[42,21,41,18,"_ref"],[42,25,41,18],[42,27,45,3],[43,4,45,3],[43,8,42,11,"version"],[43,15,42,18],[43,18,42,18,"_ref"],[43,22,42,18],[43,23,42,2,"version"],[43,30,42,9],[44,6,43,10,"tableList"],[44,15,43,19],[44,18,43,19,"_ref"],[44,22,43,19],[44,23,43,2,"tables"],[44,29,43,8],[45,6,44,13,"unsafeSql"],[45,15,44,22],[45,18,44,22,"_ref"],[45,22,44,22],[45,23,44,2,"unsafeSql"],[45,32,44,11],[46,4,46,2],[46,8,46,6],[46,20,46,18],[46,25,46,23,"process"],[46,32,46,30],[46,33,46,31,"env"],[46,36,46,34],[46,37,46,35,"NODE_ENV"],[46,45,46,43],[46,47,46,45],[47,6,47,4],[47,7,47,5],[47,8,47,6],[47,10,47,8,"_invariant"],[47,20,47,18],[47,21,47,19,"default"],[47,28,47,26],[47,30,47,28],[47,31,47,29],[47,34,47,32,"version"],[47,41,47,39],[47,43,47,41],[47,82,47,80],[47,83,47,81],[48,4,48,2],[49,4,49,2],[49,8,49,6,"tables"],[49,14,49,12],[49,17,49,15,"tableList"],[49,26,49,24],[49,27,49,25,"reduce"],[49,33,49,31],[49,34,49,32],[49,44,49,42,"map"],[49,47,49,45],[49,49,49,47,"table"],[49,54,49,52],[49,56,49,54],[50,6,50,4],[50,10,50,8],[50,22,50,20],[50,27,50,25,"process"],[50,34,50,32],[50,35,50,33,"env"],[50,38,50,36],[50,39,50,37,"NODE_ENV"],[50,47,50,45],[50,49,50,47],[51,8,51,6],[51,9,51,7],[51,10,51,8],[51,12,51,10,"_invariant"],[51,22,51,20],[51,23,51,21,"default"],[51,30,51,28],[51,32,51,30],[51,40,51,38],[51,45,51,43],[51,52,51,50,"table"],[51,57,51,55],[51,61,51,59,"table"],[51,66,51,64],[51,67,51,65,"name"],[51,71,51,69],[51,73,51,71],[51,107,51,105],[51,108,51,106],[52,6,52,4],[53,6,53,4,"map"],[53,9,53,7],[53,10,53,8,"table"],[53,15,53,13],[53,16,53,14,"name"],[53,20,53,18],[53,21,53,19],[53,24,53,22,"table"],[53,29,53,27],[54,6,54,4],[54,13,54,11,"map"],[54,16,54,14],[55,4,55,2],[55,5,55,3],[55,7,55,5],[55,8,55,6],[55,9,55,7],[55,10,55,8],[56,4,56,2],[56,11,56,9],[57,6,57,4,"version"],[57,13,57,11],[57,15,57,13,"version"],[57,22,57,20],[58,6,58,4,"tables"],[58,12,58,10],[58,14,58,12,"tables"],[58,20,58,18],[59,6,59,4,"unsafeSql"],[59,15,59,13],[59,17,59,15,"unsafeSql"],[60,4,60,2],[60,5,60,3],[61,2,61,0],[62,2,62,0],[62,6,62,4,"validateName"],[62,18,62,16],[62,21,62,19],[62,30,62,19,"validateName"],[62,31,62,29,"name"],[62,35,62,33],[62,37,62,35],[63,4,63,2],[63,8,63,6],[63,20,63,18],[63,25,63,23,"process"],[63,32,63,30],[63,33,63,31,"env"],[63,36,63,34],[63,37,63,35,"NODE_ENV"],[63,45,63,43],[63,47,63,45],[64,6,64,4],[64,7,64,5],[64,8,64,6],[64,10,64,8,"_invariant"],[64,20,64,18],[64,21,64,19,"default"],[64,28,64,26],[64,30,64,28],[64,31,64,29],[64,32,64,30],[64,36,64,34],[64,38,64,36],[64,48,64,46],[64,50,64,48],[64,59,64,57],[64,61,64,59],[64,76,64,74],[64,77,64,75],[64,78,64,76,"includes"],[64,86,64,84],[64,87,64,85,"name"],[64,91,64,89],[64,92,64,90,"toLowerCase"],[64,103,64,101],[64,104,64,102],[64,105,64,103],[64,106,64,104],[64,108,64,106],[64,140,64,138],[64,141,64,139,"concat"],[64,147,64,145],[64,148,64,146,"name"],[64,152,64,150],[64,154,64,152],[64,184,64,182],[64,185,64,183],[64,186,64,184],[65,6,65,4],[65,10,65,8,"checkName"],[65,19,65,17],[65,22,65,20,"require"],[65,29,65,27],[65,30,65,27,"_dependencyMap"],[65,44,65,27],[65,72,65,51],[65,73,65,52],[65,74,65,53,"default"],[65,81,65,60],[66,6,66,4,"checkName"],[66,15,66,13],[66,16,66,14,"name"],[66,20,66,18],[66,21,66,19],[67,4,67,2],[68,2,68,0],[68,3,68,1],[69,2,69,0],[69,11,69,9,"validateColumnSchema"],[69,31,69,29,"validateColumnSchema"],[69,32,69,30,"column"],[69,38,69,36],[69,40,69,38],[70,4,70,2],[70,8,70,6],[70,20,70,18],[70,25,70,23,"process"],[70,32,70,30],[70,33,70,31,"env"],[70,36,70,34],[70,37,70,35,"NODE_ENV"],[70,45,70,43],[70,47,70,45],[71,6,71,4],[71,7,71,5],[71,8,71,6],[71,10,71,8,"_invariant"],[71,20,71,18],[71,21,71,19,"default"],[71,28,71,26],[71,30,71,28,"column"],[71,36,71,34],[71,37,71,35,"name"],[71,41,71,39],[71,43,71,41],[71,64,71,62],[71,65,71,63],[72,6,72,4,"validateName"],[72,18,72,16],[72,19,72,17,"column"],[72,25,72,23],[72,26,72,24,"name"],[72,30,72,28],[72,31,72,29],[73,6,73,4],[73,7,73,5],[73,8,73,6],[73,10,73,8,"_invariant"],[73,20,73,18],[73,21,73,19,"default"],[73,28,73,26],[73,30,73,28],[73,31,73,29],[73,39,73,37],[73,41,73,39],[73,50,73,48],[73,52,73,50],[73,60,73,58],[73,61,73,59],[73,62,73,60,"includes"],[73,70,73,68],[73,71,73,69,"column"],[73,77,73,75],[73,78,73,76,"type"],[73,82,73,80],[73,83,73,81],[73,85,73,83],[73,100,73,98],[73,101,73,99,"concat"],[73,107,73,105],[73,108,73,106,"column"],[73,114,73,112],[73,115,73,113,"type"],[73,119,73,117],[73,121,73,119],[73,136,73,134],[73,137,73,135],[73,138,73,136,"concat"],[73,144,73,142],[73,145,73,143,"column"],[73,151,73,149],[73,152,73,150,"name"],[73,156,73,154],[73,158,73,156],[73,194,73,192],[73,195,73,193],[73,196,73,194],[74,6,74,4],[74,10,74,8],[74,22,74,20],[74,27,74,25,"column"],[74,33,74,31],[74,34,74,32,"name"],[74,38,74,36],[74,42,74,40],[74,54,74,52],[74,59,74,57,"column"],[74,65,74,63],[74,66,74,64,"name"],[74,70,74,68],[74,72,74,70],[75,8,75,6],[75,9,75,7],[75,10,75,8],[75,12,75,10,"_invariant"],[75,22,75,20],[75,23,75,21,"default"],[75,30,75,28],[75,32,75,30],[75,40,75,38],[75,45,75,43,"column"],[75,51,75,49],[75,52,75,50,"type"],[75,56,75,54],[75,60,75,58],[75,61,75,59,"column"],[75,67,75,65],[75,68,75,66,"isOptional"],[75,78,75,76],[75,80,75,78],[75,82,75,80],[75,83,75,81,"concat"],[75,89,75,87],[75,90,75,88,"column"],[75,96,75,94],[75,97,75,95,"name"],[75,101,75,99],[75,103,75,101],[75,145,75,143],[75,146,75,144],[75,147,75,145],[76,6,76,4],[77,6,77,4],[77,10,77,8],[77,25,77,23],[77,30,77,28,"column"],[77,36,77,34],[77,37,77,35,"name"],[77,41,77,39],[77,43,77,41],[78,8,78,6],[78,9,78,7],[78,10,78,8],[78,12,78,10,"_invariant"],[78,22,78,20],[78,23,78,21,"default"],[78,30,78,28],[78,32,78,30],[78,40,78,38],[78,45,78,43,"column"],[78,51,78,49],[78,52,78,50,"type"],[78,56,78,54],[78,58,78,56],[78,156,78,154],[78,157,78,155],[79,6,79,4],[80,4,80,2],[81,2,81,0],[83,2,83,0],[84,0,84,0],[85,0,85,0],[86,2,86,0],[86,11,86,9,"tableSchema"],[86,22,86,20,"tableSchema"],[86,23,86,20,"_ref2"],[86,28,86,20],[86,30,90,3],[87,4,90,3],[87,8,87,8,"name"],[87,12,87,12],[87,15,87,12,"_ref2"],[87,20,87,12],[87,21,87,2,"name"],[87,25,87,6],[88,6,88,11,"columnArray"],[88,17,88,22],[88,20,88,22,"_ref2"],[88,25,88,22],[88,26,88,2,"columns"],[88,33,88,9],[89,6,89,13,"unsafeSql"],[89,15,89,22],[89,18,89,22,"_ref2"],[89,23,89,22],[89,24,89,2,"unsafeSql"],[89,33,89,11],[90,4,91,2],[90,8,91,6],[90,20,91,18],[90,25,91,23,"process"],[90,32,91,30],[90,33,91,31,"env"],[90,36,91,34],[90,37,91,35,"NODE_ENV"],[90,45,91,43],[90,47,91,45],[91,6,92,4],[91,7,92,5],[91,8,92,6],[91,10,92,8,"_invariant"],[91,20,92,18],[91,21,92,19,"default"],[91,28,92,26],[91,30,92,28,"name"],[91,34,92,32],[91,36,92,34],[91,66,92,64],[91,67,92,65],[92,6,93,4,"validateName"],[92,18,93,16],[92,19,93,17,"name"],[92,23,93,21],[92,24,93,22],[93,4,94,2],[94,4,95,2],[94,8,95,6,"columns"],[94,15,95,13],[94,18,95,16,"columnArray"],[94,29,95,27],[94,30,95,28,"reduce"],[94,36,95,34],[94,37,95,35],[94,47,95,45,"map"],[94,50,95,48],[94,52,95,50,"column"],[94,58,95,56],[94,60,95,58],[95,6,96,4],[95,10,96,8],[95,22,96,20],[95,27,96,25,"process"],[95,34,96,32],[95,35,96,33,"env"],[95,38,96,36],[95,39,96,37,"NODE_ENV"],[95,47,96,45],[95,49,96,47],[96,8,97,6,"validateColumnSchema"],[96,28,97,26],[96,29,97,27,"column"],[96,35,97,33],[96,36,97,34],[97,6,98,4],[98,6,99,4,"map"],[98,9,99,7],[98,10,99,8,"column"],[98,16,99,14],[98,17,99,15,"name"],[98,21,99,19],[98,22,99,20],[98,25,99,23,"column"],[98,31,99,29],[99,6,100,4],[99,13,100,11,"map"],[99,16,100,14],[100,4,101,2],[100,5,101,3],[100,7,101,5],[100,8,101,6],[100,9,101,7],[100,10,101,8],[101,4,102,2],[101,11,102,9],[102,6,103,4,"name"],[102,10,103,8],[102,12,103,10,"name"],[102,16,103,14],[103,6,104,4,"columns"],[103,13,104,11],[103,15,104,13,"columns"],[103,22,104,20],[104,6,105,4,"columnArray"],[104,17,105,15],[104,19,105,17,"columnArray"],[104,30,105,28],[105,6,106,4,"unsafeSql"],[105,15,106,13],[105,17,106,15,"unsafeSql"],[106,4,107,2],[106,5,107,3],[107,2,108,0],[108,0,108,1],[108,3]],"functionMap":{"names":["<global>","tableName","columnName","appSchema","tableList.reduce$argument_0","validateName","validateColumnSchema","tableSchema","columnArray.reduce$argument_0"],"mappings":"AAA;AC0B;CDE;AEK;CFE;AGK;gCCQ;GDM;CHM;mBKC;CLM;AMC;CNY;AOK;mCCS;GDM"},"hasCjsExports":true},"type":"js/module"}]}