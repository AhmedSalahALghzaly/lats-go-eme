{"dependencies":[{"name":"../util/lift","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":4,"column":13,"index":117},"end":{"line":4,"column":36,"index":140}}],"key":"QCxE0PdfaUm4cT9qPVYaaaoo46A=","exportNames":["*"],"imports":1}},{"name":"./OperatorSubscriber","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":5,"column":27,"index":169},"end":{"line":5,"column":58,"index":200}}],"key":"5a4JxA+rxI0MIxewBKZddpWmHrQ=","exportNames":["*"],"imports":1}},{"name":"../observable/innerFrom","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":6,"column":18,"index":220},"end":{"line":6,"column":52,"index":254}}],"key":"T4CuDoHB9q4c1mpqb7scn7763KE=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.throttle = void 0;\n  var lift_1 = require(_dependencyMap[0], \"../util/lift\");\n  var OperatorSubscriber_1 = require(_dependencyMap[1], \"./OperatorSubscriber\");\n  var innerFrom_1 = require(_dependencyMap[2], \"../observable/innerFrom\");\n  function throttle(durationSelector, config) {\n    return lift_1.operate(function (source, subscriber) {\n      var _a = config !== null && config !== void 0 ? config : {},\n        _b = _a.leading,\n        leading = _b === void 0 ? true : _b,\n        _c = _a.trailing,\n        trailing = _c === void 0 ? false : _c;\n      var hasValue = false;\n      var sendValue = null;\n      var throttled = null;\n      var isComplete = false;\n      var endThrottling = function () {\n        throttled === null || throttled === void 0 ? void 0 : throttled.unsubscribe();\n        throttled = null;\n        if (trailing) {\n          send();\n          isComplete && subscriber.complete();\n        }\n      };\n      var cleanupThrottling = function () {\n        throttled = null;\n        isComplete && subscriber.complete();\n      };\n      var startThrottle = function (value) {\n        return throttled = innerFrom_1.innerFrom(durationSelector(value)).subscribe(OperatorSubscriber_1.createOperatorSubscriber(subscriber, endThrottling, cleanupThrottling));\n      };\n      var send = function () {\n        if (hasValue) {\n          hasValue = false;\n          var value = sendValue;\n          sendValue = null;\n          subscriber.next(value);\n          !isComplete && startThrottle(value);\n        }\n      };\n      source.subscribe(OperatorSubscriber_1.createOperatorSubscriber(subscriber, function (value) {\n        hasValue = true;\n        sendValue = value;\n        !(throttled && !throttled.closed) && (leading ? send() : startThrottle(value));\n      }, function () {\n        isComplete = true;\n        !(trailing && hasValue && throttled && !throttled.closed) && subscriber.complete();\n      }));\n    });\n  }\n  exports.throttle = throttle;\n});","lineCount":57,"map":[[2,2,1,0],[2,14,1,12],[4,2,2,0,"Object"],[4,8,2,6],[4,9,2,7,"defineProperty"],[4,23,2,21],[4,24,2,22,"exports"],[4,31,2,29],[4,33,2,31],[4,45,2,43],[4,47,2,45],[5,4,2,47,"value"],[5,9,2,52],[5,11,2,54],[6,2,2,59],[6,3,2,60],[6,4,2,61],[7,2,3,0,"exports"],[7,9,3,7],[7,10,3,8,"throttle"],[7,18,3,16],[7,21,3,19],[7,26,3,24],[7,27,3,25],[8,2,4,0],[8,6,4,4,"lift_1"],[8,12,4,10],[8,15,4,13,"require"],[8,22,4,20],[8,23,4,20,"_dependencyMap"],[8,37,4,20],[8,56,4,35],[8,57,4,36],[9,2,5,0],[9,6,5,4,"OperatorSubscriber_1"],[9,26,5,24],[9,29,5,27,"require"],[9,36,5,34],[9,37,5,34,"_dependencyMap"],[9,51,5,34],[9,78,5,57],[9,79,5,58],[10,2,6,0],[10,6,6,4,"innerFrom_1"],[10,17,6,15],[10,20,6,18,"require"],[10,27,6,25],[10,28,6,25,"_dependencyMap"],[10,42,6,25],[10,72,6,51],[10,73,6,52],[11,2,7,0],[11,11,7,9,"throttle"],[11,19,7,17,"throttle"],[11,20,7,18,"durationSelector"],[11,36,7,34],[11,38,7,36,"config"],[11,44,7,42],[11,46,7,44],[12,4,8,4],[12,11,8,11,"lift_1"],[12,17,8,17],[12,18,8,18,"operate"],[12,25,8,25],[12,26,8,26],[12,36,8,36,"source"],[12,42,8,42],[12,44,8,44,"subscriber"],[12,54,8,54],[12,56,8,56],[13,6,9,8],[13,10,9,12,"_a"],[13,12,9,14],[13,15,9,17,"config"],[13,21,9,23],[13,26,9,28],[13,30,9,32],[13,34,9,36,"config"],[13,40,9,42],[13,45,9,47],[13,50,9,52],[13,51,9,53],[13,54,9,56,"config"],[13,60,9,62],[13,63,9,65],[13,64,9,66],[13,65,9,67],[14,8,9,69,"_b"],[14,10,9,71],[14,13,9,74,"_a"],[14,15,9,76],[14,16,9,77,"leading"],[14,23,9,84],[15,8,9,86,"leading"],[15,15,9,93],[15,18,9,96,"_b"],[15,20,9,98],[15,25,9,103],[15,30,9,108],[15,31,9,109],[15,34,9,112],[15,38,9,116],[15,41,9,119,"_b"],[15,43,9,121],[16,8,9,123,"_c"],[16,10,9,125],[16,13,9,128,"_a"],[16,15,9,130],[16,16,9,131,"trailing"],[16,24,9,139],[17,8,9,141,"trailing"],[17,16,9,149],[17,19,9,152,"_c"],[17,21,9,154],[17,26,9,159],[17,31,9,164],[17,32,9,165],[17,35,9,168],[17,40,9,173],[17,43,9,176,"_c"],[17,45,9,178],[18,6,10,8],[18,10,10,12,"hasValue"],[18,18,10,20],[18,21,10,23],[18,26,10,28],[19,6,11,8],[19,10,11,12,"sendValue"],[19,19,11,21],[19,22,11,24],[19,26,11,28],[20,6,12,8],[20,10,12,12,"throttled"],[20,19,12,21],[20,22,12,24],[20,26,12,28],[21,6,13,8],[21,10,13,12,"isComplete"],[21,20,13,22],[21,23,13,25],[21,28,13,30],[22,6,14,8],[22,10,14,12,"endThrottling"],[22,23,14,25],[22,26,14,28],[22,35,14,28,"endThrottling"],[22,36,14,28],[22,38,14,40],[23,8,15,12,"throttled"],[23,17,15,21],[23,22,15,26],[23,26,15,30],[23,30,15,34,"throttled"],[23,39,15,43],[23,44,15,48],[23,49,15,53],[23,50,15,54],[23,53,15,57],[23,58,15,62],[23,59,15,63],[23,62,15,66,"throttled"],[23,71,15,75],[23,72,15,76,"unsubscribe"],[23,83,15,87],[23,84,15,88],[23,85,15,89],[24,8,16,12,"throttled"],[24,17,16,21],[24,20,16,24],[24,24,16,28],[25,8,17,12],[25,12,17,16,"trailing"],[25,20,17,24],[25,22,17,26],[26,10,18,16,"send"],[26,14,18,20],[26,15,18,21],[26,16,18,22],[27,10,19,16,"isComplete"],[27,20,19,26],[27,24,19,30,"subscriber"],[27,34,19,40],[27,35,19,41,"complete"],[27,43,19,49],[27,44,19,50],[27,45,19,51],[28,8,20,12],[29,6,21,8],[29,7,21,9],[30,6,22,8],[30,10,22,12,"cleanupThrottling"],[30,27,22,29],[30,30,22,32],[30,39,22,32,"cleanupThrottling"],[30,40,22,32],[30,42,22,44],[31,8,23,12,"throttled"],[31,17,23,21],[31,20,23,24],[31,24,23,28],[32,8,24,12,"isComplete"],[32,18,24,22],[32,22,24,26,"subscriber"],[32,32,24,36],[32,33,24,37,"complete"],[32,41,24,45],[32,42,24,46],[32,43,24,47],[33,6,25,8],[33,7,25,9],[34,6,26,8],[34,10,26,12,"startThrottle"],[34,23,26,25],[34,26,26,28],[34,35,26,28,"startThrottle"],[34,36,26,38,"value"],[34,41,26,43],[34,43,26,45],[35,8,27,12],[35,15,27,20,"throttled"],[35,24,27,29],[35,27,27,32,"innerFrom_1"],[35,38,27,43],[35,39,27,44,"innerFrom"],[35,48,27,53],[35,49,27,54,"durationSelector"],[35,65,27,70],[35,66,27,71,"value"],[35,71,27,76],[35,72,27,77],[35,73,27,78],[35,74,27,79,"subscribe"],[35,83,27,88],[35,84,27,89,"OperatorSubscriber_1"],[35,104,27,109],[35,105,27,110,"createOperatorSubscriber"],[35,129,27,134],[35,130,27,135,"subscriber"],[35,140,27,145],[35,142,27,147,"endThrottling"],[35,155,27,160],[35,157,27,162,"cleanupThrottling"],[35,174,27,179],[35,175,27,180],[35,176,27,181],[36,6,28,8],[36,7,28,9],[37,6,29,8],[37,10,29,12,"send"],[37,14,29,16],[37,17,29,19],[37,26,29,19,"send"],[37,27,29,19],[37,29,29,31],[38,8,30,12],[38,12,30,16,"hasValue"],[38,20,30,24],[38,22,30,26],[39,10,31,16,"hasValue"],[39,18,31,24],[39,21,31,27],[39,26,31,32],[40,10,32,16],[40,14,32,20,"value"],[40,19,32,25],[40,22,32,28,"sendValue"],[40,31,32,37],[41,10,33,16,"sendValue"],[41,19,33,25],[41,22,33,28],[41,26,33,32],[42,10,34,16,"subscriber"],[42,20,34,26],[42,21,34,27,"next"],[42,25,34,31],[42,26,34,32,"value"],[42,31,34,37],[42,32,34,38],[43,10,35,16],[43,11,35,17,"isComplete"],[43,21,35,27],[43,25,35,31,"startThrottle"],[43,38,35,44],[43,39,35,45,"value"],[43,44,35,50],[43,45,35,51],[44,8,36,12],[45,6,37,8],[45,7,37,9],[46,6,38,8,"source"],[46,12,38,14],[46,13,38,15,"subscribe"],[46,22,38,24],[46,23,38,25,"OperatorSubscriber_1"],[46,43,38,45],[46,44,38,46,"createOperatorSubscriber"],[46,68,38,70],[46,69,38,71,"subscriber"],[46,79,38,81],[46,81,38,83],[46,91,38,93,"value"],[46,96,38,98],[46,98,38,100],[47,8,39,12,"hasValue"],[47,16,39,20],[47,19,39,23],[47,23,39,27],[48,8,40,12,"sendValue"],[48,17,40,21],[48,20,40,24,"value"],[48,25,40,29],[49,8,41,12],[49,10,41,14,"throttled"],[49,19,41,23],[49,23,41,27],[49,24,41,28,"throttled"],[49,33,41,37],[49,34,41,38,"closed"],[49,40,41,44],[49,41,41,45],[49,46,41,50,"leading"],[49,53,41,57],[49,56,41,60,"send"],[49,60,41,64],[49,61,41,65],[49,62,41,66],[49,65,41,69,"startThrottle"],[49,78,41,82],[49,79,41,83,"value"],[49,84,41,88],[49,85,41,89],[49,86,41,90],[50,6,42,8],[50,7,42,9],[50,9,42,11],[50,21,42,23],[51,8,43,12,"isComplete"],[51,18,43,22],[51,21,43,25],[51,25,43,29],[52,8,44,12],[52,10,44,14,"trailing"],[52,18,44,22],[52,22,44,26,"hasValue"],[52,30,44,34],[52,34,44,38,"throttled"],[52,43,44,47],[52,47,44,51],[52,48,44,52,"throttled"],[52,57,44,61],[52,58,44,62,"closed"],[52,64,44,68],[52,65,44,69],[52,69,44,73,"subscriber"],[52,79,44,83],[52,80,44,84,"complete"],[52,88,44,92],[52,89,44,93],[52,90,44,94],[53,6,45,8],[53,7,45,9],[53,8,45,10],[53,9,45,11],[54,4,46,4],[54,5,46,5],[54,6,46,6],[55,2,47,0],[56,2,48,0,"exports"],[56,9,48,7],[56,10,48,8,"throttle"],[56,18,48,16],[56,21,48,19,"throttle"],[56,29,48,27],[57,0,48,28],[57,3]],"functionMap":{"names":["<global>","throttle","lift_1.operate$argument_0","endThrottling","cleanupThrottling","startThrottle","send","OperatorSubscriber_1.createOperatorSubscriber$argument_1","OperatorSubscriber_1.createOperatorSubscriber$argument_2"],"mappings":"AAA;ACM;0BCC;4BCM;SDO;gCEC;SFG;4BGC;SHE;mBIC;SJQ;mFKC;SLI,EM;SNG;KDC;CDC"},"hasCjsExports":true},"type":"js/module"}]}