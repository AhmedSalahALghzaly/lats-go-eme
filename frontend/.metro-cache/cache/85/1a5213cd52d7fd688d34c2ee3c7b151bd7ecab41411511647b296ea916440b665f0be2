{"dependencies":[{"name":"../Subject","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":15,"column":16,"index":584},"end":{"line":15,"column":37,"index":605}}],"key":"rCTmTYO6TJ25UVDxGzxJlC7LYfM=","exportNames":["*"],"imports":1}},{"name":"../util/lift","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":16,"column":13,"index":620},"end":{"line":16,"column":36,"index":643}}],"key":"QCxE0PdfaUm4cT9qPVYaaaoo46A=","exportNames":["*"],"imports":1}},{"name":"./OperatorSubscriber","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":17,"column":27,"index":672},"end":{"line":17,"column":58,"index":703}}],"key":"5a4JxA+rxI0MIxewBKZddpWmHrQ=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var __values = this && this.__values || function (o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator,\n      m = s && o[s],\n      i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n      next: function () {\n        if (o && i >= o.length) o = void 0;\n        return {\n          value: o && o[i++],\n          done: !o\n        };\n      }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n  };\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.windowCount = void 0;\n  var Subject_1 = require(_dependencyMap[0], \"../Subject\");\n  var lift_1 = require(_dependencyMap[1], \"../util/lift\");\n  var OperatorSubscriber_1 = require(_dependencyMap[2], \"./OperatorSubscriber\");\n  function windowCount(windowSize, startWindowEvery) {\n    if (startWindowEvery === void 0) {\n      startWindowEvery = 0;\n    }\n    var startEvery = startWindowEvery > 0 ? startWindowEvery : windowSize;\n    return lift_1.operate(function (source, subscriber) {\n      var windows = [new Subject_1.Subject()];\n      var starts = [];\n      var count = 0;\n      subscriber.next(windows[0].asObservable());\n      source.subscribe(OperatorSubscriber_1.createOperatorSubscriber(subscriber, function (value) {\n        var e_1, _a;\n        try {\n          for (var windows_1 = __values(windows), windows_1_1 = windows_1.next(); !windows_1_1.done; windows_1_1 = windows_1.next()) {\n            var window_1 = windows_1_1.value;\n            window_1.next(value);\n          }\n        } catch (e_1_1) {\n          e_1 = {\n            error: e_1_1\n          };\n        } finally {\n          try {\n            if (windows_1_1 && !windows_1_1.done && (_a = windows_1.return)) _a.call(windows_1);\n          } finally {\n            if (e_1) throw e_1.error;\n          }\n        }\n        var c = count - windowSize + 1;\n        if (c >= 0 && c % startEvery === 0) {\n          windows.shift().complete();\n        }\n        if (++count % startEvery === 0) {\n          var window_2 = new Subject_1.Subject();\n          windows.push(window_2);\n          subscriber.next(window_2.asObservable());\n        }\n      }, function () {\n        while (windows.length > 0) {\n          windows.shift().complete();\n        }\n        subscriber.complete();\n      }, function (err) {\n        while (windows.length > 0) {\n          windows.shift().error(err);\n        }\n        subscriber.error(err);\n      }, function () {\n        starts = null;\n        windows = null;\n      }));\n    });\n  }\n  exports.windowCount = windowCount;\n});","lineCount":81,"map":[[2,2,1,0],[2,14,1,12],[4,2,2,0],[4,6,2,4,"__values"],[4,14,2,12],[4,17,2,16],[4,21,2,20],[4,25,2,24],[4,29,2,28],[4,30,2,29,"__values"],[4,38,2,37],[4,42,2,42],[4,52,2,51,"o"],[4,53,2,52],[4,55,2,54],[5,4,3,4],[5,8,3,8,"s"],[5,9,3,9],[5,12,3,12],[5,19,3,19,"Symbol"],[5,25,3,25],[5,30,3,30],[5,40,3,40],[5,44,3,44,"Symbol"],[5,50,3,50],[5,51,3,51,"iterator"],[5,59,3,59],[6,6,3,61,"m"],[6,7,3,62],[6,10,3,65,"s"],[6,11,3,66],[6,15,3,70,"o"],[6,16,3,71],[6,17,3,72,"s"],[6,18,3,73],[6,19,3,74],[7,6,3,76,"i"],[7,7,3,77],[7,10,3,80],[7,11,3,81],[8,4,4,4],[8,8,4,8,"m"],[8,9,4,9],[8,11,4,11],[8,18,4,18,"m"],[8,19,4,19],[8,20,4,20,"call"],[8,24,4,24],[8,25,4,25,"o"],[8,26,4,26],[8,27,4,27],[9,4,5,4],[9,8,5,8,"o"],[9,9,5,9],[9,13,5,13],[9,20,5,20,"o"],[9,21,5,21],[9,22,5,22,"length"],[9,28,5,28],[9,33,5,33],[9,41,5,41],[9,43,5,43],[9,50,5,50],[10,6,6,8,"next"],[10,10,6,12],[10,12,6,14],[10,21,6,14,"next"],[10,22,6,14],[10,24,6,26],[11,8,7,12],[11,12,7,16,"o"],[11,13,7,17],[11,17,7,21,"i"],[11,18,7,22],[11,22,7,26,"o"],[11,23,7,27],[11,24,7,28,"length"],[11,30,7,34],[11,32,7,36,"o"],[11,33,7,37],[11,36,7,40],[11,41,7,45],[11,42,7,46],[12,8,8,12],[12,15,8,19],[13,10,8,21,"value"],[13,15,8,26],[13,17,8,28,"o"],[13,18,8,29],[13,22,8,33,"o"],[13,23,8,34],[13,24,8,35,"i"],[13,25,8,36],[13,27,8,38],[13,28,8,39],[14,10,8,41,"done"],[14,14,8,45],[14,16,8,47],[14,17,8,48,"o"],[15,8,8,50],[15,9,8,51],[16,6,9,8],[17,4,10,4],[17,5,10,5],[18,4,11,4],[18,10,11,10],[18,14,11,14,"TypeError"],[18,23,11,23],[18,24,11,24,"s"],[18,25,11,25],[18,28,11,28],[18,53,11,53],[18,56,11,56],[18,89,11,89],[18,90,11,90],[19,2,12,0],[19,3,12,1],[20,2,13,0,"Object"],[20,8,13,6],[20,9,13,7,"defineProperty"],[20,23,13,21],[20,24,13,22,"exports"],[20,31,13,29],[20,33,13,31],[20,45,13,43],[20,47,13,45],[21,4,13,47,"value"],[21,9,13,52],[21,11,13,54],[22,2,13,59],[22,3,13,60],[22,4,13,61],[23,2,14,0,"exports"],[23,9,14,7],[23,10,14,8,"windowCount"],[23,21,14,19],[23,24,14,22],[23,29,14,27],[23,30,14,28],[24,2,15,0],[24,6,15,4,"Subject_1"],[24,15,15,13],[24,18,15,16,"require"],[24,25,15,23],[24,26,15,23,"_dependencyMap"],[24,40,15,23],[24,57,15,36],[24,58,15,37],[25,2,16,0],[25,6,16,4,"lift_1"],[25,12,16,10],[25,15,16,13,"require"],[25,22,16,20],[25,23,16,20,"_dependencyMap"],[25,37,16,20],[25,56,16,35],[25,57,16,36],[26,2,17,0],[26,6,17,4,"OperatorSubscriber_1"],[26,26,17,24],[26,29,17,27,"require"],[26,36,17,34],[26,37,17,34,"_dependencyMap"],[26,51,17,34],[26,78,17,57],[26,79,17,58],[27,2,18,0],[27,11,18,9,"windowCount"],[27,22,18,20,"windowCount"],[27,23,18,21,"windowSize"],[27,33,18,31],[27,35,18,33,"startWindowEvery"],[27,51,18,49],[27,53,18,51],[28,4,19,4],[28,8,19,8,"startWindowEvery"],[28,24,19,24],[28,29,19,29],[28,34,19,34],[28,35,19,35],[28,37,19,37],[29,6,19,39,"startWindowEvery"],[29,22,19,55],[29,25,19,58],[29,26,19,59],[30,4,19,61],[31,4,20,4],[31,8,20,8,"startEvery"],[31,18,20,18],[31,21,20,21,"startWindowEvery"],[31,37,20,37],[31,40,20,40],[31,41,20,41],[31,44,20,44,"startWindowEvery"],[31,60,20,60],[31,63,20,63,"windowSize"],[31,73,20,73],[32,4,21,4],[32,11,21,11,"lift_1"],[32,17,21,17],[32,18,21,18,"operate"],[32,25,21,25],[32,26,21,26],[32,36,21,36,"source"],[32,42,21,42],[32,44,21,44,"subscriber"],[32,54,21,54],[32,56,21,56],[33,6,22,8],[33,10,22,12,"windows"],[33,17,22,19],[33,20,22,22],[33,21,22,23],[33,25,22,27,"Subject_1"],[33,34,22,36],[33,35,22,37,"Subject"],[33,42,22,44],[33,43,22,45],[33,44,22,46],[33,45,22,47],[34,6,23,8],[34,10,23,12,"starts"],[34,16,23,18],[34,19,23,21],[34,21,23,23],[35,6,24,8],[35,10,24,12,"count"],[35,15,24,17],[35,18,24,20],[35,19,24,21],[36,6,25,8,"subscriber"],[36,16,25,18],[36,17,25,19,"next"],[36,21,25,23],[36,22,25,24,"windows"],[36,29,25,31],[36,30,25,32],[36,31,25,33],[36,32,25,34],[36,33,25,35,"asObservable"],[36,45,25,47],[36,46,25,48],[36,47,25,49],[36,48,25,50],[37,6,26,8,"source"],[37,12,26,14],[37,13,26,15,"subscribe"],[37,22,26,24],[37,23,26,25,"OperatorSubscriber_1"],[37,43,26,45],[37,44,26,46,"createOperatorSubscriber"],[37,68,26,70],[37,69,26,71,"subscriber"],[37,79,26,81],[37,81,26,83],[37,91,26,93,"value"],[37,96,26,98],[37,98,26,100],[38,8,27,12],[38,12,27,16,"e_1"],[38,15,27,19],[38,17,27,21,"_a"],[38,19,27,23],[39,8,28,12],[39,12,28,16],[40,10,29,16],[40,15,29,21],[40,19,29,25,"windows_1"],[40,28,29,34],[40,31,29,37,"__values"],[40,39,29,45],[40,40,29,46,"windows"],[40,47,29,53],[40,48,29,54],[40,50,29,56,"windows_1_1"],[40,61,29,67],[40,64,29,70,"windows_1"],[40,73,29,79],[40,74,29,80,"next"],[40,78,29,84],[40,79,29,85],[40,80,29,86],[40,82,29,88],[40,83,29,89,"windows_1_1"],[40,94,29,100],[40,95,29,101,"done"],[40,99,29,105],[40,101,29,107,"windows_1_1"],[40,112,29,118],[40,115,29,121,"windows_1"],[40,124,29,130],[40,125,29,131,"next"],[40,129,29,135],[40,130,29,136],[40,131,29,137],[40,133,29,139],[41,12,30,20],[41,16,30,24,"window_1"],[41,24,30,32],[41,27,30,35,"windows_1_1"],[41,38,30,46],[41,39,30,47,"value"],[41,44,30,52],[42,12,31,20,"window_1"],[42,20,31,28],[42,21,31,29,"next"],[42,25,31,33],[42,26,31,34,"value"],[42,31,31,39],[42,32,31,40],[43,10,32,16],[44,8,33,12],[44,9,33,13],[44,10,34,12],[44,17,34,19,"e_1_1"],[44,22,34,24],[44,24,34,26],[45,10,34,28,"e_1"],[45,13,34,31],[45,16,34,34],[46,12,34,36,"error"],[46,17,34,41],[46,19,34,43,"e_1_1"],[47,10,34,49],[47,11,34,50],[48,8,34,52],[48,9,34,53],[48,18,35,20],[49,10,36,16],[49,14,36,20],[50,12,37,20],[50,16,37,24,"windows_1_1"],[50,27,37,35],[50,31,37,39],[50,32,37,40,"windows_1_1"],[50,43,37,51],[50,44,37,52,"done"],[50,48,37,56],[50,53,37,61,"_a"],[50,55,37,63],[50,58,37,66,"windows_1"],[50,67,37,75],[50,68,37,76,"return"],[50,74,37,82],[50,75,37,83],[50,77,37,85,"_a"],[50,79,37,87],[50,80,37,88,"call"],[50,84,37,92],[50,85,37,93,"windows_1"],[50,94,37,102],[50,95,37,103],[51,10,38,16],[51,11,38,17],[51,20,39,24],[52,12,39,26],[52,16,39,30,"e_1"],[52,19,39,33],[52,21,39,35],[52,27,39,41,"e_1"],[52,30,39,44],[52,31,39,45,"error"],[52,36,39,50],[53,10,39,52],[54,8,40,12],[55,8,41,12],[55,12,41,16,"c"],[55,13,41,17],[55,16,41,20,"count"],[55,21,41,25],[55,24,41,28,"windowSize"],[55,34,41,38],[55,37,41,41],[55,38,41,42],[56,8,42,12],[56,12,42,16,"c"],[56,13,42,17],[56,17,42,21],[56,18,42,22],[56,22,42,26,"c"],[56,23,42,27],[56,26,42,30,"startEvery"],[56,36,42,40],[56,41,42,45],[56,42,42,46],[56,44,42,48],[57,10,43,16,"windows"],[57,17,43,23],[57,18,43,24,"shift"],[57,23,43,29],[57,24,43,30],[57,25,43,31],[57,26,43,32,"complete"],[57,34,43,40],[57,35,43,41],[57,36,43,42],[58,8,44,12],[59,8,45,12],[59,12,45,16],[59,14,45,18,"count"],[59,19,45,23],[59,22,45,26,"startEvery"],[59,32,45,36],[59,37,45,41],[59,38,45,42],[59,40,45,44],[60,10,46,16],[60,14,46,20,"window_2"],[60,22,46,28],[60,25,46,31],[60,29,46,35,"Subject_1"],[60,38,46,44],[60,39,46,45,"Subject"],[60,46,46,52],[60,47,46,53],[60,48,46,54],[61,10,47,16,"windows"],[61,17,47,23],[61,18,47,24,"push"],[61,22,47,28],[61,23,47,29,"window_2"],[61,31,47,37],[61,32,47,38],[62,10,48,16,"subscriber"],[62,20,48,26],[62,21,48,27,"next"],[62,25,48,31],[62,26,48,32,"window_2"],[62,34,48,40],[62,35,48,41,"asObservable"],[62,47,48,53],[62,48,48,54],[62,49,48,55],[62,50,48,56],[63,8,49,12],[64,6,50,8],[64,7,50,9],[64,9,50,11],[64,21,50,23],[65,8,51,12],[65,15,51,19,"windows"],[65,22,51,26],[65,23,51,27,"length"],[65,29,51,33],[65,32,51,36],[65,33,51,37],[65,35,51,39],[66,10,52,16,"windows"],[66,17,52,23],[66,18,52,24,"shift"],[66,23,52,29],[66,24,52,30],[66,25,52,31],[66,26,52,32,"complete"],[66,34,52,40],[66,35,52,41],[66,36,52,42],[67,8,53,12],[68,8,54,12,"subscriber"],[68,18,54,22],[68,19,54,23,"complete"],[68,27,54,31],[68,28,54,32],[68,29,54,33],[69,6,55,8],[69,7,55,9],[69,9,55,11],[69,19,55,21,"err"],[69,22,55,24],[69,24,55,26],[70,8,56,12],[70,15,56,19,"windows"],[70,22,56,26],[70,23,56,27,"length"],[70,29,56,33],[70,32,56,36],[70,33,56,37],[70,35,56,39],[71,10,57,16,"windows"],[71,17,57,23],[71,18,57,24,"shift"],[71,23,57,29],[71,24,57,30],[71,25,57,31],[71,26,57,32,"error"],[71,31,57,37],[71,32,57,38,"err"],[71,35,57,41],[71,36,57,42],[72,8,58,12],[73,8,59,12,"subscriber"],[73,18,59,22],[73,19,59,23,"error"],[73,24,59,28],[73,25,59,29,"err"],[73,28,59,32],[73,29,59,33],[74,6,60,8],[74,7,60,9],[74,9,60,11],[74,21,60,23],[75,8,61,12,"starts"],[75,14,61,18],[75,17,61,21],[75,21,61,25],[76,8,62,12,"windows"],[76,15,62,19],[76,18,62,22],[76,22,62,26],[77,6,63,8],[77,7,63,9],[77,8,63,10],[77,9,63,11],[78,4,64,4],[78,5,64,5],[78,6,64,6],[79,2,65,0],[80,2,66,0,"exports"],[80,9,66,7],[80,10,66,8,"windowCount"],[80,21,66,19],[80,24,66,22,"windowCount"],[80,35,66,33],[81,0,66,34],[81,3]],"functionMap":{"names":["<global>","<anonymous>","next","windowCount","lift_1.operate$argument_0","OperatorSubscriber_1.createOperatorSubscriber$argument_1","OperatorSubscriber_1.createOperatorSubscriber$argument_2","OperatorSubscriber_1.createOperatorSubscriber$argument_3","OperatorSubscriber_1.createOperatorSubscriber$argument_4"],"mappings":"AAA;0CCC;cCI;SDG;CDG;AGM;0BCG;mFCK;SDwB,EE;SFK,EG;SHK,EI;SJG;KDC;CHC"},"hasCjsExports":true},"type":"js/module"}]}