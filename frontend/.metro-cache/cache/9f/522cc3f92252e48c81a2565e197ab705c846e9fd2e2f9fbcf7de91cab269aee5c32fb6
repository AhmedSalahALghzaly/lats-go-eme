{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":3,"column":29,"index":44},"end":{"line":3,"column":84,"index":99}}],"key":"kslwqCIsh6ew+I1KeA1rlVRjsAk=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/extends","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":6,"column":39,"index":193},"end":{"line":6,"column":80,"index":234}}],"key":"+IMV7fApFxYj6g0kcsGRJafP6mc=","exportNames":["*"],"imports":1}},{"name":"../../utils/fp","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":7,"column":10,"index":247},"end":{"line":7,"column":35,"index":272}}],"key":"F8BfGunTMkcMsQ7te+IdXJXLwKI=","exportNames":["*"],"imports":1}},{"name":"../../utils/rx","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":8,"column":10,"index":284},"end":{"line":8,"column":35,"index":309}}],"key":"sChOlheQ5HGfniz0xsfJTJwC0UM=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _interopRequireDefault = require(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n  exports.__esModule = true;\n  exports.default = void 0;\n  var _extends2 = _interopRequireDefault(require(_dependencyMap[1], \"@babel/runtime/helpers/extends\"));\n  var _fp = require(_dependencyMap[2], \"../../utils/fp\");\n  var _rx = require(_dependencyMap[3], \"../../utils/rx\");\n  var failsafe = function () {\n    var fallback = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : undefined;\n    return function (target, key, descriptor) {\n      return (0, _extends2.default)({}, descriptor, {\n        get: function () {\n          var value;\n          // $FlowFixMe[object-this-reference]\n          var unsafeThis = this;\n          if ('value' in descriptor) {\n            value = descriptor.value;\n          } else if ('get' in descriptor) {\n            value = descriptor.get.call(unsafeThis);\n          } else if ('initializer' in descriptor) {\n            value = descriptor.initializer.call(unsafeThis);\n          }\n          if (value && (0, _fp.isObj)(value)) {\n            var originalFetch = value.fetch;\n            var originalObserve = value.observe;\n            if ('function' === typeof originalFetch) {\n              value.fetch = function () {\n                for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n                  args[_key] = arguments[_key];\n                }\n                var result = originalFetch.apply(value, args);\n                if ((0, _fp.isObj)(result) && 'function' === typeof result.catch) {\n                  return result.catch(function () {\n                    return fallback;\n                  });\n                }\n                return result;\n              };\n            }\n            if ('function' === typeof originalObserve) {\n              value.observe = function () {\n                for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n                  args[_key2] = arguments[_key2];\n                }\n                var result = originalObserve.apply(value, args);\n                if ((0, _fp.isObj)(result) && 'function' === typeof result.pipe) {\n                  return result.pipe((0, _rx.catchError)(function () {\n                    return (0, _rx.of)(fallback);\n                  }));\n                }\n                return result;\n              };\n            }\n          }\n          Object.defineProperty(unsafeThis, key, {\n            value: value,\n            enumerable: descriptor.enumerable\n          });\n          return value;\n        }\n      });\n    };\n  };\n  var _default = exports.default = failsafe;\n});","lineCount":67,"map":[[2,2,1,0],[2,14,1,12],[4,2,3,0],[4,6,3,4,"_interopRequireDefault"],[4,28,3,26],[4,31,3,29,"require"],[4,38,3,36],[4,39,3,36,"_dependencyMap"],[4,53,3,36],[4,104,3,83],[4,105,3,84],[5,2,4,0,"exports"],[5,9,4,7],[5,10,4,8,"__esModule"],[5,20,4,18],[5,23,4,21],[5,27,4,25],[6,2,5,0,"exports"],[6,9,5,7],[6,10,5,8,"default"],[6,17,5,15],[6,20,5,18],[6,25,5,23],[6,26,5,24],[7,2,6,0],[7,6,6,4,"_extends2"],[7,15,6,13],[7,18,6,16,"_interopRequireDefault"],[7,40,6,38],[7,41,6,39,"require"],[7,48,6,46],[7,49,6,46,"_dependencyMap"],[7,63,6,46],[7,100,6,79],[7,101,6,80],[7,102,6,81],[8,2,7,0],[8,6,7,4,"_fp"],[8,9,7,7],[8,12,7,10,"require"],[8,19,7,17],[8,20,7,17,"_dependencyMap"],[8,34,7,17],[8,55,7,34],[8,56,7,35],[9,2,8,0],[9,6,8,4,"_rx"],[9,9,8,7],[9,12,8,10,"require"],[9,19,8,17],[9,20,8,17,"_dependencyMap"],[9,34,8,17],[9,55,8,34],[9,56,8,35],[10,2,9,0],[10,6,9,4,"failsafe"],[10,14,9,12],[10,17,9,15],[10,26,9,15,"failsafe"],[10,27,9,15],[10,29,9,47],[11,4,9,47],[11,8,9,25,"fallback"],[11,16,9,33],[11,19,9,33,"arguments"],[11,28,9,33],[11,29,9,33,"length"],[11,35,9,33],[11,43,9,33,"arguments"],[11,52,9,33],[11,60,9,33,"undefined"],[11,69,9,33],[11,72,9,33,"arguments"],[11,81,9,33],[11,87,9,36,"undefined"],[11,96,9,45],[12,4,10,2],[12,11,10,9],[12,21,10,19,"target"],[12,27,10,25],[12,29,10,27,"key"],[12,32,10,30],[12,34,10,32,"descriptor"],[12,44,10,42],[12,46,10,44],[13,6,11,4],[13,13,11,11],[13,14,11,12],[13,15,11,13],[13,17,11,15,"_extends2"],[13,26,11,24],[13,27,11,25,"default"],[13,34,11,32],[13,36,11,34],[13,37,11,35],[13,38,11,36],[13,40,11,38,"descriptor"],[13,50,11,48],[13,52,11,50],[14,8,12,6,"get"],[14,11,12,9],[14,13,12,11],[14,22,12,11,"get"],[14,23,12,11],[14,25,12,23],[15,10,13,8],[15,14,13,12,"value"],[15,19,13,17],[16,10,14,8],[17,10,15,8],[17,14,15,12,"unsafeThis"],[17,24,15,22],[17,27,15,25],[17,31,15,29],[18,10,16,8],[18,14,16,12],[18,21,16,19],[18,25,16,23,"descriptor"],[18,35,16,33],[18,37,16,35],[19,12,17,10,"value"],[19,17,17,15],[19,20,17,18,"descriptor"],[19,30,17,28],[19,31,17,29,"value"],[19,36,17,34],[20,10,18,8],[20,11,18,9],[20,17,18,15],[20,21,18,19],[20,26,18,24],[20,30,18,28,"descriptor"],[20,40,18,38],[20,42,18,40],[21,12,19,10,"value"],[21,17,19,15],[21,20,19,18,"descriptor"],[21,30,19,28],[21,31,19,29,"get"],[21,34,19,32],[21,35,19,33,"call"],[21,39,19,37],[21,40,19,38,"unsafeThis"],[21,50,19,48],[21,51,19,49],[22,10,20,8],[22,11,20,9],[22,17,20,15],[22,21,20,19],[22,34,20,32],[22,38,20,36,"descriptor"],[22,48,20,46],[22,50,20,48],[23,12,21,10,"value"],[23,17,21,15],[23,20,21,18,"descriptor"],[23,30,21,28],[23,31,21,29,"initializer"],[23,42,21,40],[23,43,21,41,"call"],[23,47,21,45],[23,48,21,46,"unsafeThis"],[23,58,21,56],[23,59,21,57],[24,10,22,8],[25,10,23,8],[25,14,23,12,"value"],[25,19,23,17],[25,23,23,21],[25,24,23,22],[25,25,23,23],[25,27,23,25,"_fp"],[25,30,23,28],[25,31,23,29,"isObj"],[25,36,23,34],[25,38,23,36,"value"],[25,43,23,41],[25,44,23,42],[25,46,23,44],[26,12,24,10],[26,16,24,14,"originalFetch"],[26,29,24,27],[26,32,24,30,"value"],[26,37,24,35],[26,38,24,36,"fetch"],[26,43,24,41],[27,12,25,10],[27,16,25,14,"originalObserve"],[27,31,25,29],[27,34,25,32,"value"],[27,39,25,37],[27,40,25,38,"observe"],[27,47,25,45],[28,12,26,10],[28,16,26,14],[28,26,26,24],[28,31,26,29],[28,38,26,36,"originalFetch"],[28,51,26,49],[28,53,26,51],[29,14,27,12,"value"],[29,19,27,17],[29,20,27,18,"fetch"],[29,25,27,23],[29,28,27,26],[29,40,27,45],[30,16,27,45],[30,25,27,45,"_len"],[30,29,27,45],[30,32,27,45,"arguments"],[30,41,27,45],[30,42,27,45,"length"],[30,48,27,45],[30,50,27,39,"args"],[30,54,27,43],[30,61,27,43,"Array"],[30,66,27,43],[30,67,27,43,"_len"],[30,71,27,43],[30,74,27,43,"_key"],[30,78,27,43],[30,84,27,43,"_key"],[30,88,27,43],[30,91,27,43,"_len"],[30,95,27,43],[30,97,27,43,"_key"],[30,101,27,43],[31,18,27,39,"args"],[31,22,27,43],[31,23,27,43,"_key"],[31,27,27,43],[31,31,27,43,"arguments"],[31,40,27,43],[31,41,27,43,"_key"],[31,45,27,43],[32,16,27,43],[33,16,28,14],[33,20,28,18,"result"],[33,26,28,24],[33,29,28,27,"originalFetch"],[33,42,28,40],[33,43,28,41,"apply"],[33,48,28,46],[33,49,28,47,"value"],[33,54,28,52],[33,56,28,54,"args"],[33,60,28,58],[33,61,28,59],[34,16,29,14],[34,20,29,18],[34,21,29,19],[34,22,29,20],[34,24,29,22,"_fp"],[34,27,29,25],[34,28,29,26,"isObj"],[34,33,29,31],[34,35,29,33,"result"],[34,41,29,39],[34,42,29,40],[34,46,29,44],[34,56,29,54],[34,61,29,59],[34,68,29,66,"result"],[34,74,29,72],[34,75,29,73,"catch"],[34,80,29,78],[34,82,29,80],[35,18,30,16],[35,25,30,23,"result"],[35,31,30,29],[35,32,30,30,"catch"],[35,37,30,35],[35,38,30,36],[35,50,30,48],[36,20,31,18],[36,27,31,25,"fallback"],[36,35,31,33],[37,18,32,16],[37,19,32,17],[37,20,32,18],[38,16,33,14],[39,16,34,14],[39,23,34,21,"result"],[39,29,34,27],[40,14,35,12],[40,15,35,13],[41,12,36,10],[42,12,37,10],[42,16,37,14],[42,26,37,24],[42,31,37,29],[42,38,37,36,"originalObserve"],[42,53,37,51],[42,55,37,53],[43,14,38,12,"value"],[43,19,38,17],[43,20,38,18,"observe"],[43,27,38,25],[43,30,38,28],[43,42,38,47],[44,16,38,47],[44,25,38,47,"_len2"],[44,30,38,47],[44,33,38,47,"arguments"],[44,42,38,47],[44,43,38,47,"length"],[44,49,38,47],[44,51,38,41,"args"],[44,55,38,45],[44,62,38,45,"Array"],[44,67,38,45],[44,68,38,45,"_len2"],[44,73,38,45],[44,76,38,45,"_key2"],[44,81,38,45],[44,87,38,45,"_key2"],[44,92,38,45],[44,95,38,45,"_len2"],[44,100,38,45],[44,102,38,45,"_key2"],[44,107,38,45],[45,18,38,41,"args"],[45,22,38,45],[45,23,38,45,"_key2"],[45,28,38,45],[45,32,38,45,"arguments"],[45,41,38,45],[45,42,38,45,"_key2"],[45,47,38,45],[46,16,38,45],[47,16,39,14],[47,20,39,18,"result"],[47,26,39,24],[47,29,39,27,"originalObserve"],[47,44,39,42],[47,45,39,43,"apply"],[47,50,39,48],[47,51,39,49,"value"],[47,56,39,54],[47,58,39,56,"args"],[47,62,39,60],[47,63,39,61],[48,16,40,14],[48,20,40,18],[48,21,40,19],[48,22,40,20],[48,24,40,22,"_fp"],[48,27,40,25],[48,28,40,26,"isObj"],[48,33,40,31],[48,35,40,33,"result"],[48,41,40,39],[48,42,40,40],[48,46,40,44],[48,56,40,54],[48,61,40,59],[48,68,40,66,"result"],[48,74,40,72],[48,75,40,73,"pipe"],[48,79,40,77],[48,81,40,79],[49,18,41,16],[49,25,41,23,"result"],[49,31,41,29],[49,32,41,30,"pipe"],[49,36,41,34],[49,37,41,35],[49,38,41,36],[49,39,41,37],[49,41,41,39,"_rx"],[49,44,41,42],[49,45,41,43,"catchError"],[49,55,41,53],[49,57,41,55],[49,69,41,67],[50,20,42,18],[50,27,42,25],[50,28,42,26],[50,29,42,27],[50,31,42,29,"_rx"],[50,34,42,32],[50,35,42,33,"of"],[50,37,42,35],[50,39,42,37,"fallback"],[50,47,42,45],[50,48,42,46],[51,18,43,16],[51,19,43,17],[51,20,43,18],[51,21,43,19],[52,16,44,14],[53,16,45,14],[53,23,45,21,"result"],[53,29,45,27],[54,14,46,12],[54,15,46,13],[55,12,47,10],[56,10,48,8],[57,10,49,8,"Object"],[57,16,49,14],[57,17,49,15,"defineProperty"],[57,31,49,29],[57,32,49,30,"unsafeThis"],[57,42,49,40],[57,44,49,42,"key"],[57,47,49,45],[57,49,49,47],[58,12,50,10,"value"],[58,17,50,15],[58,19,50,17,"value"],[58,24,50,22],[59,12,51,10,"enumerable"],[59,22,51,20],[59,24,51,22,"descriptor"],[59,34,51,32],[59,35,51,33,"enumerable"],[60,10,52,8],[60,11,52,9],[60,12,52,10],[61,10,53,8],[61,17,53,15,"value"],[61,22,53,20],[62,8,54,6],[63,6,55,4],[63,7,55,5],[63,8,55,6],[64,4,56,2],[64,5,56,3],[65,2,57,0],[65,3,57,1],[66,2,58,0],[66,6,58,4,"_default"],[66,14,58,12],[66,17,58,15,"exports"],[66,24,58,22],[66,25,58,23,"default"],[66,32,58,30],[66,35,58,33,"failsafe"],[66,43,58,41],[67,0,58,42],[67,3]],"functionMap":{"names":["<global>","failsafe","<anonymous>","get","value.fetch","result._catch$argument_0","value.observe"],"mappings":"AAA;eCQ;SCC;WCE;0BCe;oCCG;iBDE;aDG;4BGG;uDJG;iBIE;aHG;ODQ;GDE;CDC"},"hasCjsExports":true},"type":"js/module"}]}