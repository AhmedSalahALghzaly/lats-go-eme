{"dependencies":[{"name":"../utils/rx","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":5,"column":10,"index":87},"end":{"line":5,"column":32,"index":109}}],"key":"2oOBH1aE6YTKEiT6FZF66xklTf0=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  exports.__esModule = true;\n  exports.createObservable = void 0;\n  var _rx = require(_dependencyMap[0], \"../utils/rx\");\n  var getImmutableObservable = function (relation) {\n    return relation._model.collections.get(relation._relationTableName)\n    // $FlowFixMe\n    .findAndObserve(relation.id);\n  };\n  var getObservable = function (relation) {\n    return relation._model.observe()\n    // $FlowFixMe\n    .pipe((0, _rx.map)(function (model) {\n      return model._getRaw(relation._columnName);\n    }), (0, _rx.distinctUntilChanged)(), (0, _rx.switchMap)(function (id) {\n      return id ? relation._model.collections.get(relation._relationTableName).findAndObserve(id) : (0, _rx.of)(null);\n    }));\n  };\n\n  // eslint-disable-next-line\n  var createObservable = exports.createObservable = function (relation) {\n    return relation._isImmutable ? getImmutableObservable(relation) : getObservable(relation);\n  };\n});","lineCount":26,"map":[[2,2,1,0],[2,14,1,12],[4,2,3,0,"exports"],[4,9,3,7],[4,10,3,8,"__esModule"],[4,20,3,18],[4,23,3,21],[4,27,3,25],[5,2,4,0,"exports"],[5,9,4,7],[5,10,4,8,"createObservable"],[5,26,4,24],[5,29,4,27],[5,34,4,32],[5,35,4,33],[6,2,5,0],[6,6,5,4,"_rx"],[6,9,5,7],[6,12,5,10,"require"],[6,19,5,17],[6,20,5,17,"_dependencyMap"],[6,34,5,17],[6,52,5,31],[6,53,5,32],[7,2,6,0],[7,6,6,4,"getImmutableObservable"],[7,28,6,26],[7,31,6,29],[7,40,6,29,"getImmutableObservable"],[7,41,6,39,"relation"],[7,49,6,47],[7,51,6,49],[8,4,7,2],[8,11,7,9,"relation"],[8,19,7,17],[8,20,7,18,"_model"],[8,26,7,24],[8,27,7,25,"collections"],[8,38,7,36],[8,39,7,37,"get"],[8,42,7,40],[8,43,7,41,"relation"],[8,51,7,49],[8,52,7,50,"_relationTableName"],[8,70,7,68],[9,4,8,2],[10,4,8,2],[10,5,9,3,"findAndObserve"],[10,19,9,17],[10,20,9,18,"relation"],[10,28,9,26],[10,29,9,27,"id"],[10,31,9,29],[10,32,9,30],[11,2,10,0],[11,3,10,1],[12,2,11,0],[12,6,11,4,"getObservable"],[12,19,11,17],[12,22,11,20],[12,31,11,20,"getObservable"],[12,32,11,30,"relation"],[12,40,11,38],[12,42,11,40],[13,4,12,2],[13,11,12,9,"relation"],[13,19,12,17],[13,20,12,18,"_model"],[13,26,12,24],[13,27,12,25,"observe"],[13,34,12,32],[13,35,12,33],[14,4,13,2],[15,4,13,2],[15,5,14,3,"pipe"],[15,9,14,7],[15,10,14,8],[15,11,14,9],[15,12,14,10],[15,14,14,12,"_rx"],[15,17,14,15],[15,18,14,16,"map"],[15,21,14,19],[15,23,14,21],[15,33,14,31,"model"],[15,38,14,36],[15,40,14,38],[16,6,15,4],[16,13,15,11,"model"],[16,18,15,16],[16,19,15,17,"_getRaw"],[16,26,15,24],[16,27,15,25,"relation"],[16,35,15,33],[16,36,15,34,"_columnName"],[16,47,15,45],[16,48,15,46],[17,4,16,2],[17,5,16,3],[17,6,16,4],[17,8,16,6],[17,9,16,7],[17,10,16,8],[17,12,16,10,"_rx"],[17,15,16,13],[17,16,16,14,"distinctUntilChanged"],[17,36,16,34],[17,38,16,36],[17,39,16,37],[17,41,16,39],[17,42,16,40],[17,43,16,41],[17,45,16,43,"_rx"],[17,48,16,46],[17,49,16,47,"switchMap"],[17,58,16,56],[17,60,16,58],[17,70,16,68,"id"],[17,72,16,70],[17,74,16,72],[18,6,17,4],[18,13,17,11,"id"],[18,15,17,13],[18,18,17,16,"relation"],[18,26,17,24],[18,27,17,25,"_model"],[18,33,17,31],[18,34,17,32,"collections"],[18,45,17,43],[18,46,17,44,"get"],[18,49,17,47],[18,50,17,48,"relation"],[18,58,17,56],[18,59,17,57,"_relationTableName"],[18,77,17,75],[18,78,17,76],[18,79,17,77,"findAndObserve"],[18,93,17,91],[18,94,17,92,"id"],[18,96,17,94],[18,97,17,95],[18,100,17,98],[18,101,17,99],[18,102,17,100],[18,104,17,102,"_rx"],[18,107,17,105],[18,108,17,106,"of"],[18,110,17,108],[18,112,17,110],[18,116,17,114],[18,117,17,115],[19,4,18,2],[19,5,18,3],[19,6,18,4],[19,7,18,5],[20,2,19,0],[20,3,19,1],[22,2,21,0],[23,2,22,0],[23,6,22,4,"createObservable"],[23,22,22,20],[23,25,22,23,"exports"],[23,32,22,30],[23,33,22,31,"createObservable"],[23,49,22,47],[23,52,22,50],[23,62,22,60,"relation"],[23,70,22,68],[23,72,22,70],[24,4,23,2],[24,11,23,9,"relation"],[24,19,23,17],[24,20,23,18,"_isImmutable"],[24,32,23,30],[24,35,23,33,"getImmutableObservable"],[24,57,23,55],[24,58,23,56,"relation"],[24,66,23,64],[24,67,23,65],[24,70,23,68,"getObservable"],[24,83,23,81],[24,84,23,82,"relation"],[24,92,23,90],[24,93,23,91],[25,2,24,0],[25,3,24,1],[26,0,24,2],[26,3]],"functionMap":{"names":["<global>","getImmutableObservable","getObservable","<anonymous>","exports.createObservable"],"mappings":"AAA;6BCK;CDI;oBEC;qBCG;GDE,uDC;GDE;CFC;kDIG;CJE"},"hasCjsExports":true},"type":"js/module"}]}