{"dependencies":[{"name":"../Subject","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":4,"column":16,"index":122},"end":{"line":4,"column":37,"index":143}}],"key":"rCTmTYO6TJ25UVDxGzxJlC7LYfM=","exportNames":["*"],"imports":1}},{"name":"../util/lift","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":5,"column":13,"index":158},"end":{"line":5,"column":36,"index":181}}],"key":"QCxE0PdfaUm4cT9qPVYaaaoo46A=","exportNames":["*"],"imports":1}},{"name":"./OperatorSubscriber","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":6,"column":27,"index":210},"end":{"line":6,"column":58,"index":241}}],"key":"5a4JxA+rxI0MIxewBKZddpWmHrQ=","exportNames":["*"],"imports":1}},{"name":"../observable/innerFrom","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":7,"column":18,"index":261},"end":{"line":7,"column":52,"index":295}}],"key":"T4CuDoHB9q4c1mpqb7scn7763KE=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.windowWhen = void 0;\n  var Subject_1 = require(_dependencyMap[0], \"../Subject\");\n  var lift_1 = require(_dependencyMap[1], \"../util/lift\");\n  var OperatorSubscriber_1 = require(_dependencyMap[2], \"./OperatorSubscriber\");\n  var innerFrom_1 = require(_dependencyMap[3], \"../observable/innerFrom\");\n  function windowWhen(closingSelector) {\n    return lift_1.operate(function (source, subscriber) {\n      var window;\n      var closingSubscriber;\n      var handleError = function (err) {\n        window.error(err);\n        subscriber.error(err);\n      };\n      var openWindow = function () {\n        closingSubscriber === null || closingSubscriber === void 0 ? void 0 : closingSubscriber.unsubscribe();\n        window === null || window === void 0 ? void 0 : window.complete();\n        window = new Subject_1.Subject();\n        subscriber.next(window.asObservable());\n        var closingNotifier;\n        try {\n          closingNotifier = innerFrom_1.innerFrom(closingSelector());\n        } catch (err) {\n          handleError(err);\n          return;\n        }\n        closingNotifier.subscribe(closingSubscriber = OperatorSubscriber_1.createOperatorSubscriber(subscriber, openWindow, openWindow, handleError));\n      };\n      openWindow();\n      source.subscribe(OperatorSubscriber_1.createOperatorSubscriber(subscriber, function (value) {\n        return window.next(value);\n      }, function () {\n        window.complete();\n        subscriber.complete();\n      }, handleError, function () {\n        closingSubscriber === null || closingSubscriber === void 0 ? void 0 : closingSubscriber.unsubscribe();\n        window = null;\n      }));\n    });\n  }\n  exports.windowWhen = windowWhen;\n});","lineCount":47,"map":[[2,2,1,0],[2,14,1,12],[4,2,2,0,"Object"],[4,8,2,6],[4,9,2,7,"defineProperty"],[4,23,2,21],[4,24,2,22,"exports"],[4,31,2,29],[4,33,2,31],[4,45,2,43],[4,47,2,45],[5,4,2,47,"value"],[5,9,2,52],[5,11,2,54],[6,2,2,59],[6,3,2,60],[6,4,2,61],[7,2,3,0,"exports"],[7,9,3,7],[7,10,3,8,"windowWhen"],[7,20,3,18],[7,23,3,21],[7,28,3,26],[7,29,3,27],[8,2,4,0],[8,6,4,4,"Subject_1"],[8,15,4,13],[8,18,4,16,"require"],[8,25,4,23],[8,26,4,23,"_dependencyMap"],[8,40,4,23],[8,57,4,36],[8,58,4,37],[9,2,5,0],[9,6,5,4,"lift_1"],[9,12,5,10],[9,15,5,13,"require"],[9,22,5,20],[9,23,5,20,"_dependencyMap"],[9,37,5,20],[9,56,5,35],[9,57,5,36],[10,2,6,0],[10,6,6,4,"OperatorSubscriber_1"],[10,26,6,24],[10,29,6,27,"require"],[10,36,6,34],[10,37,6,34,"_dependencyMap"],[10,51,6,34],[10,78,6,57],[10,79,6,58],[11,2,7,0],[11,6,7,4,"innerFrom_1"],[11,17,7,15],[11,20,7,18,"require"],[11,27,7,25],[11,28,7,25,"_dependencyMap"],[11,42,7,25],[11,72,7,51],[11,73,7,52],[12,2,8,0],[12,11,8,9,"windowWhen"],[12,21,8,19,"windowWhen"],[12,22,8,20,"closingSelector"],[12,37,8,35],[12,39,8,37],[13,4,9,4],[13,11,9,11,"lift_1"],[13,17,9,17],[13,18,9,18,"operate"],[13,25,9,25],[13,26,9,26],[13,36,9,36,"source"],[13,42,9,42],[13,44,9,44,"subscriber"],[13,54,9,54],[13,56,9,56],[14,6,10,8],[14,10,10,12,"window"],[14,16,10,18],[15,6,11,8],[15,10,11,12,"closingSubscriber"],[15,27,11,29],[16,6,12,8],[16,10,12,12,"handleError"],[16,21,12,23],[16,24,12,26],[16,33,12,26,"handleError"],[16,34,12,36,"err"],[16,37,12,39],[16,39,12,41],[17,8,13,12,"window"],[17,14,13,18],[17,15,13,19,"error"],[17,20,13,24],[17,21,13,25,"err"],[17,24,13,28],[17,25,13,29],[18,8,14,12,"subscriber"],[18,18,14,22],[18,19,14,23,"error"],[18,24,14,28],[18,25,14,29,"err"],[18,28,14,32],[18,29,14,33],[19,6,15,8],[19,7,15,9],[20,6,16,8],[20,10,16,12,"openWindow"],[20,20,16,22],[20,23,16,25],[20,32,16,25,"openWindow"],[20,33,16,25],[20,35,16,37],[21,8,17,12,"closingSubscriber"],[21,25,17,29],[21,30,17,34],[21,34,17,38],[21,38,17,42,"closingSubscriber"],[21,55,17,59],[21,60,17,64],[21,65,17,69],[21,66,17,70],[21,69,17,73],[21,74,17,78],[21,75,17,79],[21,78,17,82,"closingSubscriber"],[21,95,17,99],[21,96,17,100,"unsubscribe"],[21,107,17,111],[21,108,17,112],[21,109,17,113],[22,8,18,12,"window"],[22,14,18,18],[22,19,18,23],[22,23,18,27],[22,27,18,31,"window"],[22,33,18,37],[22,38,18,42],[22,43,18,47],[22,44,18,48],[22,47,18,51],[22,52,18,56],[22,53,18,57],[22,56,18,60,"window"],[22,62,18,66],[22,63,18,67,"complete"],[22,71,18,75],[22,72,18,76],[22,73,18,77],[23,8,19,12,"window"],[23,14,19,18],[23,17,19,21],[23,21,19,25,"Subject_1"],[23,30,19,34],[23,31,19,35,"Subject"],[23,38,19,42],[23,39,19,43],[23,40,19,44],[24,8,20,12,"subscriber"],[24,18,20,22],[24,19,20,23,"next"],[24,23,20,27],[24,24,20,28,"window"],[24,30,20,34],[24,31,20,35,"asObservable"],[24,43,20,47],[24,44,20,48],[24,45,20,49],[24,46,20,50],[25,8,21,12],[25,12,21,16,"closingNotifier"],[25,27,21,31],[26,8,22,12],[26,12,22,16],[27,10,23,16,"closingNotifier"],[27,25,23,31],[27,28,23,34,"innerFrom_1"],[27,39,23,45],[27,40,23,46,"innerFrom"],[27,49,23,55],[27,50,23,56,"closingSelector"],[27,65,23,71],[27,66,23,72],[27,67,23,73],[27,68,23,74],[28,8,24,12],[28,9,24,13],[28,10,25,12],[28,17,25,19,"err"],[28,20,25,22],[28,22,25,24],[29,10,26,16,"handleError"],[29,21,26,27],[29,22,26,28,"err"],[29,25,26,31],[29,26,26,32],[30,10,27,16],[31,8,28,12],[32,8,29,12,"closingNotifier"],[32,23,29,27],[32,24,29,28,"subscribe"],[32,33,29,37],[32,34,29,39,"closingSubscriber"],[32,51,29,56],[32,54,29,59,"OperatorSubscriber_1"],[32,74,29,79],[32,75,29,80,"createOperatorSubscriber"],[32,99,29,104],[32,100,29,105,"subscriber"],[32,110,29,115],[32,112,29,117,"openWindow"],[32,122,29,127],[32,124,29,129,"openWindow"],[32,134,29,139],[32,136,29,141,"handleError"],[32,147,29,152],[32,148,29,154],[32,149,29,155],[33,6,30,8],[33,7,30,9],[34,6,31,8,"openWindow"],[34,16,31,18],[34,17,31,19],[34,18,31,20],[35,6,32,8,"source"],[35,12,32,14],[35,13,32,15,"subscribe"],[35,22,32,24],[35,23,32,25,"OperatorSubscriber_1"],[35,43,32,45],[35,44,32,46,"createOperatorSubscriber"],[35,68,32,70],[35,69,32,71,"subscriber"],[35,79,32,81],[35,81,32,83],[35,91,32,93,"value"],[35,96,32,98],[35,98,32,100],[36,8,32,102],[36,15,32,109,"window"],[36,21,32,115],[36,22,32,116,"next"],[36,26,32,120],[36,27,32,121,"value"],[36,32,32,126],[36,33,32,127],[37,6,32,129],[37,7,32,130],[37,9,32,132],[37,21,32,144],[38,8,33,12,"window"],[38,14,33,18],[38,15,33,19,"complete"],[38,23,33,27],[38,24,33,28],[38,25,33,29],[39,8,34,12,"subscriber"],[39,18,34,22],[39,19,34,23,"complete"],[39,27,34,31],[39,28,34,32],[39,29,34,33],[40,6,35,8],[40,7,35,9],[40,9,35,11,"handleError"],[40,20,35,22],[40,22,35,24],[40,34,35,36],[41,8,36,12,"closingSubscriber"],[41,25,36,29],[41,30,36,34],[41,34,36,38],[41,38,36,42,"closingSubscriber"],[41,55,36,59],[41,60,36,64],[41,65,36,69],[41,66,36,70],[41,69,36,73],[41,74,36,78],[41,75,36,79],[41,78,36,82,"closingSubscriber"],[41,95,36,99],[41,96,36,100,"unsubscribe"],[41,107,36,111],[41,108,36,112],[41,109,36,113],[42,8,37,12,"window"],[42,14,37,18],[42,17,37,21],[42,21,37,25],[43,6,38,8],[43,7,38,9],[43,8,38,10],[43,9,38,11],[44,4,39,4],[44,5,39,5],[44,6,39,6],[45,2,40,0],[46,2,41,0,"exports"],[46,9,41,7],[46,10,41,8,"windowWhen"],[46,20,41,18],[46,23,41,21,"windowWhen"],[46,33,41,31],[47,0,41,32],[47,3]],"functionMap":{"names":["<global>","windowWhen","lift_1.operate$argument_0","handleError","openWindow","OperatorSubscriber_1.createOperatorSubscriber$argument_1","OperatorSubscriber_1.createOperatorSubscriber$argument_2","OperatorSubscriber_1.createOperatorSubscriber$argument_4"],"mappings":"AAA;ACO;0BCC;0BCG;SDG;yBEC;SFc;mFGE,+CH,EI;SJG,eK;SLG;KDC;CDC"},"hasCjsExports":true},"type":"js/module"}]}