{"dependencies":[{"name":"../scheduler/async","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":4,"column":14,"index":140},"end":{"line":4,"column":43,"index":169}}],"key":"DwsQXSm/xtyztPccmczjezyRPzQ=","exportNames":["*"],"imports":1}},{"name":"../util/isDate","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":5,"column":15,"index":186},"end":{"line":5,"column":40,"index":211}}],"key":"EizQHWkrNJgAKoXdIjJ/bTC7zqg=","exportNames":["*"],"imports":1}},{"name":"../util/lift","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":6,"column":13,"index":226},"end":{"line":6,"column":36,"index":249}}],"key":"QCxE0PdfaUm4cT9qPVYaaaoo46A=","exportNames":["*"],"imports":1}},{"name":"../observable/innerFrom","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":7,"column":18,"index":269},"end":{"line":7,"column":52,"index":303}}],"key":"T4CuDoHB9q4c1mpqb7scn7763KE=","exportNames":["*"],"imports":1}},{"name":"../util/createErrorClass","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":8,"column":25,"index":330},"end":{"line":8,"column":60,"index":365}}],"key":"HrBYFs8K7YoxIJe3fxX53nK2Ejs=","exportNames":["*"],"imports":1}},{"name":"./OperatorSubscriber","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":9,"column":27,"index":394},"end":{"line":9,"column":58,"index":425}}],"key":"5a4JxA+rxI0MIxewBKZddpWmHrQ=","exportNames":["*"],"imports":1}},{"name":"../util/executeSchedule","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":10,"column":24,"index":451},"end":{"line":10,"column":58,"index":485}}],"key":"Fxw52IEQzCrpMSDADIsV7+EnCEs=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.timeout = exports.TimeoutError = void 0;\n  var async_1 = require(_dependencyMap[0], \"../scheduler/async\");\n  var isDate_1 = require(_dependencyMap[1], \"../util/isDate\");\n  var lift_1 = require(_dependencyMap[2], \"../util/lift\");\n  var innerFrom_1 = require(_dependencyMap[3], \"../observable/innerFrom\");\n  var createErrorClass_1 = require(_dependencyMap[4], \"../util/createErrorClass\");\n  var OperatorSubscriber_1 = require(_dependencyMap[5], \"./OperatorSubscriber\");\n  var executeSchedule_1 = require(_dependencyMap[6], \"../util/executeSchedule\");\n  exports.TimeoutError = createErrorClass_1.createErrorClass(function (_super) {\n    return function TimeoutErrorImpl(info) {\n      if (info === void 0) {\n        info = null;\n      }\n      _super(this);\n      this.message = 'Timeout has occurred';\n      this.name = 'TimeoutError';\n      this.info = info;\n    };\n  });\n  function timeout(config, schedulerArg) {\n    var _a = isDate_1.isValidDate(config) ? {\n        first: config\n      } : typeof config === 'number' ? {\n        each: config\n      } : config,\n      first = _a.first,\n      each = _a.each,\n      _b = _a.with,\n      _with = _b === void 0 ? timeoutErrorFactory : _b,\n      _c = _a.scheduler,\n      scheduler = _c === void 0 ? schedulerArg !== null && schedulerArg !== void 0 ? schedulerArg : async_1.asyncScheduler : _c,\n      _d = _a.meta,\n      meta = _d === void 0 ? null : _d;\n    if (first == null && each == null) {\n      throw new TypeError('No timeout provided.');\n    }\n    return lift_1.operate(function (source, subscriber) {\n      var originalSourceSubscription;\n      var timerSubscription;\n      var lastValue = null;\n      var seen = 0;\n      var startTimer = function (delay) {\n        timerSubscription = executeSchedule_1.executeSchedule(subscriber, scheduler, function () {\n          try {\n            originalSourceSubscription.unsubscribe();\n            innerFrom_1.innerFrom(_with({\n              meta: meta,\n              lastValue: lastValue,\n              seen: seen\n            })).subscribe(subscriber);\n          } catch (err) {\n            subscriber.error(err);\n          }\n        }, delay);\n      };\n      originalSourceSubscription = source.subscribe(OperatorSubscriber_1.createOperatorSubscriber(subscriber, function (value) {\n        timerSubscription === null || timerSubscription === void 0 ? void 0 : timerSubscription.unsubscribe();\n        seen++;\n        subscriber.next(lastValue = value);\n        each > 0 && startTimer(each);\n      }, undefined, undefined, function () {\n        if (!(timerSubscription === null || timerSubscription === void 0 ? void 0 : timerSubscription.closed)) {\n          timerSubscription === null || timerSubscription === void 0 ? void 0 : timerSubscription.unsubscribe();\n        }\n        lastValue = null;\n      }));\n      !seen && startTimer(first != null ? typeof first === 'number' ? first : +first - scheduler.now() : each);\n    });\n  }\n  exports.timeout = timeout;\n  function timeoutErrorFactory(info) {\n    throw new exports.TimeoutError(info);\n  }\n});","lineCount":80,"map":[[2,2,1,0],[2,14,1,12],[4,2,2,0,"Object"],[4,8,2,6],[4,9,2,7,"defineProperty"],[4,23,2,21],[4,24,2,22,"exports"],[4,31,2,29],[4,33,2,31],[4,45,2,43],[4,47,2,45],[5,4,2,47,"value"],[5,9,2,52],[5,11,2,54],[6,2,2,59],[6,3,2,60],[6,4,2,61],[7,2,3,0,"exports"],[7,9,3,7],[7,10,3,8,"timeout"],[7,17,3,15],[7,20,3,18,"exports"],[7,27,3,25],[7,28,3,26,"TimeoutError"],[7,40,3,38],[7,43,3,41],[7,48,3,46],[7,49,3,47],[8,2,4,0],[8,6,4,4,"async_1"],[8,13,4,11],[8,16,4,14,"require"],[8,23,4,21],[8,24,4,21,"_dependencyMap"],[8,38,4,21],[8,63,4,42],[8,64,4,43],[9,2,5,0],[9,6,5,4,"isDate_1"],[9,14,5,12],[9,17,5,15,"require"],[9,24,5,22],[9,25,5,22,"_dependencyMap"],[9,39,5,22],[9,60,5,39],[9,61,5,40],[10,2,6,0],[10,6,6,4,"lift_1"],[10,12,6,10],[10,15,6,13,"require"],[10,22,6,20],[10,23,6,20,"_dependencyMap"],[10,37,6,20],[10,56,6,35],[10,57,6,36],[11,2,7,0],[11,6,7,4,"innerFrom_1"],[11,17,7,15],[11,20,7,18,"require"],[11,27,7,25],[11,28,7,25,"_dependencyMap"],[11,42,7,25],[11,72,7,51],[11,73,7,52],[12,2,8,0],[12,6,8,4,"createErrorClass_1"],[12,24,8,22],[12,27,8,25,"require"],[12,34,8,32],[12,35,8,32,"_dependencyMap"],[12,49,8,32],[12,80,8,59],[12,81,8,60],[13,2,9,0],[13,6,9,4,"OperatorSubscriber_1"],[13,26,9,24],[13,29,9,27,"require"],[13,36,9,34],[13,37,9,34,"_dependencyMap"],[13,51,9,34],[13,78,9,57],[13,79,9,58],[14,2,10,0],[14,6,10,4,"executeSchedule_1"],[14,23,10,21],[14,26,10,24,"require"],[14,33,10,31],[14,34,10,31,"_dependencyMap"],[14,48,10,31],[14,78,10,57],[14,79,10,58],[15,2,11,0,"exports"],[15,9,11,7],[15,10,11,8,"TimeoutError"],[15,22,11,20],[15,25,11,23,"createErrorClass_1"],[15,43,11,41],[15,44,11,42,"createErrorClass"],[15,60,11,58],[15,61,11,59],[15,71,11,69,"_super"],[15,77,11,75],[15,79,11,77],[16,4,12,4],[16,11,12,11],[16,20,12,20,"TimeoutErrorImpl"],[16,36,12,36,"TimeoutErrorImpl"],[16,37,12,37,"info"],[16,41,12,41],[16,43,12,43],[17,6,13,8],[17,10,13,12,"info"],[17,14,13,16],[17,19,13,21],[17,24,13,26],[17,25,13,27],[17,27,13,29],[18,8,13,31,"info"],[18,12,13,35],[18,15,13,38],[18,19,13,42],[19,6,13,44],[20,6,14,8,"_super"],[20,12,14,14],[20,13,14,15],[20,17,14,19],[20,18,14,20],[21,6,15,8],[21,10,15,12],[21,11,15,13,"message"],[21,18,15,20],[21,21,15,23],[21,43,15,45],[22,6,16,8],[22,10,16,12],[22,11,16,13,"name"],[22,15,16,17],[22,18,16,20],[22,32,16,34],[23,6,17,8],[23,10,17,12],[23,11,17,13,"info"],[23,15,17,17],[23,18,17,20,"info"],[23,22,17,24],[24,4,18,4],[24,5,18,5],[25,2,19,0],[25,3,19,1],[25,4,19,2],[26,2,20,0],[26,11,20,9,"timeout"],[26,18,20,16,"timeout"],[26,19,20,17,"config"],[26,25,20,23],[26,27,20,25,"schedulerArg"],[26,39,20,37],[26,41,20,39],[27,4,21,4],[27,8,21,8,"_a"],[27,10,21,10],[27,13,21,14,"isDate_1"],[27,21,21,22],[27,22,21,23,"isValidDate"],[27,33,21,34],[27,34,21,35,"config"],[27,40,21,41],[27,41,21,42],[27,44,21,45],[28,8,21,47,"first"],[28,13,21,52],[28,15,21,54,"config"],[29,6,21,61],[29,7,21,62],[29,10,21,65],[29,17,21,72,"config"],[29,23,21,78],[29,28,21,83],[29,36,21,91],[29,39,21,94],[30,8,21,96,"each"],[30,12,21,100],[30,14,21,102,"config"],[31,6,21,109],[31,7,21,110],[31,10,21,113,"config"],[31,16,21,120],[32,6,21,122,"first"],[32,11,21,127],[32,14,21,130,"_a"],[32,16,21,132],[32,17,21,133,"first"],[32,22,21,138],[33,6,21,140,"each"],[33,10,21,144],[33,13,21,147,"_a"],[33,15,21,149],[33,16,21,150,"each"],[33,20,21,154],[34,6,21,156,"_b"],[34,8,21,158],[34,11,21,161,"_a"],[34,13,21,163],[34,14,21,164,"with"],[34,18,21,168],[35,6,21,170,"_with"],[35,11,21,175],[35,14,21,178,"_b"],[35,16,21,180],[35,21,21,185],[35,26,21,190],[35,27,21,191],[35,30,21,194,"timeoutErrorFactory"],[35,49,21,213],[35,52,21,216,"_b"],[35,54,21,218],[36,6,21,220,"_c"],[36,8,21,222],[36,11,21,225,"_a"],[36,13,21,227],[36,14,21,228,"scheduler"],[36,23,21,237],[37,6,21,239,"scheduler"],[37,15,21,248],[37,18,21,251,"_c"],[37,20,21,253],[37,25,21,258],[37,30,21,263],[37,31,21,264],[37,34,21,267,"schedulerArg"],[37,46,21,279],[37,51,21,284],[37,55,21,288],[37,59,21,292,"schedulerArg"],[37,71,21,304],[37,76,21,309],[37,81,21,314],[37,82,21,315],[37,85,21,318,"schedulerArg"],[37,97,21,330],[37,100,21,333,"async_1"],[37,107,21,340],[37,108,21,341,"asyncScheduler"],[37,122,21,355],[37,125,21,358,"_c"],[37,127,21,360],[38,6,21,362,"_d"],[38,8,21,364],[38,11,21,367,"_a"],[38,13,21,369],[38,14,21,370,"meta"],[38,18,21,374],[39,6,21,376,"meta"],[39,10,21,380],[39,13,21,383,"_d"],[39,15,21,385],[39,20,21,390],[39,25,21,395],[39,26,21,396],[39,29,21,399],[39,33,21,403],[39,36,21,406,"_d"],[39,38,21,408],[40,4,22,4],[40,8,22,8,"first"],[40,13,22,13],[40,17,22,17],[40,21,22,21],[40,25,22,25,"each"],[40,29,22,29],[40,33,22,33],[40,37,22,37],[40,39,22,39],[41,6,23,8],[41,12,23,14],[41,16,23,18,"TypeError"],[41,25,23,27],[41,26,23,28],[41,48,23,50],[41,49,23,51],[42,4,24,4],[43,4,25,4],[43,11,25,11,"lift_1"],[43,17,25,17],[43,18,25,18,"operate"],[43,25,25,25],[43,26,25,26],[43,36,25,36,"source"],[43,42,25,42],[43,44,25,44,"subscriber"],[43,54,25,54],[43,56,25,56],[44,6,26,8],[44,10,26,12,"originalSourceSubscription"],[44,36,26,38],[45,6,27,8],[45,10,27,12,"timerSubscription"],[45,27,27,29],[46,6,28,8],[46,10,28,12,"lastValue"],[46,19,28,21],[46,22,28,24],[46,26,28,28],[47,6,29,8],[47,10,29,12,"seen"],[47,14,29,16],[47,17,29,19],[47,18,29,20],[48,6,30,8],[48,10,30,12,"startTimer"],[48,20,30,22],[48,23,30,25],[48,32,30,25,"startTimer"],[48,33,30,35,"delay"],[48,38,30,40],[48,40,30,42],[49,8,31,12,"timerSubscription"],[49,25,31,29],[49,28,31,32,"executeSchedule_1"],[49,45,31,49],[49,46,31,50,"executeSchedule"],[49,61,31,65],[49,62,31,66,"subscriber"],[49,72,31,76],[49,74,31,78,"scheduler"],[49,83,31,87],[49,85,31,89],[49,97,31,101],[50,10,32,16],[50,14,32,20],[51,12,33,20,"originalSourceSubscription"],[51,38,33,46],[51,39,33,47,"unsubscribe"],[51,50,33,58],[51,51,33,59],[51,52,33,60],[52,12,34,20,"innerFrom_1"],[52,23,34,31],[52,24,34,32,"innerFrom"],[52,33,34,41],[52,34,34,42,"_with"],[52,39,34,47],[52,40,34,48],[53,14,35,24,"meta"],[53,18,35,28],[53,20,35,30,"meta"],[53,24,35,34],[54,14,36,24,"lastValue"],[54,23,36,33],[54,25,36,35,"lastValue"],[54,34,36,44],[55,14,37,24,"seen"],[55,18,37,28],[55,20,37,30,"seen"],[56,12,38,20],[56,13,38,21],[56,14,38,22],[56,15,38,23],[56,16,38,24,"subscribe"],[56,25,38,33],[56,26,38,34,"subscriber"],[56,36,38,44],[56,37,38,45],[57,10,39,16],[57,11,39,17],[57,12,40,16],[57,19,40,23,"err"],[57,22,40,26],[57,24,40,28],[58,12,41,20,"subscriber"],[58,22,41,30],[58,23,41,31,"error"],[58,28,41,36],[58,29,41,37,"err"],[58,32,41,40],[58,33,41,41],[59,10,42,16],[60,8,43,12],[60,9,43,13],[60,11,43,15,"delay"],[60,16,43,20],[60,17,43,21],[61,6,44,8],[61,7,44,9],[62,6,45,8,"originalSourceSubscription"],[62,32,45,34],[62,35,45,37,"source"],[62,41,45,43],[62,42,45,44,"subscribe"],[62,51,45,53],[62,52,45,54,"OperatorSubscriber_1"],[62,72,45,74],[62,73,45,75,"createOperatorSubscriber"],[62,97,45,99],[62,98,45,100,"subscriber"],[62,108,45,110],[62,110,45,112],[62,120,45,122,"value"],[62,125,45,127],[62,127,45,129],[63,8,46,12,"timerSubscription"],[63,25,46,29],[63,30,46,34],[63,34,46,38],[63,38,46,42,"timerSubscription"],[63,55,46,59],[63,60,46,64],[63,65,46,69],[63,66,46,70],[63,69,46,73],[63,74,46,78],[63,75,46,79],[63,78,46,82,"timerSubscription"],[63,95,46,99],[63,96,46,100,"unsubscribe"],[63,107,46,111],[63,108,46,112],[63,109,46,113],[64,8,47,12,"seen"],[64,12,47,16],[64,14,47,18],[65,8,48,12,"subscriber"],[65,18,48,22],[65,19,48,23,"next"],[65,23,48,27],[65,24,48,29,"lastValue"],[65,33,48,38],[65,36,48,41,"value"],[65,41,48,47],[65,42,48,48],[66,8,49,12,"each"],[66,12,49,16],[66,15,49,19],[66,16,49,20],[66,20,49,24,"startTimer"],[66,30,49,34],[66,31,49,35,"each"],[66,35,49,39],[66,36,49,40],[67,6,50,8],[67,7,50,9],[67,9,50,11,"undefined"],[67,18,50,20],[67,20,50,22,"undefined"],[67,29,50,31],[67,31,50,33],[67,43,50,45],[68,8,51,12],[68,12,51,16],[68,14,51,18,"timerSubscription"],[68,31,51,35],[68,36,51,40],[68,40,51,44],[68,44,51,48,"timerSubscription"],[68,61,51,65],[68,66,51,70],[68,71,51,75],[68,72,51,76],[68,75,51,79],[68,80,51,84],[68,81,51,85],[68,84,51,88,"timerSubscription"],[68,101,51,105],[68,102,51,106,"closed"],[68,108,51,112],[68,109,51,113],[68,111,51,115],[69,10,52,16,"timerSubscription"],[69,27,52,33],[69,32,52,38],[69,36,52,42],[69,40,52,46,"timerSubscription"],[69,57,52,63],[69,62,52,68],[69,67,52,73],[69,68,52,74],[69,71,52,77],[69,76,52,82],[69,77,52,83],[69,80,52,86,"timerSubscription"],[69,97,52,103],[69,98,52,104,"unsubscribe"],[69,109,52,115],[69,110,52,116],[69,111,52,117],[70,8,53,12],[71,8,54,12,"lastValue"],[71,17,54,21],[71,20,54,24],[71,24,54,28],[72,6,55,8],[72,7,55,9],[72,8,55,10],[72,9,55,11],[73,6,56,8],[73,7,56,9,"seen"],[73,11,56,13],[73,15,56,17,"startTimer"],[73,25,56,27],[73,26,56,28,"first"],[73,31,56,33],[73,35,56,37],[73,39,56,41],[73,42,56,45],[73,49,56,52,"first"],[73,54,56,57],[73,59,56,62],[73,67,56,70],[73,70,56,73,"first"],[73,75,56,78],[73,78,56,81],[73,79,56,82,"first"],[73,84,56,87],[73,87,56,90,"scheduler"],[73,96,56,99],[73,97,56,100,"now"],[73,100,56,103],[73,101,56,104],[73,102,56,105],[73,105,56,109,"each"],[73,109,56,113],[73,110,56,114],[74,4,57,4],[74,5,57,5],[74,6,57,6],[75,2,58,0],[76,2,59,0,"exports"],[76,9,59,7],[76,10,59,8,"timeout"],[76,17,59,15],[76,20,59,18,"timeout"],[76,27,59,25],[77,2,60,0],[77,11,60,9,"timeoutErrorFactory"],[77,30,60,28,"timeoutErrorFactory"],[77,31,60,29,"info"],[77,35,60,33],[77,37,60,35],[78,4,61,4],[78,10,61,10],[78,14,61,14,"exports"],[78,21,61,21],[78,22,61,22,"TimeoutError"],[78,34,61,34],[78,35,61,35,"info"],[78,39,61,39],[78,40,61,40],[79,2,62,0],[80,0,62,1],[80,3]],"functionMap":{"names":["<global>","createErrorClass_1.createErrorClass$argument_0","TimeoutErrorImpl","timeout","lift_1.operate$argument_0","startTimer","executeSchedule_1.executeSchedule$argument_2","OperatorSubscriber_1.createOperatorSubscriber$argument_1","OperatorSubscriber_1.createOperatorSubscriber$argument_4","timeoutErrorFactory"],"mappings":"AAA;2DCU;WCC;KDM;CDC;AGC;0BCK;yBCK;yFCC;aDY;SDC;gHGC;SHK,wBI;SJK;KDE;CHC;ASE;CTE"},"hasCjsExports":true},"type":"js/module"}]}