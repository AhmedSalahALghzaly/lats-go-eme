{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":3,"column":29,"index":44},"end":{"line":3,"column":84,"index":99}}],"key":"kslwqCIsh6ew+I1KeA1rlVRjsAk=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/extends","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":8,"column":39,"index":276},"end":{"line":8,"column":80,"index":317}}],"key":"+IMV7fApFxYj6g0kcsGRJafP6mc=","exportNames":["*"],"imports":1}},{"name":"../../../utils/common/logger","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":9,"column":37,"index":357},"end":{"line":9,"column":76,"index":396}}],"key":"qiPdBKj5ysE5SsTdLqbIQwTzX6k=","exportNames":["*"],"imports":1}},{"name":"lokijs/src/incremental-indexeddb-adapter","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":62,"column":58,"index":2710},"end":{"line":62,"column":109,"index":2761}},{"start":{"line":62,"column":112,"index":2764},"end":{"line":62,"column":163,"index":2815}}],"key":"YvHe/41k6wSp+OUEqbzlv1/jHSU=","exportNames":["*"],"imports":2}},{"name":"lokijs/src/loki-indexed-adapter","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":66,"column":33,"index":2977},"end":{"line":66,"column":75,"index":3019}}],"key":"sNYo2EFiJvEU/xitWgQv76boLBo=","exportNames":["*"],"imports":1}},{"name":"lokijs","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":81,"column":30,"index":3535},"end":{"line":81,"column":47,"index":3552}},{"start":{"line":81,"column":50,"index":3555},"end":{"line":81,"column":67,"index":3572}},{"start":{"line":93,"column":33,"index":3869},"end":{"line":93,"column":50,"index":3886}},{"start":{"line":93,"column":53,"index":3889},"end":{"line":93,"column":70,"index":3906}}],"key":"SHg3Yx8f7XJw09Hiio31cpspIqY=","exportNames":["*"],"imports":4}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _interopRequireDefault = require(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n  exports.__esModule = true;\n  exports.deleteDatabase = deleteDatabase;\n  exports.lokiFatalError = lokiFatalError;\n  exports.newLoki = newLoki;\n  var _extends2 = _interopRequireDefault(require(_dependencyMap[1], \"@babel/runtime/helpers/extends\"));\n  var _logger = _interopRequireDefault(require(_dependencyMap[2], \"../../../utils/common/logger\"));\n  /* eslint-disable no-undef */\n  // don't import the whole utils/ here!\n  var isIDBAvailable = function (onQuotaExceededError) {\n    return new Promise(function (resolve) {\n      // $FlowFixMe\n      if ('undefined' === typeof indexedDB) {\n        resolve(false);\n      }\n\n      // in Firefox private mode, IDB will be available, but will fail to open\n      // $FlowFixMe\n      var checkRequest = indexedDB.open('WatermelonIDBChecker');\n      checkRequest.onsuccess = function (e) {\n        var db = e.target.result;\n        db.close();\n        resolve(true);\n      };\n      checkRequest.onerror = function (event) {\n        var _event$target;\n        var error = null === event || void 0 === event ? void 0 : null === (_event$target = event.target) || void 0 === _event$target ? void 0 : _event$target.error;\n        // this is what Firefox in Private Mode returns:\n        // DOMException: \"A mutation operation was attempted on a database that did not allow mutations.\"\n        // code: 11, name: InvalidStateError\n        _logger.default.error('[Loki] IndexedDB checker failed to open. Most likely, user is in Private Mode. It could also be a quota exceeded error. Will fall back to in-memory database.', event, error);\n        if (error && 'QuotaExceededError' === error.name) {\n          _logger.default.log('[Loki] Looks like disk quota was exceeded: ', error);\n          onQuotaExceededError && onQuotaExceededError(error);\n        }\n        resolve(false);\n      };\n      checkRequest.onblocked = function () {\n        _logger.default.error('IndexedDB checker call is blocked');\n      };\n    });\n  };\n  function getLokiAdapter(options) {\n    return new Promise(function ($return, $error) {\n      var useIncrementalIndexedDB, adapter, onQuotaExceededError, dbName, extraIncrementalIDBOptions, IncrementalIDBAdapter, LokiIndexedAdapter, LokiMemoryAdapter;\n      useIncrementalIndexedDB = options.useIncrementalIndexedDB;\n      adapter = options._testLokiAdapter;\n      onQuotaExceededError = options.onQuotaExceededError;\n      dbName = options.dbName;\n      var _options$extraIncreme = options.extraIncrementalIDBOptions;\n      extraIncrementalIDBOptions = _options$extraIncreme === void 0 ? {} : _options$extraIncreme;\n      if (adapter) {\n        return $return(adapter);\n      } else {\n        return Promise.resolve(isIDBAvailable(onQuotaExceededError)).then(function ($await_3) {\n          try {\n            if ($await_3) {\n              if (useIncrementalIndexedDB) {\n                IncrementalIDBAdapter = options._betaLoki ? require(_dependencyMap[3], \"lokijs/src/incremental-indexeddb-adapter\") : require(_dependencyMap[3], \"lokijs/src/incremental-indexeddb-adapter\");\n                // $FlowFixMe\n                return $return(new IncrementalIDBAdapter(extraIncrementalIDBOptions));\n              }\n              LokiIndexedAdapter = require(_dependencyMap[4], \"lokijs/src/loki-indexed-adapter\");\n              return $return(new LokiIndexedAdapter(dbName));\n            }\n            return $If_2.call(this);\n          } catch ($boundEx) {\n            return $error($boundEx);\n          }\n        }.bind(this), $error);\n      }\n\n      // if IDB is unavailable (that happens in private mode), fall back to memory adapter\n      // we could also fall back to localstorage adapter, but it will fail in all but the smallest dbs\n      function $If_2() {\n        var _ref = options._betaLoki ? require(_dependencyMap[5], \"lokijs\") : require(_dependencyMap[5], \"lokijs\");\n        LokiMemoryAdapter = _ref.LokiMemoryAdapter;\n        return $return(new LokiMemoryAdapter());\n      }\n      return $If_2.call(this);\n    });\n  }\n  function newLoki(options) {\n    return new Promise(function ($return, $error) {\n      var extraLokiOptions, LokiDb, loki;\n      var _options$extraLokiOpt = options.extraLokiOptions;\n      extraLokiOptions = _options$extraLokiOpt === void 0 ? {} : _options$extraLokiOpt;\n      LokiDb = options._betaLoki ? require(_dependencyMap[5], \"lokijs\") : require(_dependencyMap[5], \"lokijs\");\n      return Promise.resolve(getLokiAdapter(options)).then(function ($await_4) {\n        try {\n          loki = new LokiDb(options.dbName, (0, _extends2.default)({\n            adapter: $await_4,\n            autosave: true,\n            autosaveInterval: 500,\n            verbose: true\n          }, extraLokiOptions));\n          return Promise.resolve(new Promise(function (resolve, reject) {\n            loki.loadDatabase({}, function (error) {\n              error ? reject(error) : resolve();\n            });\n          })).then(function ($await_5) {\n            try {\n              return $return(loki);\n            } catch ($boundEx) {\n              return $error($boundEx);\n            }\n          }, $error);\n        } catch ($boundEx) {\n          return $error($boundEx);\n        }\n      }, $error);\n    });\n  }\n  function deleteDatabase(loki) {\n    return new Promise(function ($return, $error) {\n      return Promise.resolve(new Promise(function (resolve, reject) {\n        // Works around a race condition - Loki doesn't disable autosave or drain save queue before\n        // deleting database, so it's possible to delete and then have the database be saved\n        loki.close(function () {\n          loki.deleteDatabase({}, function (response) {\n            // LokiIndexedAdapter responds with `{ success: true }`, while\n            // LokiMemory adapter just calls it with no params\n            if (response && response.success || response === undefined) {\n              resolve();\n            } else {\n              reject(response);\n            }\n          });\n        });\n      })).then(function ($await_6) {\n        try {\n          return $return();\n        } catch ($boundEx) {\n          return $error($boundEx);\n        }\n      }, $error);\n    });\n  }\n\n  // In case of a fatal error, break Loki so that it cannot save its contents to disk anymore\n  // This might result in a loss of data in recent changes, but we assume that whatever caused the\n  // fatal error has corrupted the database, so we want to prevent it from being persisted\n  // There's no recovery from this, app must be restarted with a fresh LokiJSAdapter.\n  function lokiFatalError(loki) {\n    try {\n      // below is some very ugly defensive coding, but we're fatal and don't trust anyone anymore\n      var fatalHandler = function fatalHandler() {\n        throw new Error('Illegal attempt to save Loki database after a fatal error');\n      };\n      loki.save = fatalHandler;\n      loki.saveDatabase = fatalHandler;\n      loki.saveDatabaseInternal = fatalHandler;\n      // disable autosave\n      loki.autosave = false;\n      loki.autosaveDisable();\n      // close db\n      loki.close();\n    } catch (error) {\n      _logger.default.error('Failed to perform loki fatal error');\n      _logger.default.error(error);\n    }\n  }\n});","lineCount":166,"map":[[2,2,1,0],[2,14,1,12],[4,2,3,0],[4,6,3,4,"_interopRequireDefault"],[4,28,3,26],[4,31,3,29,"require"],[4,38,3,36],[4,39,3,36,"_dependencyMap"],[4,53,3,36],[4,104,3,83],[4,105,3,84],[5,2,4,0,"exports"],[5,9,4,7],[5,10,4,8,"__esModule"],[5,20,4,18],[5,23,4,21],[5,27,4,25],[6,2,5,0,"exports"],[6,9,5,7],[6,10,5,8,"deleteDatabase"],[6,24,5,22],[6,27,5,25,"deleteDatabase"],[6,41,5,39],[7,2,6,0,"exports"],[7,9,6,7],[7,10,6,8,"lokiFatalError"],[7,24,6,22],[7,27,6,25,"lokiFatalError"],[7,41,6,39],[8,2,7,0,"exports"],[8,9,7,7],[8,10,7,8,"newLoki"],[8,17,7,15],[8,20,7,18,"newLoki"],[8,27,7,25],[9,2,8,0],[9,6,8,4,"_extends2"],[9,15,8,13],[9,18,8,16,"_interopRequireDefault"],[9,40,8,38],[9,41,8,39,"require"],[9,48,8,46],[9,49,8,46,"_dependencyMap"],[9,63,8,46],[9,100,8,79],[9,101,8,80],[9,102,8,81],[10,2,9,0],[10,6,9,4,"_logger"],[10,13,9,11],[10,16,9,14,"_interopRequireDefault"],[10,38,9,36],[10,39,9,37,"require"],[10,46,9,44],[10,47,9,44,"_dependencyMap"],[10,61,9,44],[10,96,9,75],[10,97,9,76],[10,98,9,77],[11,2,10,0],[12,2,11,0],[13,2,12,0],[13,6,12,4,"isIDBAvailable"],[13,20,12,18],[13,23,12,21],[13,32,12,21,"isIDBAvailable"],[13,33,12,31,"onQuotaExceededError"],[13,53,12,51],[13,55,12,53],[14,4,13,2],[14,11,13,9],[14,15,13,13,"Promise"],[14,22,13,20],[14,23,13,21],[14,33,13,31,"resolve"],[14,40,13,38],[14,42,13,40],[15,6,14,4],[16,6,15,4],[16,10,15,8],[16,21,15,19],[16,26,15,24],[16,33,15,31,"indexedDB"],[16,42,15,40],[16,44,15,42],[17,8,16,6,"resolve"],[17,15,16,13],[17,16,16,14],[17,21,16,19],[17,22,16,20],[18,6,17,4],[20,6,19,4],[21,6,20,4],[22,6,21,4],[22,10,21,8,"checkRequest"],[22,22,21,20],[22,25,21,23,"indexedDB"],[22,34,21,32],[22,35,21,33,"open"],[22,39,21,37],[22,40,21,38],[22,62,21,60],[22,63,21,61],[23,6,22,4,"checkRequest"],[23,18,22,16],[23,19,22,17,"onsuccess"],[23,28,22,26],[23,31,22,29],[23,41,22,39,"e"],[23,42,22,40],[23,44,22,42],[24,8,23,6],[24,12,23,10,"db"],[24,14,23,12],[24,17,23,15,"e"],[24,18,23,16],[24,19,23,17,"target"],[24,25,23,23],[24,26,23,24,"result"],[24,32,23,30],[25,8,24,6,"db"],[25,10,24,8],[25,11,24,9,"close"],[25,16,24,14],[25,17,24,15],[25,18,24,16],[26,8,25,6,"resolve"],[26,15,25,13],[26,16,25,14],[26,20,25,18],[26,21,25,19],[27,6,26,4],[27,7,26,5],[28,6,27,4,"checkRequest"],[28,18,27,16],[28,19,27,17,"onerror"],[28,26,27,24],[28,29,27,27],[28,39,27,37,"event"],[28,44,27,42],[28,46,27,44],[29,8,28,6],[29,12,28,10,"_event$target"],[29,25,28,23],[30,8,29,6],[30,12,29,10,"error"],[30,17,29,15],[30,20,29,18],[30,24,29,22],[30,29,29,27,"event"],[30,34,29,32],[30,38,29,36],[30,43,29,41],[30,44,29,42],[30,49,29,47,"event"],[30,54,29,52],[30,57,29,55],[30,62,29,60],[30,63,29,61],[30,66,29,64],[30,70,29,68],[30,76,29,74,"_event$target"],[30,89,29,87],[30,92,29,90,"event"],[30,97,29,95],[30,98,29,96,"target"],[30,104,29,102],[30,105,29,103],[30,109,29,107],[30,114,29,112],[30,115,29,113],[30,120,29,118,"_event$target"],[30,133,29,131],[30,136,29,134],[30,141,29,139],[30,142,29,140],[30,145,29,143,"_event$target"],[30,158,29,156],[30,159,29,157,"error"],[30,164,29,162],[31,8,30,6],[32,8,31,6],[33,8,32,6],[34,8,33,6,"_logger"],[34,15,33,13],[34,16,33,14,"default"],[34,23,33,21],[34,24,33,22,"error"],[34,29,33,27],[34,30,33,28],[34,189,33,187],[34,191,33,189,"event"],[34,196,33,194],[34,198,33,196,"error"],[34,203,33,201],[34,204,33,202],[35,8,34,6],[35,12,34,10,"error"],[35,17,34,15],[35,21,34,19],[35,41,34,39],[35,46,34,44,"error"],[35,51,34,49],[35,52,34,50,"name"],[35,56,34,54],[35,58,34,56],[36,10,35,8,"_logger"],[36,17,35,15],[36,18,35,16,"default"],[36,25,35,23],[36,26,35,24,"log"],[36,29,35,27],[36,30,35,28],[36,75,35,73],[36,77,35,75,"error"],[36,82,35,80],[36,83,35,81],[37,10,36,8,"onQuotaExceededError"],[37,30,36,28],[37,34,36,32,"onQuotaExceededError"],[37,54,36,52],[37,55,36,53,"error"],[37,60,36,58],[37,61,36,59],[38,8,37,6],[39,8,38,6,"resolve"],[39,15,38,13],[39,16,38,14],[39,21,38,19],[39,22,38,20],[40,6,39,4],[40,7,39,5],[41,6,40,4,"checkRequest"],[41,18,40,16],[41,19,40,17,"onblocked"],[41,28,40,26],[41,31,40,29],[41,43,40,41],[42,8,41,6,"_logger"],[42,15,41,13],[42,16,41,14,"default"],[42,23,41,21],[42,24,41,22,"error"],[42,29,41,27],[42,30,41,28],[42,65,41,63],[42,66,41,64],[43,6,42,4],[43,7,42,5],[44,4,43,2],[44,5,43,3],[44,6,43,4],[45,2,44,0],[45,3,44,1],[46,2,45,0],[46,11,45,9,"getLokiAdapter"],[46,25,45,23,"getLokiAdapter"],[46,26,45,24,"options"],[46,33,45,31],[46,35,45,33],[47,4,46,2],[47,11,46,9],[47,15,46,13,"Promise"],[47,22,46,20],[47,23,46,21],[47,33,46,31,"$return"],[47,40,46,38],[47,42,46,40,"$error"],[47,48,46,46],[47,50,46,48],[48,6,47,4],[48,10,47,8,"useIncrementalIndexedDB"],[48,33,47,31],[48,35,47,33,"adapter"],[48,42,47,40],[48,44,47,42,"onQuotaExceededError"],[48,64,47,62],[48,66,47,64,"dbName"],[48,72,47,70],[48,74,47,72,"extraIncrementalIDBOptions"],[48,100,47,98],[48,102,47,100,"IncrementalIDBAdapter"],[48,123,47,121],[48,125,47,123,"LokiIndexedAdapter"],[48,143,47,141],[48,145,47,143,"LokiMemoryAdapter"],[48,162,47,160],[49,6,49,31,"useIncrementalIndexedDB"],[49,29,49,54],[49,32,54,8,"options"],[49,39,54,15],[49,40,49,6,"useIncrementalIndexedDB"],[49,63,49,29],[50,6,50,24,"adapter"],[50,13,50,31],[50,16,54,8,"options"],[50,23,54,15],[50,24,50,6,"_testLokiAdapter"],[50,40,50,22],[51,6,51,28,"onQuotaExceededError"],[51,26,51,48],[51,29,54,8,"options"],[51,36,54,15],[51,37,51,6,"onQuotaExceededError"],[51,57,51,26],[52,6,52,14,"dbName"],[52,12,52,20],[52,15,54,8,"options"],[52,22,54,15],[52,23,52,6,"dbName"],[52,29,52,12],[53,6,52,12],[53,10,52,12,"_options$extraIncreme"],[53,31,52,12],[53,34,54,8,"options"],[53,41,54,15],[53,42,53,6,"extraIncrementalIDBOptions"],[53,68,53,32],[54,6,53,6,"extraIncrementalIDBOptions"],[54,32,53,32],[54,35,53,32,"_options$extraIncreme"],[54,56,53,32],[54,70,53,35],[54,71,53,36],[54,72,53,37],[54,75,53,37,"_options$extraIncreme"],[54,96,53,37],[55,6,55,4],[55,10,55,8,"adapter"],[55,17,55,15],[55,19,55,17],[56,8,56,6],[56,15,56,13,"$return"],[56,22,56,20],[56,23,56,21,"adapter"],[56,30,56,28],[56,31,56,29],[57,6,57,4],[57,7,57,5],[57,13,57,11],[58,8,58,6],[58,15,58,13,"Promise"],[58,22,58,20],[58,23,58,21,"resolve"],[58,30,58,28],[58,31,58,29,"isIDBAvailable"],[58,45,58,43],[58,46,58,44,"onQuotaExceededError"],[58,66,58,64],[58,67,58,65],[58,68,58,66],[58,69,58,67,"then"],[58,73,58,71],[58,74,58,72],[58,84,58,82,"$await_3"],[58,92,58,90],[58,94,58,92],[59,10,59,8],[59,14,59,12],[60,12,60,10],[60,16,60,14,"$await_3"],[60,24,60,22],[60,26,60,24],[61,14,61,12],[61,18,61,16,"useIncrementalIndexedDB"],[61,41,61,39],[61,43,61,41],[62,16,62,14,"IncrementalIDBAdapter"],[62,37,62,35],[62,40,62,38,"options"],[62,47,62,45],[62,48,62,46,"_betaLoki"],[62,57,62,55],[62,60,62,58,"require"],[62,67,62,65],[62,68,62,65,"_dependencyMap"],[62,82,62,65],[62,129,62,108],[62,130,62,109],[62,133,62,112,"require"],[62,140,62,119],[62,141,62,119,"_dependencyMap"],[62,155,62,119],[62,202,62,162],[62,203,62,163],[63,16,63,14],[64,16,64,14],[64,23,64,21,"$return"],[64,30,64,28],[64,31,64,29],[64,35,64,33,"IncrementalIDBAdapter"],[64,56,64,54],[64,57,64,55,"extraIncrementalIDBOptions"],[64,83,64,81],[64,84,64,82],[64,85,64,83],[65,14,65,12],[66,14,66,12,"LokiIndexedAdapter"],[66,32,66,30],[66,35,66,33,"require"],[66,42,66,40],[66,43,66,40,"_dependencyMap"],[66,57,66,40],[66,95,66,74],[66,96,66,75],[67,14,67,12],[67,21,67,19,"$return"],[67,28,67,26],[67,29,67,27],[67,33,67,31,"LokiIndexedAdapter"],[67,51,67,49],[67,52,67,50,"dbName"],[67,58,67,56],[67,59,67,57],[67,60,67,58],[68,12,68,10],[69,12,69,10],[69,19,69,17,"$If_2"],[69,24,69,22],[69,25,69,23,"call"],[69,29,69,27],[69,30,69,28],[69,34,69,32],[69,35,69,33],[70,10,70,8],[70,11,70,9],[70,12,70,10],[70,19,70,17,"$boundEx"],[70,27,70,25],[70,29,70,27],[71,12,71,10],[71,19,71,17,"$error"],[71,25,71,23],[71,26,71,24,"$boundEx"],[71,34,71,32],[71,35,71,33],[72,10,72,8],[73,8,73,6],[73,9,73,7],[73,10,73,8,"bind"],[73,14,73,12],[73,15,73,13],[73,19,73,17],[73,20,73,18],[73,22,73,20,"$error"],[73,28,73,26],[73,29,73,27],[74,6,74,4],[76,6,76,4],[77,6,77,4],[78,6,78,4],[78,15,78,13,"$If_2"],[78,20,78,18,"$If_2"],[78,21,78,18],[78,23,78,21],[79,8,78,21],[79,12,78,21,"_ref"],[79,16,78,21],[79,19,81,10,"options"],[79,26,81,17],[79,27,81,18,"_betaLoki"],[79,36,81,27],[79,39,81,30,"require"],[79,46,81,37],[79,47,81,37,"_dependencyMap"],[79,61,81,37],[79,74,81,46],[79,75,81,47],[79,78,81,50,"require"],[79,85,81,57],[79,86,81,57,"_dependencyMap"],[79,100,81,57],[79,113,81,66],[79,114,81,67],[80,8,80,27,"LokiMemoryAdapter"],[80,25,80,44],[80,28,80,44,"_ref"],[80,32,80,44],[80,33,80,8,"LokiMemoryAdapter"],[80,50,80,25],[81,8,82,6],[81,15,82,13,"$return"],[81,22,82,20],[81,23,82,21],[81,27,82,25,"LokiMemoryAdapter"],[81,44,82,42],[81,45,82,43],[81,46,82,44],[81,47,82,45],[82,6,83,4],[83,6,84,4],[83,13,84,11,"$If_2"],[83,18,84,16],[83,19,84,17,"call"],[83,23,84,21],[83,24,84,22],[83,28,84,26],[83,29,84,27],[84,4,85,2],[84,5,85,3],[84,6,85,4],[85,2,86,0],[86,2,87,0],[86,11,87,9,"newLoki"],[86,18,87,16,"newLoki"],[86,19,87,17,"options"],[86,26,87,24],[86,28,87,26],[87,4,88,2],[87,11,88,9],[87,15,88,13,"Promise"],[87,22,88,20],[87,23,88,21],[87,33,88,31,"$return"],[87,40,88,38],[87,42,88,40,"$error"],[87,48,88,46],[87,50,88,48],[88,6,89,4],[88,10,89,8,"extraLokiOptions"],[88,26,89,24],[88,28,89,26,"LokiDb"],[88,34,89,32],[88,36,89,34,"loki"],[88,40,89,38],[89,6,89,39],[89,10,89,39,"_options$extraLokiOpt"],[89,31,89,39],[89,34,92,8,"options"],[89,41,92,15],[89,42,91,6,"extraLokiOptions"],[89,58,91,22],[90,6,91,6,"extraLokiOptions"],[90,22,91,22],[90,25,91,22,"_options$extraLokiOpt"],[90,46,91,22],[90,60,91,25],[90,61,91,26],[90,62,91,27],[90,65,91,27,"_options$extraLokiOpt"],[90,86,91,27],[91,6,93,4,"LokiDb"],[91,12,93,10],[91,15,93,13,"options"],[91,22,93,20],[91,23,93,21,"_betaLoki"],[91,32,93,30],[91,35,93,33,"require"],[91,42,93,40],[91,43,93,40,"_dependencyMap"],[91,57,93,40],[91,70,93,49],[91,71,93,50],[91,74,93,53,"require"],[91,81,93,60],[91,82,93,60,"_dependencyMap"],[91,96,93,60],[91,109,93,69],[91,110,93,70],[92,6,94,4],[92,13,94,11,"Promise"],[92,20,94,18],[92,21,94,19,"resolve"],[92,28,94,26],[92,29,94,27,"getLokiAdapter"],[92,43,94,41],[92,44,94,42,"options"],[92,51,94,49],[92,52,94,50],[92,53,94,51],[92,54,94,52,"then"],[92,58,94,56],[92,59,94,57],[92,69,94,67,"$await_4"],[92,77,94,75],[92,79,94,77],[93,8,95,6],[93,12,95,10],[94,10,96,8,"loki"],[94,14,96,12],[94,17,96,15],[94,21,96,19,"LokiDb"],[94,27,96,25],[94,28,96,26,"options"],[94,35,96,33],[94,36,96,34,"dbName"],[94,42,96,40],[94,44,96,42],[94,45,96,43],[94,46,96,44],[94,48,96,46,"_extends2"],[94,57,96,55],[94,58,96,56,"default"],[94,65,96,63],[94,67,96,65],[95,12,97,10,"adapter"],[95,19,97,17],[95,21,97,19,"$await_4"],[95,29,97,27],[96,12,98,10,"autosave"],[96,20,98,18],[96,22,98,20],[96,26,98,24],[97,12,99,10,"autosaveInterval"],[97,28,99,26],[97,30,99,28],[97,33,99,31],[98,12,100,10,"verbose"],[98,19,100,17],[98,21,100,19],[99,10,101,8],[99,11,101,9],[99,13,101,11,"extraLokiOptions"],[99,29,101,27],[99,30,101,28],[99,31,101,29],[100,10,102,8],[100,17,102,15,"Promise"],[100,24,102,22],[100,25,102,23,"resolve"],[100,32,102,30],[100,33,102,31],[100,37,102,35,"Promise"],[100,44,102,42],[100,45,102,43],[100,55,102,53,"resolve"],[100,62,102,60],[100,64,102,62,"reject"],[100,70,102,68],[100,72,102,70],[101,12,103,10,"loki"],[101,16,103,14],[101,17,103,15,"loadDatabase"],[101,29,103,27],[101,30,103,28],[101,31,103,29],[101,32,103,30],[101,34,103,32],[101,44,103,42,"error"],[101,49,103,47],[101,51,103,49],[102,14,104,12,"error"],[102,19,104,17],[102,22,104,20,"reject"],[102,28,104,26],[102,29,104,27,"error"],[102,34,104,32],[102,35,104,33],[102,38,104,36,"resolve"],[102,45,104,43],[102,46,104,44],[102,47,104,45],[103,12,105,10],[103,13,105,11],[103,14,105,12],[104,10,106,8],[104,11,106,9],[104,12,106,10],[104,13,106,11],[104,14,106,12,"then"],[104,18,106,16],[104,19,106,17],[104,29,106,27,"$await_5"],[104,37,106,35],[104,39,106,37],[105,12,107,10],[105,16,107,14],[106,14,108,12],[106,21,108,19,"$return"],[106,28,108,26],[106,29,108,27,"loki"],[106,33,108,31],[106,34,108,32],[107,12,109,10],[107,13,109,11],[107,14,109,12],[107,21,109,19,"$boundEx"],[107,29,109,27],[107,31,109,29],[108,14,110,12],[108,21,110,19,"$error"],[108,27,110,25],[108,28,110,26,"$boundEx"],[108,36,110,34],[108,37,110,35],[109,12,111,10],[110,10,112,8],[110,11,112,9],[110,13,112,11,"$error"],[110,19,112,17],[110,20,112,18],[111,8,113,6],[111,9,113,7],[111,10,113,8],[111,17,113,15,"$boundEx"],[111,25,113,23],[111,27,113,25],[112,10,114,8],[112,17,114,15,"$error"],[112,23,114,21],[112,24,114,22,"$boundEx"],[112,32,114,30],[112,33,114,31],[113,8,115,6],[114,6,116,4],[114,7,116,5],[114,9,116,7,"$error"],[114,15,116,13],[114,16,116,14],[115,4,117,2],[115,5,117,3],[115,6,117,4],[116,2,118,0],[117,2,119,0],[117,11,119,9,"deleteDatabase"],[117,25,119,23,"deleteDatabase"],[117,26,119,24,"loki"],[117,30,119,28],[117,32,119,30],[118,4,120,2],[118,11,120,9],[118,15,120,13,"Promise"],[118,22,120,20],[118,23,120,21],[118,33,120,31,"$return"],[118,40,120,38],[118,42,120,40,"$error"],[118,48,120,46],[118,50,120,48],[119,6,121,4],[119,13,121,11,"Promise"],[119,20,121,18],[119,21,121,19,"resolve"],[119,28,121,26],[119,29,121,27],[119,33,121,31,"Promise"],[119,40,121,38],[119,41,121,39],[119,51,121,49,"resolve"],[119,58,121,56],[119,60,121,58,"reject"],[119,66,121,64],[119,68,121,66],[120,8,122,6],[121,8,123,6],[122,8,124,6,"loki"],[122,12,124,10],[122,13,124,11,"close"],[122,18,124,16],[122,19,124,17],[122,31,124,29],[123,10,125,8,"loki"],[123,14,125,12],[123,15,125,13,"deleteDatabase"],[123,29,125,27],[123,30,125,28],[123,31,125,29],[123,32,125,30],[123,34,125,32],[123,44,125,42,"response"],[123,52,125,50],[123,54,125,52],[124,12,126,10],[125,12,127,10],[126,12,128,10],[126,16,128,14,"response"],[126,24,128,22],[126,28,128,26,"response"],[126,36,128,34],[126,37,128,35,"success"],[126,44,128,42],[126,48,128,46,"response"],[126,56,128,54],[126,61,128,59,"undefined"],[126,70,128,68],[126,72,128,70],[127,14,129,12,"resolve"],[127,21,129,19],[127,22,129,20],[127,23,129,21],[128,12,130,10],[128,13,130,11],[128,19,130,17],[129,14,131,12,"reject"],[129,20,131,18],[129,21,131,19,"response"],[129,29,131,27],[129,30,131,28],[130,12,132,10],[131,10,133,8],[131,11,133,9],[131,12,133,10],[132,8,134,6],[132,9,134,7],[132,10,134,8],[133,6,135,4],[133,7,135,5],[133,8,135,6],[133,9,135,7],[133,10,135,8,"then"],[133,14,135,12],[133,15,135,13],[133,25,135,23,"$await_6"],[133,33,135,31],[133,35,135,33],[134,8,136,6],[134,12,136,10],[135,10,137,8],[135,17,137,15,"$return"],[135,24,137,22],[135,25,137,23],[135,26,137,24],[136,8,138,6],[136,9,138,7],[136,10,138,8],[136,17,138,15,"$boundEx"],[136,25,138,23],[136,27,138,25],[137,10,139,8],[137,17,139,15,"$error"],[137,23,139,21],[137,24,139,22,"$boundEx"],[137,32,139,30],[137,33,139,31],[138,8,140,6],[139,6,141,4],[139,7,141,5],[139,9,141,7,"$error"],[139,15,141,13],[139,16,141,14],[140,4,142,2],[140,5,142,3],[140,6,142,4],[141,2,143,0],[143,2,145,0],[144,2,146,0],[145,2,147,0],[146,2,148,0],[147,2,149,0],[147,11,149,9,"lokiFatalError"],[147,25,149,23,"lokiFatalError"],[147,26,149,24,"loki"],[147,30,149,28],[147,32,149,30],[148,4,150,2],[148,8,150,6],[149,6,151,4],[150,6,152,4],[150,10,152,8,"fatalHandler"],[150,22,152,20],[150,25,152,23],[150,34,152,32,"fatalHandler"],[150,46,152,44,"fatalHandler"],[150,47,152,44],[150,49,152,47],[151,8,153,6],[151,14,153,12],[151,18,153,16,"Error"],[151,23,153,21],[151,24,153,22],[151,83,153,81],[151,84,153,82],[152,6,154,4],[152,7,154,5],[153,6,155,4,"loki"],[153,10,155,8],[153,11,155,9,"save"],[153,15,155,13],[153,18,155,16,"fatalHandler"],[153,30,155,28],[154,6,156,4,"loki"],[154,10,156,8],[154,11,156,9,"saveDatabase"],[154,23,156,21],[154,26,156,24,"fatalHandler"],[154,38,156,36],[155,6,157,4,"loki"],[155,10,157,8],[155,11,157,9,"saveDatabaseInternal"],[155,31,157,29],[155,34,157,32,"fatalHandler"],[155,46,157,44],[156,6,158,4],[157,6,159,4,"loki"],[157,10,159,8],[157,11,159,9,"autosave"],[157,19,159,17],[157,22,159,20],[157,27,159,25],[158,6,160,4,"loki"],[158,10,160,8],[158,11,160,9,"autosaveDisable"],[158,26,160,24],[158,27,160,25],[158,28,160,26],[159,6,161,4],[160,6,162,4,"loki"],[160,10,162,8],[160,11,162,9,"close"],[160,16,162,14],[160,17,162,15],[160,18,162,16],[161,4,163,2],[161,5,163,3],[161,6,163,4],[161,13,163,11,"error"],[161,18,163,16],[161,20,163,18],[162,6,164,4,"_logger"],[162,13,164,11],[162,14,164,12,"default"],[162,21,164,19],[162,22,164,20,"error"],[162,27,164,25],[162,28,164,26],[162,64,164,62],[162,65,164,63],[163,6,165,4,"_logger"],[163,13,165,11],[163,14,165,12,"default"],[163,21,165,19],[163,22,165,20,"error"],[163,27,165,25],[163,28,165,26,"error"],[163,33,165,31],[163,34,165,32],[164,4,166,2],[165,2,167,0],[166,0,167,1],[166,3]],"functionMap":{"names":["<global>","isIDBAvailable","Promise$argument_0","checkRequest.onsuccess","checkRequest.onerror","checkRequest.onblocked","getLokiAdapter","<anonymous>","$If_2","newLoki","Promise.resolve.then$argument_0","loki.loadDatabase$argument_1","deleteDatabase","loki.close$argument_0","loki.deleteDatabase$argument_1","lokiFatalError","fatalHandler"],"mappings":"AAA;qBCW;qBCC;6BCS;KDI;2BEC;KFY;6BGC;KHE;GDC;CDC;AMC;qBJC;wEKY;OLe;IMK;KNK;GIE;CNC;ASC;qBPC;yDQM;2CRQ;gCSC;WTE;SQC;KRU;GOC;CTC;AYC;qBVC;iBWI;gCCC;SDQ;OXC;aQC;KRM;GUC;CZC;AeM;uBCG;KDE"},"hasCjsExports":true},"type":"js/module"}]}