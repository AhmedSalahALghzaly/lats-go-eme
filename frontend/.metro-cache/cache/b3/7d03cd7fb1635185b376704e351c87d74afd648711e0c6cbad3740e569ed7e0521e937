{"dependencies":[{"name":"../scheduler/async","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":4,"column":14,"index":122},"end":{"line":4,"column":43,"index":151}}],"key":"DwsQXSm/xtyztPccmczjezyRPzQ=","exportNames":["*"],"imports":1}},{"name":"../util/lift","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":5,"column":13,"index":166},"end":{"line":5,"column":36,"index":189}}],"key":"QCxE0PdfaUm4cT9qPVYaaaoo46A=","exportNames":["*"],"imports":1}},{"name":"./OperatorSubscriber","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":6,"column":27,"index":218},"end":{"line":6,"column":58,"index":249}}],"key":"5a4JxA+rxI0MIxewBKZddpWmHrQ=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.debounceTime = void 0;\n  var async_1 = require(_dependencyMap[0], \"../scheduler/async\");\n  var lift_1 = require(_dependencyMap[1], \"../util/lift\");\n  var OperatorSubscriber_1 = require(_dependencyMap[2], \"./OperatorSubscriber\");\n  function debounceTime(dueTime, scheduler) {\n    if (scheduler === void 0) {\n      scheduler = async_1.asyncScheduler;\n    }\n    return lift_1.operate(function (source, subscriber) {\n      var activeTask = null;\n      var lastValue = null;\n      var lastTime = null;\n      var emit = function () {\n        if (activeTask) {\n          activeTask.unsubscribe();\n          activeTask = null;\n          var value = lastValue;\n          lastValue = null;\n          subscriber.next(value);\n        }\n      };\n      function emitWhenIdle() {\n        var targetTime = lastTime + dueTime;\n        var now = scheduler.now();\n        if (now < targetTime) {\n          activeTask = this.schedule(undefined, targetTime - now);\n          subscriber.add(activeTask);\n          return;\n        }\n        emit();\n      }\n      source.subscribe(OperatorSubscriber_1.createOperatorSubscriber(subscriber, function (value) {\n        lastValue = value;\n        lastTime = scheduler.now();\n        if (!activeTask) {\n          activeTask = scheduler.schedule(emitWhenIdle, dueTime);\n          subscriber.add(activeTask);\n        }\n      }, function () {\n        emit();\n        subscriber.complete();\n      }, undefined, function () {\n        lastValue = activeTask = null;\n      }));\n    });\n  }\n  exports.debounceTime = debounceTime;\n});","lineCount":54,"map":[[2,2,1,0],[2,14,1,12],[4,2,2,0,"Object"],[4,8,2,6],[4,9,2,7,"defineProperty"],[4,23,2,21],[4,24,2,22,"exports"],[4,31,2,29],[4,33,2,31],[4,45,2,43],[4,47,2,45],[5,4,2,47,"value"],[5,9,2,52],[5,11,2,54],[6,2,2,59],[6,3,2,60],[6,4,2,61],[7,2,3,0,"exports"],[7,9,3,7],[7,10,3,8,"debounceTime"],[7,22,3,20],[7,25,3,23],[7,30,3,28],[7,31,3,29],[8,2,4,0],[8,6,4,4,"async_1"],[8,13,4,11],[8,16,4,14,"require"],[8,23,4,21],[8,24,4,21,"_dependencyMap"],[8,38,4,21],[8,63,4,42],[8,64,4,43],[9,2,5,0],[9,6,5,4,"lift_1"],[9,12,5,10],[9,15,5,13,"require"],[9,22,5,20],[9,23,5,20,"_dependencyMap"],[9,37,5,20],[9,56,5,35],[9,57,5,36],[10,2,6,0],[10,6,6,4,"OperatorSubscriber_1"],[10,26,6,24],[10,29,6,27,"require"],[10,36,6,34],[10,37,6,34,"_dependencyMap"],[10,51,6,34],[10,78,6,57],[10,79,6,58],[11,2,7,0],[11,11,7,9,"debounceTime"],[11,23,7,21,"debounceTime"],[11,24,7,22,"dueTime"],[11,31,7,29],[11,33,7,31,"scheduler"],[11,42,7,40],[11,44,7,42],[12,4,8,4],[12,8,8,8,"scheduler"],[12,17,8,17],[12,22,8,22],[12,27,8,27],[12,28,8,28],[12,30,8,30],[13,6,8,32,"scheduler"],[13,15,8,41],[13,18,8,44,"async_1"],[13,25,8,51],[13,26,8,52,"asyncScheduler"],[13,40,8,66],[14,4,8,68],[15,4,9,4],[15,11,9,11,"lift_1"],[15,17,9,17],[15,18,9,18,"operate"],[15,25,9,25],[15,26,9,26],[15,36,9,36,"source"],[15,42,9,42],[15,44,9,44,"subscriber"],[15,54,9,54],[15,56,9,56],[16,6,10,8],[16,10,10,12,"activeTask"],[16,20,10,22],[16,23,10,25],[16,27,10,29],[17,6,11,8],[17,10,11,12,"lastValue"],[17,19,11,21],[17,22,11,24],[17,26,11,28],[18,6,12,8],[18,10,12,12,"lastTime"],[18,18,12,20],[18,21,12,23],[18,25,12,27],[19,6,13,8],[19,10,13,12,"emit"],[19,14,13,16],[19,17,13,19],[19,26,13,19,"emit"],[19,27,13,19],[19,29,13,31],[20,8,14,12],[20,12,14,16,"activeTask"],[20,22,14,26],[20,24,14,28],[21,10,15,16,"activeTask"],[21,20,15,26],[21,21,15,27,"unsubscribe"],[21,32,15,38],[21,33,15,39],[21,34,15,40],[22,10,16,16,"activeTask"],[22,20,16,26],[22,23,16,29],[22,27,16,33],[23,10,17,16],[23,14,17,20,"value"],[23,19,17,25],[23,22,17,28,"lastValue"],[23,31,17,37],[24,10,18,16,"lastValue"],[24,19,18,25],[24,22,18,28],[24,26,18,32],[25,10,19,16,"subscriber"],[25,20,19,26],[25,21,19,27,"next"],[25,25,19,31],[25,26,19,32,"value"],[25,31,19,37],[25,32,19,38],[26,8,20,12],[27,6,21,8],[27,7,21,9],[28,6,22,8],[28,15,22,17,"emitWhenIdle"],[28,27,22,29,"emitWhenIdle"],[28,28,22,29],[28,30,22,32],[29,8,23,12],[29,12,23,16,"targetTime"],[29,22,23,26],[29,25,23,29,"lastTime"],[29,33,23,37],[29,36,23,40,"dueTime"],[29,43,23,47],[30,8,24,12],[30,12,24,16,"now"],[30,15,24,19],[30,18,24,22,"scheduler"],[30,27,24,31],[30,28,24,32,"now"],[30,31,24,35],[30,32,24,36],[30,33,24,37],[31,8,25,12],[31,12,25,16,"now"],[31,15,25,19],[31,18,25,22,"targetTime"],[31,28,25,32],[31,30,25,34],[32,10,26,16,"activeTask"],[32,20,26,26],[32,23,26,29],[32,27,26,33],[32,28,26,34,"schedule"],[32,36,26,42],[32,37,26,43,"undefined"],[32,46,26,52],[32,48,26,54,"targetTime"],[32,58,26,64],[32,61,26,67,"now"],[32,64,26,70],[32,65,26,71],[33,10,27,16,"subscriber"],[33,20,27,26],[33,21,27,27,"add"],[33,24,27,30],[33,25,27,31,"activeTask"],[33,35,27,41],[33,36,27,42],[34,10,28,16],[35,8,29,12],[36,8,30,12,"emit"],[36,12,30,16],[36,13,30,17],[36,14,30,18],[37,6,31,8],[38,6,32,8,"source"],[38,12,32,14],[38,13,32,15,"subscribe"],[38,22,32,24],[38,23,32,25,"OperatorSubscriber_1"],[38,43,32,45],[38,44,32,46,"createOperatorSubscriber"],[38,68,32,70],[38,69,32,71,"subscriber"],[38,79,32,81],[38,81,32,83],[38,91,32,93,"value"],[38,96,32,98],[38,98,32,100],[39,8,33,12,"lastValue"],[39,17,33,21],[39,20,33,24,"value"],[39,25,33,29],[40,8,34,12,"lastTime"],[40,16,34,20],[40,19,34,23,"scheduler"],[40,28,34,32],[40,29,34,33,"now"],[40,32,34,36],[40,33,34,37],[40,34,34,38],[41,8,35,12],[41,12,35,16],[41,13,35,17,"activeTask"],[41,23,35,27],[41,25,35,29],[42,10,36,16,"activeTask"],[42,20,36,26],[42,23,36,29,"scheduler"],[42,32,36,38],[42,33,36,39,"schedule"],[42,41,36,47],[42,42,36,48,"emitWhenIdle"],[42,54,36,60],[42,56,36,62,"dueTime"],[42,63,36,69],[42,64,36,70],[43,10,37,16,"subscriber"],[43,20,37,26],[43,21,37,27,"add"],[43,24,37,30],[43,25,37,31,"activeTask"],[43,35,37,41],[43,36,37,42],[44,8,38,12],[45,6,39,8],[45,7,39,9],[45,9,39,11],[45,21,39,23],[46,8,40,12,"emit"],[46,12,40,16],[46,13,40,17],[46,14,40,18],[47,8,41,12,"subscriber"],[47,18,41,22],[47,19,41,23,"complete"],[47,27,41,31],[47,28,41,32],[47,29,41,33],[48,6,42,8],[48,7,42,9],[48,9,42,11,"undefined"],[48,18,42,20],[48,20,42,22],[48,32,42,34],[49,8,43,12,"lastValue"],[49,17,43,21],[49,20,43,24,"activeTask"],[49,30,43,34],[49,33,43,37],[49,37,43,41],[50,6,44,8],[50,7,44,9],[50,8,44,10],[50,9,44,11],[51,4,45,4],[51,5,45,5],[51,6,45,6],[52,2,46,0],[53,2,47,0,"exports"],[53,9,47,7],[53,10,47,8,"debounceTime"],[53,22,47,20],[53,25,47,23,"debounceTime"],[53,37,47,35],[54,0,47,36],[54,3]],"functionMap":{"names":["<global>","debounceTime","lift_1.operate$argument_0","emit","emitWhenIdle","OperatorSubscriber_1.createOperatorSubscriber$argument_1","OperatorSubscriber_1.createOperatorSubscriber$argument_2","OperatorSubscriber_1.createOperatorSubscriber$argument_4"],"mappings":"AAA;ACM;0BCE;mBCI;SDQ;QEC;SFS;mFGC;SHO,EI;SJG,aK;SLE;KDC;CDC"},"hasCjsExports":true},"type":"js/module"}]}