{"dependencies":[{"name":"../../utils/fp","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":5,"column":10,"index":99},"end":{"line":5,"column":35,"index":124}}],"key":"F8BfGunTMkcMsQ7te+IdXJXLwKI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  exports.__esModule = true;\n  exports.stepsForMigration = stepsForMigration;\n  var _fp = require(_dependencyMap[0], \"../../utils/fp\");\n  function stepsForMigration(_ref) {\n    var schemaMigrations = _ref.migrations,\n      fromVersion = _ref.fromVersion,\n      toVersion = _ref.toVersion;\n    var sortedMigrations = schemaMigrations.sortedMigrations,\n      minVersion = schemaMigrations.minVersion,\n      maxVersion = schemaMigrations.maxVersion;\n\n    // see if migrations in this range are available\n    if (fromVersion < minVersion || toVersion > maxVersion) {\n      return null;\n    }\n\n    // return steps\n    var matchingMigrations = sortedMigrations.filter(function (_ref2) {\n      var version = _ref2.toVersion;\n      return version > fromVersion && version <= toVersion;\n    });\n    var allSteps = (0, _fp.unnest)(matchingMigrations.map(function (migration) {\n      return migration.steps;\n    }));\n    return allSteps;\n  }\n});","lineCount":30,"map":[[2,2,1,0],[2,14,1,12],[4,2,3,0,"exports"],[4,9,3,7],[4,10,3,8,"__esModule"],[4,20,3,18],[4,23,3,21],[4,27,3,25],[5,2,4,0,"exports"],[5,9,4,7],[5,10,4,8,"stepsForMigration"],[5,27,4,25],[5,30,4,28,"stepsForMigration"],[5,47,4,45],[6,2,5,0],[6,6,5,4,"_fp"],[6,9,5,7],[6,12,5,10,"require"],[6,19,5,17],[6,20,5,17,"_dependencyMap"],[6,34,5,17],[6,55,5,34],[6,56,5,35],[7,2,6,0],[7,11,6,9,"stepsForMigration"],[7,28,6,26,"stepsForMigration"],[7,29,6,26,"_ref"],[7,33,6,26],[7,35,10,3],[8,4,10,3],[8,8,7,14,"schemaMigrations"],[8,24,7,30],[8,27,7,30,"_ref"],[8,31,7,30],[8,32,7,2,"migrations"],[8,42,7,12],[9,6,8,15,"fromVersion"],[9,17,8,26],[9,20,8,26,"_ref"],[9,24,8,26],[9,25,8,2,"fromVersion"],[9,36,8,13],[10,6,9,13,"toVersion"],[10,15,9,22],[10,18,9,22,"_ref"],[10,22,9,22],[10,23,9,2,"toVersion"],[10,32,9,11],[11,4,11,2],[11,8,12,22,"sortedMigrations"],[11,24,12,38],[11,27,15,6,"schemaMigrations"],[11,43,15,22],[11,44,12,4,"sortedMigrations"],[11,60,12,20],[12,6,13,16,"minVersion"],[12,16,13,26],[12,19,15,6,"schemaMigrations"],[12,35,15,22],[12,36,13,4,"minVersion"],[12,46,13,14],[13,6,14,16,"maxVersion"],[13,16,14,26],[13,19,15,6,"schemaMigrations"],[13,35,15,22],[13,36,14,4,"maxVersion"],[13,46,14,14],[15,4,17,2],[16,4,18,2],[16,8,18,6,"fromVersion"],[16,19,18,17],[16,22,18,20,"minVersion"],[16,32,18,30],[16,36,18,34,"toVersion"],[16,45,18,43],[16,48,18,46,"maxVersion"],[16,58,18,56],[16,60,18,58],[17,6,19,4],[17,13,19,11],[17,17,19,15],[18,4,20,2],[20,4,22,2],[21,4,23,2],[21,8,23,6,"matchingMigrations"],[21,26,23,24],[21,29,23,27,"sortedMigrations"],[21,45,23,43],[21,46,23,44,"filter"],[21,52,23,50],[21,53,23,51],[21,63,23,51,"_ref2"],[21,68,23,51],[21,70,25,5],[22,6,25,5],[22,10,24,15,"version"],[22,17,24,22],[22,20,24,22,"_ref2"],[22,25,24,22],[22,26,24,4,"toVersion"],[22,35,24,13],[23,6,26,4],[23,13,26,11,"version"],[23,20,26,18],[23,23,26,21,"fromVersion"],[23,34,26,32],[23,38,26,36,"version"],[23,45,26,43],[23,49,26,47,"toVersion"],[23,58,26,56],[24,4,27,2],[24,5,27,3],[24,6,27,4],[25,4,28,2],[25,8,28,6,"allSteps"],[25,16,28,14],[25,19,28,17],[25,20,28,18],[25,21,28,19],[25,23,28,21,"_fp"],[25,26,28,24],[25,27,28,25,"unnest"],[25,33,28,31],[25,35,28,33,"matchingMigrations"],[25,53,28,51],[25,54,28,52,"map"],[25,57,28,55],[25,58,28,56],[25,68,28,66,"migration"],[25,77,28,75],[25,79,28,77],[26,6,29,4],[26,13,29,11,"migration"],[26,22,29,20],[26,23,29,21,"steps"],[26,28,29,26],[27,4,30,2],[27,5,30,3],[27,6,30,4],[27,7,30,5],[28,4,31,2],[28,11,31,9,"allSteps"],[28,19,31,17],[29,2,32,0],[30,0,32,1],[30,3]],"functionMap":{"names":["<global>","stepsForMigration","sortedMigrations.filter$argument_0","matchingMigrations.map$argument_0"],"mappings":"AAA;ACK;mDCiB;GDI;wDEC;GFE"},"hasCjsExports":true},"type":"js/module"}]}