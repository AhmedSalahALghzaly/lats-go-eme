{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":3,"column":29,"index":44},"end":{"line":3,"column":84,"index":99}}],"key":"kslwqCIsh6ew+I1KeA1rlVRjsAk=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/createClass","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":6,"column":43,"index":197},"end":{"line":6,"column":88,"index":242}}],"key":"Z6pzkVZ2fvxBLkFTgVVOy4UDj30=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/inheritsLoose","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":7,"column":45,"index":290},"end":{"line":7,"column":92,"index":337}}],"key":"sS1Tf9zJB8kQBsfn9SN993z0kx4=","exportNames":["*"],"imports":1}},{"name":"../utils/common","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":8,"column":14,"index":354},"end":{"line":8,"column":40,"index":380}}],"key":"rc7/Oe8wiG+gaPEDKqm7sPGCPB4=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _interopRequireDefault = require(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n  exports.__esModule = true;\n  exports.default = void 0;\n  var _createClass2 = _interopRequireDefault(require(_dependencyMap[1], \"@babel/runtime/helpers/createClass\"));\n  var _inheritsLoose2 = _interopRequireDefault(require(_dependencyMap[2], \"@babel/runtime/helpers/inheritsLoose\"));\n  var _common = require(_dependencyMap[3], \"../utils/common\");\n  /* eslint-disable no-use-before-define */\n  var ReaderInterfaceImpl = /*#__PURE__*/function () {\n    function ReaderInterfaceImpl(queue, item) {\n      this.__workQueue = queue;\n      this.__workItem = item;\n    }\n    var _proto = ReaderInterfaceImpl.prototype;\n    _proto.__validateQueue = function () {\n      (0, _common.invariant)(this.__workQueue._queue[0] === this.__workItem, 'Illegal call on a reader/writer that should no longer be running');\n    };\n    _proto.callReader = function (reader) {\n      this.__validateQueue();\n      return this.__workQueue.subAction(reader);\n    };\n    return ReaderInterfaceImpl;\n  }();\n  var WriterInterfaceImpl = /*#__PURE__*/function (_ReaderInterfaceImpl) {\n    function WriterInterfaceImpl() {\n      return _ReaderInterfaceImpl.apply(this, arguments) || this;\n    }\n    (0, _inheritsLoose2.default)(WriterInterfaceImpl, _ReaderInterfaceImpl);\n    var _proto2 = WriterInterfaceImpl.prototype;\n    _proto2.callWriter = function (writer) {\n      this.__validateQueue();\n      return this.__workQueue.subAction(writer);\n    };\n    _proto2.batch = function (...records) {\n      this.__validateQueue();\n      return this.__workQueue._db.batch(records);\n    };\n    return WriterInterfaceImpl;\n  }(ReaderInterfaceImpl);\n  var actionInterface = function (queue, item) {\n    return item.isWriter ? new WriterInterfaceImpl(queue, item) : new ReaderInterfaceImpl(queue, item);\n  };\n  var WorkQueue = exports.default = /*#__PURE__*/function () {\n    function WorkQueue(db) {\n      this._queue = [];\n      this._subActionIncoming = false;\n      this._db = db;\n    }\n    var _proto3 = WorkQueue.prototype;\n    _proto3.enqueue = function (work, description, isWriter) {\n      var _this = this;\n      // If a subAction was scheduled using subAction(), database.write/read() calls skip the line\n      if (this._subActionIncoming) {\n        this._subActionIncoming = false;\n        var currentWork = this._queue[0];\n        if (!currentWork.isWriter) {\n          (0, _common.invariant)(!isWriter, 'Cannot call a writer block from a reader block');\n        }\n        return work(actionInterface(this, currentWork));\n      }\n      return new Promise(function (resolve, reject) {\n        var workItem = {\n          work: work,\n          isWriter: isWriter,\n          resolve: resolve,\n          reject: reject,\n          description: description\n        };\n        if ('production' !== process.env.NODE_ENV && _this._queue.length) {\n          setTimeout(function () {\n            var queue = _this._queue;\n            var current = queue[0];\n            if (current === workItem || !queue.includes(workItem)) {\n              return;\n            }\n            var enqueuedKind = isWriter ? 'writer' : 'reader';\n            var currentKind = current.isWriter ? 'writer' : 'reader';\n            _common.logger.warn(\"The \".concat(enqueuedKind, \" you're trying to run (\").concat(description || 'unnamed', \") can't be performed yet, because there are \").concat(queue.length, \" other readers/writers in the queue.\\n\\nCurrent \").concat(currentKind, \": \").concat(current.description || 'unnamed', \".\\n\\nIf everything is working fine, you can safely ignore this message (queueing is working as expected). But if your readers/writers are not running, it's because the current \").concat(currentKind, \" is stuck.\\nRemember that if you're calling a reader/writer from another reader/writer, you must use callReader()/callWriter(). See docs for more details.\"));\n            _common.logger.log(\"Enqueued \".concat(enqueuedKind, \":\"), work);\n            _common.logger.log(\"Running \".concat(currentKind, \":\"), current.work);\n          }, 1500);\n        }\n        _this._queue.push(workItem);\n        if (1 === _this._queue.length) {\n          _this._executeNext();\n        }\n      });\n    };\n    _proto3.subAction = function (work) {\n      try {\n        this._subActionIncoming = true;\n        var promise = work();\n        (0, _common.invariant)(!this._subActionIncoming, 'callReader/callWriter call must call a reader/writer synchronously');\n        return promise;\n      } catch (error) {\n        this._subActionIncoming = false;\n        return Promise.reject(error);\n      }\n    };\n    _proto3._executeNext = function () {\n      return new Promise(function ($return, $error) {\n        var _this2, workItem, work, resolve, reject, isWriter, workPromise;\n        _this2 = this;\n        workItem = this._queue[0];\n        ({\n          work: work,\n          resolve: resolve,\n          reject: reject,\n          isWriter: isWriter\n        } = workItem);\n        var $Try_2_Post = function () {\n          try {\n            this._queue.shift();\n            if (this._queue.length) {\n              setTimeout(function () {\n                return _this2._executeNext();\n              }, 0);\n            }\n            return $return();\n          } catch ($boundEx) {\n            return $error($boundEx);\n          }\n        }.bind(this);\n        var $Try_2_Catch = function $Try_2_Catch(error) {\n          try {\n            reject(error);\n            return $Try_2_Post();\n          } catch ($boundEx) {\n            return $error($boundEx);\n          }\n        };\n        try {\n          workPromise = work(actionInterface(this, workItem));\n          if ('production' !== process.env.NODE_ENV) {\n            (0, _common.invariant)(workPromise instanceof Promise, \"The function passed to database.\".concat(isWriter ? 'write' : 'read', \"() or a method marked as @\").concat(isWriter ? 'writer' : 'reader', \" must be asynchronous (marked as 'async' or always returning a promise) (in: \").concat(workItem.description || 'unnamed', \")\"));\n          }\n          return Promise.resolve(workPromise).then(function ($await_3) {\n            try {\n              resolve($await_3);\n              return $Try_2_Post();\n            } catch ($boundEx) {\n              return $Try_2_Catch($boundEx);\n            }\n          }, $Try_2_Catch);\n        } catch (error) {\n          $Try_2_Catch(error);\n        }\n      }.bind(this));\n    };\n    _proto3._abortPendingWork = function () {\n      (0, _common.invariant)(1 <= this._queue.length, '_abortPendingWork can only be called from a reader/writer');\n      var workToAbort = this._queue.splice(1); // leave only the caller on the queue\n      workToAbort.forEach(function ({\n        reject: reject\n      }) {\n        reject(new Error('Reader/writer has been aborted because the database was reset'));\n      });\n    };\n    return (0, _createClass2.default)(WorkQueue, [{\n      key: \"isWriterRunning\",\n      get: function get() {\n        var [item] = this._queue;\n        return Boolean(item && item.isWriter);\n      }\n    }]);\n  }();\n});","lineCount":169,"map":[[2,2,1,0],[2,14,1,12],[4,2,3,0],[4,6,3,4,"_interopRequireDefault"],[4,28,3,26],[4,31,3,29,"require"],[4,38,3,36],[4,39,3,36,"_dependencyMap"],[4,53,3,36],[4,104,3,83],[4,105,3,84],[5,2,4,0,"exports"],[5,9,4,7],[5,10,4,8,"__esModule"],[5,20,4,18],[5,23,4,21],[5,27,4,25],[6,2,5,0,"exports"],[6,9,5,7],[6,10,5,8,"default"],[6,17,5,15],[6,20,5,18],[6,25,5,23],[6,26,5,24],[7,2,6,0],[7,6,6,4,"_createClass2"],[7,19,6,17],[7,22,6,20,"_interopRequireDefault"],[7,44,6,42],[7,45,6,43,"require"],[7,52,6,50],[7,53,6,50,"_dependencyMap"],[7,67,6,50],[7,108,6,87],[7,109,6,88],[7,110,6,89],[8,2,7,0],[8,6,7,4,"_inheritsLoose2"],[8,21,7,19],[8,24,7,22,"_interopRequireDefault"],[8,46,7,44],[8,47,7,45,"require"],[8,54,7,52],[8,55,7,52,"_dependencyMap"],[8,69,7,52],[8,112,7,91],[8,113,7,92],[8,114,7,93],[9,2,8,0],[9,6,8,4,"_common"],[9,13,8,11],[9,16,8,14,"require"],[9,23,8,21],[9,24,8,21,"_dependencyMap"],[9,38,8,21],[9,60,8,39],[9,61,8,40],[10,2,9,0],[11,2,10,0],[11,6,10,4,"ReaderInterfaceImpl"],[11,25,10,23],[11,28,10,26],[11,41,10,39],[11,53,10,51],[12,4,11,2],[12,13,11,11,"ReaderInterfaceImpl"],[12,32,11,30,"ReaderInterfaceImpl"],[12,33,11,31,"queue"],[12,38,11,36],[12,40,11,38,"item"],[12,44,11,42],[12,46,11,44],[13,6,12,4],[13,10,12,8],[13,11,12,9,"__workQueue"],[13,22,12,20],[13,25,12,23,"queue"],[13,30,12,28],[14,6,13,4],[14,10,13,8],[14,11,13,9,"__workItem"],[14,21,13,19],[14,24,13,22,"item"],[14,28,13,26],[15,4,14,2],[16,4,15,2],[16,8,15,6,"_proto"],[16,14,15,12],[16,17,15,15,"ReaderInterfaceImpl"],[16,36,15,34],[16,37,15,35,"prototype"],[16,46,15,44],[17,4,16,2,"_proto"],[17,10,16,8],[17,11,16,9,"__validateQueue"],[17,26,16,24],[17,29,16,27],[17,41,16,39],[18,6,17,4],[18,7,17,5],[18,8,17,6],[18,10,17,8,"_common"],[18,17,17,15],[18,18,17,16,"invariant"],[18,27,17,25],[18,29,17,27],[18,33,17,31],[18,34,17,32,"__workQueue"],[18,45,17,43],[18,46,17,44,"_queue"],[18,52,17,50],[18,53,17,51],[18,54,17,52],[18,55,17,53],[18,60,17,58],[18,64,17,62],[18,65,17,63,"__workItem"],[18,75,17,73],[18,77,17,75],[18,143,17,141],[18,144,17,142],[19,4,18,2],[19,5,18,3],[20,4,19,2,"_proto"],[20,10,19,8],[20,11,19,9,"callReader"],[20,21,19,19],[20,24,19,22],[20,34,19,32,"reader"],[20,40,19,38],[20,42,19,40],[21,6,20,4],[21,10,20,8],[21,11,20,9,"__validateQueue"],[21,26,20,24],[21,27,20,25],[21,28,20,26],[22,6,21,4],[22,13,21,11],[22,17,21,15],[22,18,21,16,"__workQueue"],[22,29,21,27],[22,30,21,28,"subAction"],[22,39,21,37],[22,40,21,38,"reader"],[22,46,21,44],[22,47,21,45],[23,4,22,2],[23,5,22,3],[24,4,23,2],[24,11,23,9,"ReaderInterfaceImpl"],[24,30,23,28],[25,2,24,0],[25,3,24,1],[25,4,24,2],[25,5,24,3],[26,2,25,0],[26,6,25,4,"WriterInterfaceImpl"],[26,25,25,23],[26,28,25,26],[26,41,25,39],[26,51,25,49,"_ReaderInterfaceImpl"],[26,71,25,69],[26,73,25,71],[27,4,26,2],[27,13,26,11,"WriterInterfaceImpl"],[27,32,26,30,"WriterInterfaceImpl"],[27,33,26,30],[27,35,26,33],[28,6,27,4],[28,13,27,11,"_ReaderInterfaceImpl"],[28,33,27,31],[28,34,27,32,"apply"],[28,39,27,37],[28,40,27,38],[28,44,27,42],[28,46,27,44,"arguments"],[28,55,27,53],[28,56,27,54],[28,60,27,58],[28,64,27,62],[29,4,28,2],[30,4,29,2],[30,5,29,3],[30,6,29,4],[30,8,29,6,"_inheritsLoose2"],[30,23,29,21],[30,24,29,22,"default"],[30,31,29,29],[30,33,29,31,"WriterInterfaceImpl"],[30,52,29,50],[30,54,29,52,"_ReaderInterfaceImpl"],[30,74,29,72],[30,75,29,73],[31,4,30,2],[31,8,30,6,"_proto2"],[31,15,30,13],[31,18,30,16,"WriterInterfaceImpl"],[31,37,30,35],[31,38,30,36,"prototype"],[31,47,30,45],[32,4,31,2,"_proto2"],[32,11,31,9],[32,12,31,10,"callWriter"],[32,22,31,20],[32,25,31,23],[32,35,31,33,"writer"],[32,41,31,39],[32,43,31,41],[33,6,32,4],[33,10,32,8],[33,11,32,9,"__validateQueue"],[33,26,32,24],[33,27,32,25],[33,28,32,26],[34,6,33,4],[34,13,33,11],[34,17,33,15],[34,18,33,16,"__workQueue"],[34,29,33,27],[34,30,33,28,"subAction"],[34,39,33,37],[34,40,33,38,"writer"],[34,46,33,44],[34,47,33,45],[35,4,34,2],[35,5,34,3],[36,4,35,2,"_proto2"],[36,11,35,9],[36,12,35,10,"batch"],[36,17,35,15],[36,20,35,18],[36,30,35,28],[36,33,35,31,"records"],[36,40,35,38],[36,42,35,40],[37,6,36,4],[37,10,36,8],[37,11,36,9,"__validateQueue"],[37,26,36,24],[37,27,36,25],[37,28,36,26],[38,6,37,4],[38,13,37,11],[38,17,37,15],[38,18,37,16,"__workQueue"],[38,29,37,27],[38,30,37,28,"_db"],[38,33,37,31],[38,34,37,32,"batch"],[38,39,37,37],[38,40,37,38,"records"],[38,47,37,45],[38,48,37,46],[39,4,38,2],[39,5,38,3],[40,4,39,2],[40,11,39,9,"WriterInterfaceImpl"],[40,30,39,28],[41,2,40,0],[41,3,40,1],[41,4,40,2,"ReaderInterfaceImpl"],[41,23,40,21],[41,24,40,22],[42,2,41,0],[42,6,41,4,"actionInterface"],[42,21,41,19],[42,24,41,22],[42,33,41,22,"actionInterface"],[42,34,41,32,"queue"],[42,39,41,37],[42,41,41,39,"item"],[42,45,41,43],[42,47,41,45],[43,4,42,2],[43,11,42,9,"item"],[43,15,42,13],[43,16,42,14,"isWriter"],[43,24,42,22],[43,27,42,25],[43,31,42,29,"WriterInterfaceImpl"],[43,50,42,48],[43,51,42,49,"queue"],[43,56,42,54],[43,58,42,56,"item"],[43,62,42,60],[43,63,42,61],[43,66,42,64],[43,70,42,68,"ReaderInterfaceImpl"],[43,89,42,87],[43,90,42,88,"queue"],[43,95,42,93],[43,97,42,95,"item"],[43,101,42,99],[43,102,42,100],[44,2,43,0],[44,3,43,1],[45,2,44,0],[45,6,44,4,"WorkQueue"],[45,15,44,13],[45,18,44,16,"exports"],[45,25,44,23],[45,26,44,24,"default"],[45,33,44,31],[45,36,44,34],[45,49,44,47],[45,61,44,59],[46,4,45,2],[46,13,45,11,"WorkQueue"],[46,22,45,20,"WorkQueue"],[46,23,45,21,"db"],[46,25,45,23],[46,27,45,25],[47,6,46,4],[47,10,46,8],[47,11,46,9,"_queue"],[47,17,46,15],[47,20,46,18],[47,22,46,20],[48,6,47,4],[48,10,47,8],[48,11,47,9,"_subActionIncoming"],[48,29,47,27],[48,32,47,30],[48,37,47,35],[49,6,48,4],[49,10,48,8],[49,11,48,9,"_db"],[49,14,48,12],[49,17,48,15,"db"],[49,19,48,17],[50,4,49,2],[51,4,50,2],[51,8,50,6,"_proto3"],[51,15,50,13],[51,18,50,16,"WorkQueue"],[51,27,50,25],[51,28,50,26,"prototype"],[51,37,50,35],[52,4,51,2,"_proto3"],[52,11,51,9],[52,12,51,10,"enqueue"],[52,19,51,17],[52,22,51,20],[52,32,51,30,"work"],[52,36,51,34],[52,38,51,36,"description"],[52,49,51,47],[52,51,51,49,"isWriter"],[52,59,51,57],[52,61,51,59],[53,6,52,4],[53,10,52,8,"_this"],[53,15,52,13],[53,18,52,16],[53,22,52,20],[54,6,53,4],[55,6,54,4],[55,10,54,8],[55,14,54,12],[55,15,54,13,"_subActionIncoming"],[55,33,54,31],[55,35,54,33],[56,8,55,6],[56,12,55,10],[56,13,55,11,"_subActionIncoming"],[56,31,55,29],[56,34,55,32],[56,39,55,37],[57,8,56,6],[57,12,56,10,"currentWork"],[57,23,56,21],[57,26,56,24],[57,30,56,28],[57,31,56,29,"_queue"],[57,37,56,35],[57,38,56,36],[57,39,56,37],[57,40,56,38],[58,8,57,6],[58,12,57,10],[58,13,57,11,"currentWork"],[58,24,57,22],[58,25,57,23,"isWriter"],[58,33,57,31],[58,35,57,33],[59,10,58,8],[59,11,58,9],[59,12,58,10],[59,14,58,12,"_common"],[59,21,58,19],[59,22,58,20,"invariant"],[59,31,58,29],[59,33,58,31],[59,34,58,32,"isWriter"],[59,42,58,40],[59,44,58,42],[59,92,58,90],[59,93,58,91],[60,8,59,6],[61,8,60,6],[61,15,60,13,"work"],[61,19,60,17],[61,20,60,18,"actionInterface"],[61,35,60,33],[61,36,60,34],[61,40,60,38],[61,42,60,40,"currentWork"],[61,53,60,51],[61,54,60,52],[61,55,60,53],[62,6,61,4],[63,6,62,4],[63,13,62,11],[63,17,62,15,"Promise"],[63,24,62,22],[63,25,62,23],[63,35,62,33,"resolve"],[63,42,62,40],[63,44,62,42,"reject"],[63,50,62,48],[63,52,62,50],[64,8,63,6],[64,12,63,10,"workItem"],[64,20,63,18],[64,23,63,21],[65,10,64,8,"work"],[65,14,64,12],[65,16,64,14,"work"],[65,20,64,18],[66,10,65,8,"isWriter"],[66,18,65,16],[66,20,65,18,"isWriter"],[66,28,65,26],[67,10,66,8,"resolve"],[67,17,66,15],[67,19,66,17,"resolve"],[67,26,66,24],[68,10,67,8,"reject"],[68,16,67,14],[68,18,67,16,"reject"],[68,24,67,22],[69,10,68,8,"description"],[69,21,68,19],[69,23,68,21,"description"],[70,8,69,6],[70,9,69,7],[71,8,70,6],[71,12,70,10],[71,24,70,22],[71,29,70,27,"process"],[71,36,70,34],[71,37,70,35,"env"],[71,40,70,38],[71,41,70,39,"NODE_ENV"],[71,49,70,47],[71,53,70,51,"_this"],[71,58,70,56],[71,59,70,57,"_queue"],[71,65,70,63],[71,66,70,64,"length"],[71,72,70,70],[71,74,70,72],[72,10,71,8,"setTimeout"],[72,20,71,18],[72,21,71,19],[72,33,71,31],[73,12,72,10],[73,16,72,14,"queue"],[73,21,72,19],[73,24,72,22,"_this"],[73,29,72,27],[73,30,72,28,"_queue"],[73,36,72,34],[74,12,73,10],[74,16,73,14,"current"],[74,23,73,21],[74,26,73,24,"queue"],[74,31,73,29],[74,32,73,30],[74,33,73,31],[74,34,73,32],[75,12,74,10],[75,16,74,14,"current"],[75,23,74,21],[75,28,74,26,"workItem"],[75,36,74,34],[75,40,74,38],[75,41,74,39,"queue"],[75,46,74,44],[75,47,74,45,"includes"],[75,55,74,53],[75,56,74,54,"workItem"],[75,64,74,62],[75,65,74,63],[75,67,74,65],[76,14,75,12],[77,12,76,10],[78,12,77,10],[78,16,77,14,"enqueuedKind"],[78,28,77,26],[78,31,77,29,"isWriter"],[78,39,77,37],[78,42,77,40],[78,50,77,48],[78,53,77,51],[78,61,77,59],[79,12,78,10],[79,16,78,14,"currentKind"],[79,27,78,25],[79,30,78,28,"current"],[79,37,78,35],[79,38,78,36,"isWriter"],[79,46,78,44],[79,49,78,47],[79,57,78,55],[79,60,78,58],[79,68,78,66],[80,12,79,10,"_common"],[80,19,79,17],[80,20,79,18,"logger"],[80,26,79,24],[80,27,79,25,"warn"],[80,31,79,29],[80,32,79,30],[80,38,79,36],[80,39,79,37,"concat"],[80,45,79,43],[80,46,79,44,"enqueuedKind"],[80,58,79,56],[80,60,79,58],[80,85,79,83],[80,86,79,84],[80,87,79,85,"concat"],[80,93,79,91],[80,94,79,92,"description"],[80,105,79,103],[80,109,79,107],[80,118,79,116],[80,120,79,118],[80,166,79,164],[80,167,79,165],[80,168,79,166,"concat"],[80,174,79,172],[80,175,79,173,"queue"],[80,180,79,178],[80,181,79,179,"length"],[80,187,79,185],[80,189,79,187],[80,239,79,237],[80,240,79,238],[80,241,79,239,"concat"],[80,247,79,245],[80,248,79,246,"currentKind"],[80,259,79,257],[80,261,79,259],[80,265,79,263],[80,266,79,264],[80,267,79,265,"concat"],[80,273,79,271],[80,274,79,272,"current"],[80,281,79,279],[80,282,79,280,"description"],[80,293,79,291],[80,297,79,295],[80,306,79,304],[80,308,79,306],[80,486,79,484],[80,487,79,485],[80,488,79,486,"concat"],[80,494,79,492],[80,495,79,493,"currentKind"],[80,506,79,504],[80,508,79,506],[80,664,79,662],[80,665,79,663],[80,666,79,664],[81,12,80,10,"_common"],[81,19,80,17],[81,20,80,18,"logger"],[81,26,80,24],[81,27,80,25,"log"],[81,30,80,28],[81,31,80,29],[81,42,80,40],[81,43,80,41,"concat"],[81,49,80,47],[81,50,80,48,"enqueuedKind"],[81,62,80,60],[81,64,80,62],[81,67,80,65],[81,68,80,66],[81,70,80,68,"work"],[81,74,80,72],[81,75,80,73],[82,12,81,10,"_common"],[82,19,81,17],[82,20,81,18,"logger"],[82,26,81,24],[82,27,81,25,"log"],[82,30,81,28],[82,31,81,29],[82,41,81,39],[82,42,81,40,"concat"],[82,48,81,46],[82,49,81,47,"currentKind"],[82,60,81,58],[82,62,81,60],[82,65,81,63],[82,66,81,64],[82,68,81,66,"current"],[82,75,81,73],[82,76,81,74,"work"],[82,80,81,78],[82,81,81,79],[83,10,82,8],[83,11,82,9],[83,13,82,11],[83,17,82,15],[83,18,82,16],[84,8,83,6],[85,8,84,6,"_this"],[85,13,84,11],[85,14,84,12,"_queue"],[85,20,84,18],[85,21,84,19,"push"],[85,25,84,23],[85,26,84,24,"workItem"],[85,34,84,32],[85,35,84,33],[86,8,85,6],[86,12,85,10],[86,13,85,11],[86,18,85,16,"_this"],[86,23,85,21],[86,24,85,22,"_queue"],[86,30,85,28],[86,31,85,29,"length"],[86,37,85,35],[86,39,85,37],[87,10,86,8,"_this"],[87,15,86,13],[87,16,86,14,"_executeNext"],[87,28,86,26],[87,29,86,27],[87,30,86,28],[88,8,87,6],[89,6,88,4],[89,7,88,5],[89,8,88,6],[90,4,89,2],[90,5,89,3],[91,4,90,2,"_proto3"],[91,11,90,9],[91,12,90,10,"subAction"],[91,21,90,19],[91,24,90,22],[91,34,90,32,"work"],[91,38,90,36],[91,40,90,38],[92,6,91,4],[92,10,91,8],[93,8,92,6],[93,12,92,10],[93,13,92,11,"_subActionIncoming"],[93,31,92,29],[93,34,92,32],[93,38,92,36],[94,8,93,6],[94,12,93,10,"promise"],[94,19,93,17],[94,22,93,20,"work"],[94,26,93,24],[94,27,93,25],[94,28,93,26],[95,8,94,6],[95,9,94,7],[95,10,94,8],[95,12,94,10,"_common"],[95,19,94,17],[95,20,94,18,"invariant"],[95,29,94,27],[95,31,94,29],[95,32,94,30],[95,36,94,34],[95,37,94,35,"_subActionIncoming"],[95,55,94,53],[95,57,94,55],[95,125,94,123],[95,126,94,124],[96,8,95,6],[96,15,95,13,"promise"],[96,22,95,20],[97,6,96,4],[97,7,96,5],[97,8,96,6],[97,15,96,13,"error"],[97,20,96,18],[97,22,96,20],[98,8,97,6],[98,12,97,10],[98,13,97,11,"_subActionIncoming"],[98,31,97,29],[98,34,97,32],[98,39,97,37],[99,8,98,6],[99,15,98,13,"Promise"],[99,22,98,20],[99,23,98,21,"reject"],[99,29,98,27],[99,30,98,28,"error"],[99,35,98,33],[99,36,98,34],[100,6,99,4],[101,4,100,2],[101,5,100,3],[102,4,101,2,"_proto3"],[102,11,101,9],[102,12,101,10,"_executeNext"],[102,24,101,22],[102,27,101,25],[102,39,101,37],[103,6,102,4],[103,13,102,11],[103,17,102,15,"Promise"],[103,24,102,22],[103,25,102,23],[103,35,102,33,"$return"],[103,42,102,40],[103,44,102,42,"$error"],[103,50,102,48],[103,52,102,50],[104,8,103,6],[104,12,103,10,"_this2"],[104,18,103,16],[104,20,103,18,"workItem"],[104,28,103,26],[104,30,103,28,"work"],[104,34,103,32],[104,36,103,34,"resolve"],[104,43,103,41],[104,45,103,43,"reject"],[104,51,103,49],[104,53,103,51,"isWriter"],[104,61,103,59],[104,63,103,61,"workPromise"],[104,74,103,72],[105,8,104,6,"_this2"],[105,14,104,12],[105,17,104,15],[105,21,104,19],[106,8,105,6,"workItem"],[106,16,105,14],[106,19,105,17],[106,23,105,21],[106,24,105,22,"_queue"],[106,30,105,28],[106,31,105,29],[106,32,105,30],[106,33,105,31],[107,8,106,6],[107,9,106,7],[108,10,107,8,"work"],[108,14,107,12],[108,16,107,14,"work"],[108,20,107,18],[109,10,108,8,"resolve"],[109,17,108,15],[109,19,108,17,"resolve"],[109,26,108,24],[110,10,109,8,"reject"],[110,16,109,14],[110,18,109,16,"reject"],[110,24,109,22],[111,10,110,8,"isWriter"],[111,18,110,16],[111,20,110,18,"isWriter"],[112,8,111,6],[112,9,111,7],[112,12,111,10,"workItem"],[112,20,111,18],[113,8,112,6],[113,12,112,10,"$Try_2_Post"],[113,23,112,21],[113,26,112,24],[113,38,112,36],[114,10,113,8],[114,14,113,12],[115,12,114,10],[115,16,114,14],[115,17,114,15,"_queue"],[115,23,114,21],[115,24,114,22,"shift"],[115,29,114,27],[115,30,114,28],[115,31,114,29],[116,12,115,10],[116,16,115,14],[116,20,115,18],[116,21,115,19,"_queue"],[116,27,115,25],[116,28,115,26,"length"],[116,34,115,32],[116,36,115,34],[117,14,116,12,"setTimeout"],[117,24,116,22],[117,25,116,23],[117,37,116,35],[118,16,117,14],[118,23,117,21,"_this2"],[118,29,117,27],[118,30,117,28,"_executeNext"],[118,42,117,40],[118,43,117,41],[118,44,117,42],[119,14,118,12],[119,15,118,13],[119,17,118,15],[119,18,118,16],[119,19,118,17],[120,12,119,10],[121,12,120,10],[121,19,120,17,"$return"],[121,26,120,24],[121,27,120,25],[121,28,120,26],[122,10,121,8],[122,11,121,9],[122,12,121,10],[122,19,121,17,"$boundEx"],[122,27,121,25],[122,29,121,27],[123,12,122,10],[123,19,122,17,"$error"],[123,25,122,23],[123,26,122,24,"$boundEx"],[123,34,122,32],[123,35,122,33],[124,10,123,8],[125,8,124,6],[125,9,124,7],[125,10,124,8,"bind"],[125,14,124,12],[125,15,124,13],[125,19,124,17],[125,20,124,18],[126,8,125,6],[126,12,125,10,"$Try_2_Catch"],[126,24,125,22],[126,27,125,25],[126,36,125,34,"$Try_2_Catch"],[126,48,125,46,"$Try_2_Catch"],[126,49,125,47,"error"],[126,54,125,52],[126,56,125,54],[127,10,126,8],[127,14,126,12],[128,12,127,10,"reject"],[128,18,127,16],[128,19,127,17,"error"],[128,24,127,22],[128,25,127,23],[129,12,128,10],[129,19,128,17,"$Try_2_Post"],[129,30,128,28],[129,31,128,29],[129,32,128,30],[130,10,129,8],[130,11,129,9],[130,12,129,10],[130,19,129,17,"$boundEx"],[130,27,129,25],[130,29,129,27],[131,12,130,10],[131,19,130,17,"$error"],[131,25,130,23],[131,26,130,24,"$boundEx"],[131,34,130,32],[131,35,130,33],[132,10,131,8],[133,8,132,6],[133,9,132,7],[134,8,133,6],[134,12,133,10],[135,10,134,8,"workPromise"],[135,21,134,19],[135,24,134,22,"work"],[135,28,134,26],[135,29,134,27,"actionInterface"],[135,44,134,42],[135,45,134,43],[135,49,134,47],[135,51,134,49,"workItem"],[135,59,134,57],[135,60,134,58],[135,61,134,59],[136,10,135,8],[136,14,135,12],[136,26,135,24],[136,31,135,29,"process"],[136,38,135,36],[136,39,135,37,"env"],[136,42,135,40],[136,43,135,41,"NODE_ENV"],[136,51,135,49],[136,53,135,51],[137,12,136,10],[137,13,136,11],[137,14,136,12],[137,16,136,14,"_common"],[137,23,136,21],[137,24,136,22,"invariant"],[137,33,136,31],[137,35,136,33,"workPromise"],[137,46,136,44],[137,58,136,56,"Promise"],[137,65,136,63],[137,67,136,65],[137,101,136,99],[137,102,136,100,"concat"],[137,108,136,106],[137,109,136,107,"isWriter"],[137,117,136,115],[137,120,136,118],[137,127,136,125],[137,130,136,128],[137,136,136,134],[137,138,136,136],[137,166,136,164],[137,167,136,165],[137,168,136,166,"concat"],[137,174,136,172],[137,175,136,173,"isWriter"],[137,183,136,181],[137,186,136,184],[137,194,136,192],[137,197,136,195],[137,205,136,203],[137,207,136,205],[137,286,136,284],[137,287,136,285],[137,288,136,286,"concat"],[137,294,136,292],[137,295,136,293,"workItem"],[137,303,136,301],[137,304,136,302,"description"],[137,315,136,313],[137,319,136,317],[137,328,136,326],[137,330,136,328],[137,333,136,331],[137,334,136,332],[137,335,136,333],[138,10,137,8],[139,10,138,8],[139,17,138,15,"Promise"],[139,24,138,22],[139,25,138,23,"resolve"],[139,32,138,30],[139,33,138,31,"workPromise"],[139,44,138,42],[139,45,138,43],[139,46,138,44,"then"],[139,50,138,48],[139,51,138,49],[139,61,138,59,"$await_3"],[139,69,138,67],[139,71,138,69],[140,12,139,10],[140,16,139,14],[141,14,140,12,"resolve"],[141,21,140,19],[141,22,140,20,"$await_3"],[141,30,140,28],[141,31,140,29],[142,14,141,12],[142,21,141,19,"$Try_2_Post"],[142,32,141,30],[142,33,141,31],[142,34,141,32],[143,12,142,10],[143,13,142,11],[143,14,142,12],[143,21,142,19,"$boundEx"],[143,29,142,27],[143,31,142,29],[144,14,143,12],[144,21,143,19,"$Try_2_Catch"],[144,33,143,31],[144,34,143,32,"$boundEx"],[144,42,143,40],[144,43,143,41],[145,12,144,10],[146,10,145,8],[146,11,145,9],[146,13,145,11,"$Try_2_Catch"],[146,25,145,23],[146,26,145,24],[147,8,146,6],[147,9,146,7],[147,10,146,8],[147,17,146,15,"error"],[147,22,146,20],[147,24,146,22],[148,10,147,8,"$Try_2_Catch"],[148,22,147,20],[148,23,147,21,"error"],[148,28,147,26],[148,29,147,27],[149,8,148,6],[150,6,149,4],[150,7,149,5],[150,8,149,6,"bind"],[150,12,149,10],[150,13,149,11],[150,17,149,15],[150,18,149,16],[150,19,149,17],[151,4,150,2],[151,5,150,3],[152,4,151,2,"_proto3"],[152,11,151,9],[152,12,151,10,"_abortPendingWork"],[152,29,151,27],[152,32,151,30],[152,44,151,42],[153,6,152,4],[153,7,152,5],[153,8,152,6],[153,10,152,8,"_common"],[153,17,152,15],[153,18,152,16,"invariant"],[153,27,152,25],[153,29,152,27],[153,30,152,28],[153,34,152,32],[153,38,152,36],[153,39,152,37,"_queue"],[153,45,152,43],[153,46,152,44,"length"],[153,52,152,50],[153,54,152,52],[153,113,152,111],[153,114,152,112],[154,6,153,4],[154,10,153,8,"workToAbort"],[154,21,153,19],[154,24,153,22],[154,28,153,26],[154,29,153,27,"_queue"],[154,35,153,33],[154,36,153,34,"splice"],[154,42,153,40],[154,43,153,41],[154,44,153,42],[154,45,153,43],[154,46,153,44],[154,47,153,45],[155,6,154,4,"workToAbort"],[155,17,154,15],[155,18,154,16,"forEach"],[155,25,154,23],[155,26,154,24],[155,36,154,34],[156,8,155,6,"reject"],[156,14,155,12],[156,16,155,14,"reject"],[157,6,156,4],[157,7,156,5],[157,9,156,7],[158,8,157,6,"reject"],[158,14,157,12],[158,15,157,13],[158,19,157,17,"Error"],[158,24,157,22],[158,25,157,23],[158,88,157,86],[158,89,157,87],[158,90,157,88],[159,6,158,4],[159,7,158,5],[159,8,158,6],[160,4,159,2],[160,5,159,3],[161,4,160,2],[161,11,160,9],[161,12,160,10],[161,13,160,11],[161,15,160,13,"_createClass2"],[161,28,160,26],[161,29,160,27,"default"],[161,36,160,34],[161,38,160,36,"WorkQueue"],[161,47,160,45],[161,49,160,47],[161,50,160,48],[162,6,161,4,"key"],[162,9,161,7],[162,11,161,9],[162,28,161,26],[163,6,162,4,"get"],[163,9,162,7],[163,11,162,9],[163,20,162,18,"get"],[163,23,162,21,"get"],[163,24,162,21],[163,26,162,24],[164,8,163,6],[164,12,163,10],[164,13,163,11,"item"],[164,17,163,15],[164,18,163,16],[164,21,163,19],[164,25,163,23],[164,26,163,24,"_queue"],[164,32,163,30],[165,8,164,6],[165,15,164,13,"Boolean"],[165,22,164,20],[165,23,164,21,"item"],[165,27,164,25],[165,31,164,29,"item"],[165,35,164,33],[165,36,164,34,"isWriter"],[165,44,164,42],[165,45,164,43],[166,6,165,4],[167,4,166,2],[167,5,166,3],[167,6,166,4],[167,7,166,5],[168,2,167,0],[168,3,167,1],[168,4,167,2],[168,5,167,3],[169,0,167,4],[169,3]],"functionMap":{"names":["<global>","<anonymous>","ReaderInterfaceImpl","_proto.__validateQueue","_proto.callReader","WriterInterfaceImpl","_proto2.callWriter","_proto2.batch","actionInterface","WorkQueue","_proto3.enqueue","Promise$argument_0","setTimeout$argument_0","_proto3.subAction","_proto3._executeNext","$Try_2_Catch","Promise.resolve.then$argument_0","_proto3._abortPendingWork","workToAbort.forEach$argument_0","get"],"mappings":"AAA;uCCS;ECC;GDG;2BEE;GFE;sBGC;GHG;CDE;uCCC;EIC;GJE;uBKG;GLG;kBMC;GNG;CDE;sBQC;CRE;+CCC;EQC;GRI;oBSE;uBCW;mBCS;SDW;KDM;GTC;sBYC;GZU;yBaC;uBbC;uBWc;aXE;yBcO;OdO;iDeM;SfO;KaI;GbC;8BgBC;wBCG;KDI;GhBC;SkBG;KlBG;CDE"},"hasCjsExports":true},"type":"js/module"}]}