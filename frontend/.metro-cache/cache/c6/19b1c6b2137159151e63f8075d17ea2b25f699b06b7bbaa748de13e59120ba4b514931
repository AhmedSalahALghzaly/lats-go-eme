{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":3,"column":29,"index":44},"end":{"line":3,"column":84,"index":99}}],"key":"kslwqCIsh6ew+I1KeA1rlVRjsAk=","exportNames":["*"],"imports":1}},{"name":"../../Collection","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":6,"column":41,"index":195},"end":{"line":6,"column":68,"index":222}}],"key":"UYoj2qQLTNibJ0hQrZ3r+XabigE=","exportNames":["*"],"imports":1}},{"name":"../../utils/common","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":7,"column":14,"index":239},"end":{"line":7,"column":43,"index":268}}],"key":"f8rxJKsVH8u9Uvy41cjr6BETN6o=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _interopRequireDefault = require(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n  exports.__esModule = true;\n  exports.default = void 0;\n  var _Collection = _interopRequireDefault(require(_dependencyMap[1], \"../../Collection\"));\n  var _common = require(_dependencyMap[2], \"../../utils/common\");\n  var CollectionMap = exports.default = /*#__PURE__*/function () {\n    function CollectionMap(db, modelClasses) {\n      var _this = this;\n      this.map = Object.create(null);\n      modelClasses.forEach(function (modelClass) {\n        var table = modelClass.table;\n        if ('production' !== process.env.NODE_ENV) {\n          // TODO: move these checks to Collection?\n          (0, _common.invariant)('string' === typeof table, \"Model class \".concat(modelClass.name, \" passed to Database constructor is missing \\\"static table = 'table_name'\\\"\"));\n          (0, _common.invariant)(db.schema.tables[table], \"Model class \".concat(modelClass.name, \" has static table defined that is missing in schema known by this database\"));\n        }\n        _this.map[table] = new _Collection.default(db, modelClass);\n      });\n      Object.freeze(this.map);\n    }\n    var _proto = CollectionMap.prototype;\n    _proto.get = function (tableName) {\n      return this.map[tableName] || null;\n    };\n    return CollectionMap;\n  }();\n});","lineCount":30,"map":[[2,2,1,0],[2,14,1,12],[4,2,3,0],[4,6,3,4,"_interopRequireDefault"],[4,28,3,26],[4,31,3,29,"require"],[4,38,3,36],[4,39,3,36,"_dependencyMap"],[4,53,3,36],[4,104,3,83],[4,105,3,84],[5,2,4,0,"exports"],[5,9,4,7],[5,10,4,8,"__esModule"],[5,20,4,18],[5,23,4,21],[5,27,4,25],[6,2,5,0,"exports"],[6,9,5,7],[6,10,5,8,"default"],[6,17,5,15],[6,20,5,18],[6,25,5,23],[6,26,5,24],[7,2,6,0],[7,6,6,4,"_Collection"],[7,17,6,15],[7,20,6,18,"_interopRequireDefault"],[7,42,6,40],[7,43,6,41,"require"],[7,50,6,48],[7,51,6,48,"_dependencyMap"],[7,65,6,48],[7,88,6,67],[7,89,6,68],[7,90,6,69],[8,2,7,0],[8,6,7,4,"_common"],[8,13,7,11],[8,16,7,14,"require"],[8,23,7,21],[8,24,7,21,"_dependencyMap"],[8,38,7,21],[8,63,7,42],[8,64,7,43],[9,2,8,0],[9,6,8,4,"CollectionMap"],[9,19,8,17],[9,22,8,20,"exports"],[9,29,8,27],[9,30,8,28,"default"],[9,37,8,35],[9,40,8,38],[9,53,8,51],[9,65,8,63],[10,4,9,2],[10,13,9,11,"CollectionMap"],[10,26,9,24,"CollectionMap"],[10,27,9,25,"db"],[10,29,9,27],[10,31,9,29,"modelClasses"],[10,43,9,41],[10,45,9,43],[11,6,10,4],[11,10,10,8,"_this"],[11,15,10,13],[11,18,10,16],[11,22,10,20],[12,6,11,4],[12,10,11,8],[12,11,11,9,"map"],[12,14,11,12],[12,17,11,15,"Object"],[12,23,11,21],[12,24,11,22,"create"],[12,30,11,28],[12,31,11,29],[12,35,11,33],[12,36,11,34],[13,6,12,4,"modelClasses"],[13,18,12,16],[13,19,12,17,"forEach"],[13,26,12,24],[13,27,12,25],[13,37,12,35,"modelClass"],[13,47,12,45],[13,49,12,47],[14,8,13,6],[14,12,14,15,"table"],[14,17,14,20],[14,20,15,10,"modelClass"],[14,30,15,20],[14,31,14,8,"table"],[14,36,14,13],[15,8,16,6],[15,12,16,10],[15,24,16,22],[15,29,16,27,"process"],[15,36,16,34],[15,37,16,35,"env"],[15,40,16,38],[15,41,16,39,"NODE_ENV"],[15,49,16,47],[15,51,16,49],[16,10,17,8],[17,10,18,8],[17,11,18,9],[17,12,18,10],[17,14,18,12,"_common"],[17,21,18,19],[17,22,18,20,"invariant"],[17,31,18,29],[17,33,18,31],[17,41,18,39],[17,46,18,44],[17,53,18,51,"table"],[17,58,18,56],[17,60,18,58],[17,74,18,72],[17,75,18,73,"concat"],[17,81,18,79],[17,82,18,80,"modelClass"],[17,92,18,90],[17,93,18,91,"name"],[17,97,18,95],[17,99,18,97],[17,175,18,173],[17,176,18,174],[17,177,18,175],[18,10,19,8],[18,11,19,9],[18,12,19,10],[18,14,19,12,"_common"],[18,21,19,19],[18,22,19,20,"invariant"],[18,31,19,29],[18,33,19,31,"db"],[18,35,19,33],[18,36,19,34,"schema"],[18,42,19,40],[18,43,19,41,"tables"],[18,49,19,47],[18,50,19,48,"table"],[18,55,19,53],[18,56,19,54],[18,58,19,56],[18,72,19,70],[18,73,19,71,"concat"],[18,79,19,77],[18,80,19,78,"modelClass"],[18,90,19,88],[18,91,19,89,"name"],[18,95,19,93],[18,97,19,95],[18,173,19,171],[18,174,19,172],[18,175,19,173],[19,8,20,6],[20,8,21,6,"_this"],[20,13,21,11],[20,14,21,12,"map"],[20,17,21,15],[20,18,21,16,"table"],[20,23,21,21],[20,24,21,22],[20,27,21,25],[20,31,21,29,"_Collection"],[20,42,21,40],[20,43,21,41,"default"],[20,50,21,48],[20,51,21,49,"db"],[20,53,21,51],[20,55,21,53,"modelClass"],[20,65,21,63],[20,66,21,64],[21,6,22,4],[21,7,22,5],[21,8,22,6],[22,6,23,4,"Object"],[22,12,23,10],[22,13,23,11,"freeze"],[22,19,23,17],[22,20,23,18],[22,24,23,22],[22,25,23,23,"map"],[22,28,23,26],[22,29,23,27],[23,4,24,2],[24,4,25,2],[24,8,25,6,"_proto"],[24,14,25,12],[24,17,25,15,"CollectionMap"],[24,30,25,28],[24,31,25,29,"prototype"],[24,40,25,38],[25,4,26,2,"_proto"],[25,10,26,8],[25,11,26,9,"get"],[25,14,26,12],[25,17,26,15],[25,27,26,25,"tableName"],[25,36,26,34],[25,38,26,36],[26,6,27,4],[26,13,27,11],[26,17,27,15],[26,18,27,16,"map"],[26,21,27,19],[26,22,27,20,"tableName"],[26,31,27,29],[26,32,27,30],[26,36,27,34],[26,40,27,38],[27,4,28,2],[27,5,28,3],[28,4,29,2],[28,11,29,9,"CollectionMap"],[28,24,29,22],[29,2,30,0],[29,3,30,1],[29,4,30,2],[29,5,30,3],[30,0,30,4],[30,3]],"functionMap":{"names":["<global>","<anonymous>","CollectionMap","modelClasses.forEach$argument_0","_proto.get"],"mappings":"AAA;mDCO;ECC;yBCG;KDU;GDE;eGE;GHE;CDE"},"hasCjsExports":true},"type":"js/module"}]}