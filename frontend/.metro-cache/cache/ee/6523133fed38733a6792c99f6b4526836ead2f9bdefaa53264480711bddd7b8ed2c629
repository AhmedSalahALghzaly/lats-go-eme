{"dependencies":[{"name":"../util/lift","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":4,"column":13,"index":114},"end":{"line":4,"column":36,"index":137}}],"key":"QCxE0PdfaUm4cT9qPVYaaaoo46A=","exportNames":["*"],"imports":1}},{"name":"../observable/innerFrom","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":5,"column":18,"index":157},"end":{"line":5,"column":52,"index":191}}],"key":"T4CuDoHB9q4c1mpqb7scn7763KE=","exportNames":["*"],"imports":1}},{"name":"./OperatorSubscriber","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":6,"column":27,"index":220},"end":{"line":6,"column":58,"index":251}}],"key":"5a4JxA+rxI0MIxewBKZddpWmHrQ=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.audit = void 0;\n  var lift_1 = require(_dependencyMap[0], \"../util/lift\");\n  var innerFrom_1 = require(_dependencyMap[1], \"../observable/innerFrom\");\n  var OperatorSubscriber_1 = require(_dependencyMap[2], \"./OperatorSubscriber\");\n  function audit(durationSelector) {\n    return lift_1.operate(function (source, subscriber) {\n      var hasValue = false;\n      var lastValue = null;\n      var durationSubscriber = null;\n      var isComplete = false;\n      var endDuration = function () {\n        durationSubscriber === null || durationSubscriber === void 0 ? void 0 : durationSubscriber.unsubscribe();\n        durationSubscriber = null;\n        if (hasValue) {\n          hasValue = false;\n          var value = lastValue;\n          lastValue = null;\n          subscriber.next(value);\n        }\n        isComplete && subscriber.complete();\n      };\n      var cleanupDuration = function () {\n        durationSubscriber = null;\n        isComplete && subscriber.complete();\n      };\n      source.subscribe(OperatorSubscriber_1.createOperatorSubscriber(subscriber, function (value) {\n        hasValue = true;\n        lastValue = value;\n        if (!durationSubscriber) {\n          innerFrom_1.innerFrom(durationSelector(value)).subscribe(durationSubscriber = OperatorSubscriber_1.createOperatorSubscriber(subscriber, endDuration, cleanupDuration));\n        }\n      }, function () {\n        isComplete = true;\n        (!hasValue || !durationSubscriber || durationSubscriber.closed) && subscriber.complete();\n      }));\n    });\n  }\n  exports.audit = audit;\n});","lineCount":45,"map":[[2,2,1,0],[2,14,1,12],[4,2,2,0,"Object"],[4,8,2,6],[4,9,2,7,"defineProperty"],[4,23,2,21],[4,24,2,22,"exports"],[4,31,2,29],[4,33,2,31],[4,45,2,43],[4,47,2,45],[5,4,2,47,"value"],[5,9,2,52],[5,11,2,54],[6,2,2,59],[6,3,2,60],[6,4,2,61],[7,2,3,0,"exports"],[7,9,3,7],[7,10,3,8,"audit"],[7,15,3,13],[7,18,3,16],[7,23,3,21],[7,24,3,22],[8,2,4,0],[8,6,4,4,"lift_1"],[8,12,4,10],[8,15,4,13,"require"],[8,22,4,20],[8,23,4,20,"_dependencyMap"],[8,37,4,20],[8,56,4,35],[8,57,4,36],[9,2,5,0],[9,6,5,4,"innerFrom_1"],[9,17,5,15],[9,20,5,18,"require"],[9,27,5,25],[9,28,5,25,"_dependencyMap"],[9,42,5,25],[9,72,5,51],[9,73,5,52],[10,2,6,0],[10,6,6,4,"OperatorSubscriber_1"],[10,26,6,24],[10,29,6,27,"require"],[10,36,6,34],[10,37,6,34,"_dependencyMap"],[10,51,6,34],[10,78,6,57],[10,79,6,58],[11,2,7,0],[11,11,7,9,"audit"],[11,16,7,14,"audit"],[11,17,7,15,"durationSelector"],[11,33,7,31],[11,35,7,33],[12,4,8,4],[12,11,8,11,"lift_1"],[12,17,8,17],[12,18,8,18,"operate"],[12,25,8,25],[12,26,8,26],[12,36,8,36,"source"],[12,42,8,42],[12,44,8,44,"subscriber"],[12,54,8,54],[12,56,8,56],[13,6,9,8],[13,10,9,12,"hasValue"],[13,18,9,20],[13,21,9,23],[13,26,9,28],[14,6,10,8],[14,10,10,12,"lastValue"],[14,19,10,21],[14,22,10,24],[14,26,10,28],[15,6,11,8],[15,10,11,12,"durationSubscriber"],[15,28,11,30],[15,31,11,33],[15,35,11,37],[16,6,12,8],[16,10,12,12,"isComplete"],[16,20,12,22],[16,23,12,25],[16,28,12,30],[17,6,13,8],[17,10,13,12,"endDuration"],[17,21,13,23],[17,24,13,26],[17,33,13,26,"endDuration"],[17,34,13,26],[17,36,13,38],[18,8,14,12,"durationSubscriber"],[18,26,14,30],[18,31,14,35],[18,35,14,39],[18,39,14,43,"durationSubscriber"],[18,57,14,61],[18,62,14,66],[18,67,14,71],[18,68,14,72],[18,71,14,75],[18,76,14,80],[18,77,14,81],[18,80,14,84,"durationSubscriber"],[18,98,14,102],[18,99,14,103,"unsubscribe"],[18,110,14,114],[18,111,14,115],[18,112,14,116],[19,8,15,12,"durationSubscriber"],[19,26,15,30],[19,29,15,33],[19,33,15,37],[20,8,16,12],[20,12,16,16,"hasValue"],[20,20,16,24],[20,22,16,26],[21,10,17,16,"hasValue"],[21,18,17,24],[21,21,17,27],[21,26,17,32],[22,10,18,16],[22,14,18,20,"value"],[22,19,18,25],[22,22,18,28,"lastValue"],[22,31,18,37],[23,10,19,16,"lastValue"],[23,19,19,25],[23,22,19,28],[23,26,19,32],[24,10,20,16,"subscriber"],[24,20,20,26],[24,21,20,27,"next"],[24,25,20,31],[24,26,20,32,"value"],[24,31,20,37],[24,32,20,38],[25,8,21,12],[26,8,22,12,"isComplete"],[26,18,22,22],[26,22,22,26,"subscriber"],[26,32,22,36],[26,33,22,37,"complete"],[26,41,22,45],[26,42,22,46],[26,43,22,47],[27,6,23,8],[27,7,23,9],[28,6,24,8],[28,10,24,12,"cleanupDuration"],[28,25,24,27],[28,28,24,30],[28,37,24,30,"cleanupDuration"],[28,38,24,30],[28,40,24,42],[29,8,25,12,"durationSubscriber"],[29,26,25,30],[29,29,25,33],[29,33,25,37],[30,8,26,12,"isComplete"],[30,18,26,22],[30,22,26,26,"subscriber"],[30,32,26,36],[30,33,26,37,"complete"],[30,41,26,45],[30,42,26,46],[30,43,26,47],[31,6,27,8],[31,7,27,9],[32,6,28,8,"source"],[32,12,28,14],[32,13,28,15,"subscribe"],[32,22,28,24],[32,23,28,25,"OperatorSubscriber_1"],[32,43,28,45],[32,44,28,46,"createOperatorSubscriber"],[32,68,28,70],[32,69,28,71,"subscriber"],[32,79,28,81],[32,81,28,83],[32,91,28,93,"value"],[32,96,28,98],[32,98,28,100],[33,8,29,12,"hasValue"],[33,16,29,20],[33,19,29,23],[33,23,29,27],[34,8,30,12,"lastValue"],[34,17,30,21],[34,20,30,24,"value"],[34,25,30,29],[35,8,31,12],[35,12,31,16],[35,13,31,17,"durationSubscriber"],[35,31,31,35],[35,33,31,37],[36,10,32,16,"innerFrom_1"],[36,21,32,27],[36,22,32,28,"innerFrom"],[36,31,32,37],[36,32,32,38,"durationSelector"],[36,48,32,54],[36,49,32,55,"value"],[36,54,32,60],[36,55,32,61],[36,56,32,62],[36,57,32,63,"subscribe"],[36,66,32,72],[36,67,32,74,"durationSubscriber"],[36,85,32,92],[36,88,32,95,"OperatorSubscriber_1"],[36,108,32,115],[36,109,32,116,"createOperatorSubscriber"],[36,133,32,140],[36,134,32,141,"subscriber"],[36,144,32,151],[36,146,32,153,"endDuration"],[36,157,32,164],[36,159,32,166,"cleanupDuration"],[36,174,32,181],[36,175,32,183],[36,176,32,184],[37,8,33,12],[38,6,34,8],[38,7,34,9],[38,9,34,11],[38,21,34,23],[39,8,35,12,"isComplete"],[39,18,35,22],[39,21,35,25],[39,25,35,29],[40,8,36,12],[40,9,36,13],[40,10,36,14,"hasValue"],[40,18,36,22],[40,22,36,26],[40,23,36,27,"durationSubscriber"],[40,41,36,45],[40,45,36,49,"durationSubscriber"],[40,63,36,67],[40,64,36,68,"closed"],[40,70,36,74],[40,75,36,79,"subscriber"],[40,85,36,89],[40,86,36,90,"complete"],[40,94,36,98],[40,95,36,99],[40,96,36,100],[41,6,37,8],[41,7,37,9],[41,8,37,10],[41,9,37,11],[42,4,38,4],[42,5,38,5],[42,6,38,6],[43,2,39,0],[44,2,40,0,"exports"],[44,9,40,7],[44,10,40,8,"audit"],[44,15,40,13],[44,18,40,16,"audit"],[44,23,40,21],[45,0,40,22],[45,3]],"functionMap":{"names":["<global>","audit","lift_1.operate$argument_0","endDuration","cleanupDuration","OperatorSubscriber_1.createOperatorSubscriber$argument_1","OperatorSubscriber_1.createOperatorSubscriber$argument_2"],"mappings":"AAA;ACM;0BCC;0BCK;SDU;8BEC;SFG;mFGC;SHM,EI;SJG;KDC;CDC"},"hasCjsExports":true},"type":"js/module"}]}