{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":3,"column":29,"index":44},"end":{"line":3,"column":84,"index":99}}],"key":"kslwqCIsh6ew+I1KeA1rlVRjsAk=","exportNames":["*"],"imports":1}},{"name":"../utils/common/invariant","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":10,"column":40,"index":351},"end":{"line":10,"column":76,"index":387}}],"key":"xXWoRmIvK22fz8BhZzrIVJrZW3I=","exportNames":["*"],"imports":1}},{"name":"../utils/fp/checkName","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":65,"column":20,"index":1833},"end":{"line":65,"column":52,"index":1865}}],"key":"SMzJbCIMgbq1YqTAu08FBE5LB/U=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _interopRequireDefault = require(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n  exports.__esModule = true;\n  exports.appSchema = appSchema;\n  exports.columnName = columnName;\n  exports.tableName = tableName;\n  exports.tableSchema = tableSchema;\n  exports.validateColumnSchema = validateColumnSchema;\n  var _invariant = _interopRequireDefault(require(_dependencyMap[1], \"../utils/common/invariant\"));\n  // NOTE: Only require files needed (critical path on web)\n  /**\n   * String that signifies a database table name (mapping to WatermelonDB Models)\n   */\n  /**\n   * String that signifies a database column name (mapping to WatermelonDB fields)\n   */\n  /**\n   * Type of a column\n   */\n  /**\n   * Definition of a table column\n   */\n  /**\n   * Creates a typed TableName\n   */\n  function tableName(name) {\n    return name;\n  }\n\n  /**\n   * Creates a typed ColumnName\n   */\n  function columnName(name) {\n    return name;\n  }\n\n  /**\n   * Creates a database schema object. Pass table definitions created using {@see tableSchema}\n   */\n  function appSchema({\n    version: version,\n    tables: tableList,\n    unsafeSql: unsafeSql\n  }) {\n    if ('production' !== process.env.NODE_ENV) {\n      (0, _invariant.default)(0 < version, \"Schema version must be greater than 0\");\n    }\n    var tables = tableList.reduce(function (map, table) {\n      if ('production' !== process.env.NODE_ENV) {\n        (0, _invariant.default)('object' === typeof table && table.name, \"Table schema must contain a name\");\n      }\n      map[table.name] = table;\n      return map;\n    }, {});\n    return {\n      version: version,\n      tables: tables,\n      unsafeSql: unsafeSql\n    };\n  }\n  var validateName = function (name) {\n    if ('production' !== process.env.NODE_ENV) {\n      (0, _invariant.default)(!['id', '_changed', '_status', 'local_storage'].includes(name.toLowerCase()), \"Invalid column or table name '\".concat(name, \"' - reserved by WatermelonDB\"));\n      var checkName = require(_dependencyMap[2], \"../utils/fp/checkName\").default;\n      checkName(name);\n    }\n  };\n  function validateColumnSchema(column) {\n    if ('production' !== process.env.NODE_ENV) {\n      (0, _invariant.default)(column.name, \"Missing column name\");\n      validateName(column.name);\n      (0, _invariant.default)(['string', 'boolean', 'number'].includes(column.type), \"Invalid type \".concat(column.type, \" for column '\").concat(column.name, \"' (valid: string, boolean, number)\"));\n      if ('created_at' === column.name || 'updated_at' === column.name) {\n        (0, _invariant.default)('number' === column.type && !column.isOptional, \"\".concat(column.name, \" must be of type number and not optional\"));\n      }\n      if ('last_modified' === column.name) {\n        (0, _invariant.default)('number' === column.type, \"For compatibility reasons, column last_modified must be of type 'number', and should be optional\");\n      }\n    }\n  }\n\n  /**\n   * Creates a typed TableSchema\n   */\n  function tableSchema({\n    name: name,\n    columns: columnArray,\n    unsafeSql: unsafeSql\n  }) {\n    if ('production' !== process.env.NODE_ENV) {\n      (0, _invariant.default)(name, \"Missing table name in schema\");\n      validateName(name);\n    }\n    var columns = columnArray.reduce(function (map, column) {\n      if ('production' !== process.env.NODE_ENV) {\n        validateColumnSchema(column);\n      }\n      map[column.name] = column;\n      return map;\n    }, {});\n    return {\n      name: name,\n      columns: columns,\n      columnArray: columnArray,\n      unsafeSql: unsafeSql\n    };\n  }\n});","lineCount":110,"map":[[2,2,1,0],[2,14,1,12],[4,2,3,0],[4,6,3,4,"_interopRequireDefault"],[4,28,3,26],[4,31,3,29,"require"],[4,38,3,36],[4,39,3,36,"_dependencyMap"],[4,53,3,36],[4,104,3,83],[4,105,3,84],[5,2,4,0,"exports"],[5,9,4,7],[5,10,4,8,"__esModule"],[5,20,4,18],[5,23,4,21],[5,27,4,25],[6,2,5,0,"exports"],[6,9,5,7],[6,10,5,8,"appSchema"],[6,19,5,17],[6,22,5,20,"appSchema"],[6,31,5,29],[7,2,6,0,"exports"],[7,9,6,7],[7,10,6,8,"columnName"],[7,20,6,18],[7,23,6,21,"columnName"],[7,33,6,31],[8,2,7,0,"exports"],[8,9,7,7],[8,10,7,8,"tableName"],[8,19,7,17],[8,22,7,20,"tableName"],[8,31,7,29],[9,2,8,0,"exports"],[9,9,8,7],[9,10,8,8,"tableSchema"],[9,21,8,19],[9,24,8,22,"tableSchema"],[9,35,8,33],[10,2,9,0,"exports"],[10,9,9,7],[10,10,9,8,"validateColumnSchema"],[10,30,9,28],[10,33,9,31,"validateColumnSchema"],[10,53,9,51],[11,2,10,0],[11,6,10,4,"_invariant"],[11,16,10,14],[11,19,10,17,"_interopRequireDefault"],[11,41,10,39],[11,42,10,40,"require"],[11,49,10,47],[11,50,10,47,"_dependencyMap"],[11,64,10,47],[11,96,10,75],[11,97,10,76],[11,98,10,77],[12,2,11,0],[13,2,12,0],[14,0,13,0],[15,0,14,0],[16,2,15,0],[17,0,16,0],[18,0,17,0],[19,2,18,0],[20,0,19,0],[21,0,20,0],[22,2,21,0],[23,0,22,0],[24,0,23,0],[25,2,24,0],[26,0,25,0],[27,0,26,0],[28,2,27,0],[28,11,27,9,"tableName"],[28,20,27,18,"tableName"],[28,21,27,19,"name"],[28,25,27,23],[28,27,27,25],[29,4,28,2],[29,11,28,9,"name"],[29,15,28,13],[30,2,29,0],[32,2,31,0],[33,0,32,0],[34,0,33,0],[35,2,34,0],[35,11,34,9,"columnName"],[35,21,34,19,"columnName"],[35,22,34,20,"name"],[35,26,34,24],[35,28,34,26],[36,4,35,2],[36,11,35,9,"name"],[36,15,35,13],[37,2,36,0],[39,2,38,0],[40,0,39,0],[41,0,40,0],[42,2,41,0],[42,11,41,9,"appSchema"],[42,20,41,18,"appSchema"],[42,21,41,19],[43,4,42,2,"version"],[43,11,42,9],[43,13,42,11,"version"],[43,20,42,18],[44,4,43,2,"tables"],[44,10,43,8],[44,12,43,10,"tableList"],[44,21,43,19],[45,4,44,2,"unsafeSql"],[45,13,44,11],[45,15,44,13,"unsafeSql"],[46,2,45,0],[46,3,45,1],[46,5,45,3],[47,4,46,2],[47,8,46,6],[47,20,46,18],[47,25,46,23,"process"],[47,32,46,30],[47,33,46,31,"env"],[47,36,46,34],[47,37,46,35,"NODE_ENV"],[47,45,46,43],[47,47,46,45],[48,6,47,4],[48,7,47,5],[48,8,47,6],[48,10,47,8,"_invariant"],[48,20,47,18],[48,21,47,19,"default"],[48,28,47,26],[48,30,47,28],[48,31,47,29],[48,34,47,32,"version"],[48,41,47,39],[48,43,47,41],[48,82,47,80],[48,83,47,81],[49,4,48,2],[50,4,49,2],[50,8,49,6,"tables"],[50,14,49,12],[50,17,49,15,"tableList"],[50,26,49,24],[50,27,49,25,"reduce"],[50,33,49,31],[50,34,49,32],[50,44,49,42,"map"],[50,47,49,45],[50,49,49,47,"table"],[50,54,49,52],[50,56,49,54],[51,6,50,4],[51,10,50,8],[51,22,50,20],[51,27,50,25,"process"],[51,34,50,32],[51,35,50,33,"env"],[51,38,50,36],[51,39,50,37,"NODE_ENV"],[51,47,50,45],[51,49,50,47],[52,8,51,6],[52,9,51,7],[52,10,51,8],[52,12,51,10,"_invariant"],[52,22,51,20],[52,23,51,21,"default"],[52,30,51,28],[52,32,51,30],[52,40,51,38],[52,45,51,43],[52,52,51,50,"table"],[52,57,51,55],[52,61,51,59,"table"],[52,66,51,64],[52,67,51,65,"name"],[52,71,51,69],[52,73,51,71],[52,107,51,105],[52,108,51,106],[53,6,52,4],[54,6,53,4,"map"],[54,9,53,7],[54,10,53,8,"table"],[54,15,53,13],[54,16,53,14,"name"],[54,20,53,18],[54,21,53,19],[54,24,53,22,"table"],[54,29,53,27],[55,6,54,4],[55,13,54,11,"map"],[55,16,54,14],[56,4,55,2],[56,5,55,3],[56,7,55,5],[56,8,55,6],[56,9,55,7],[56,10,55,8],[57,4,56,2],[57,11,56,9],[58,6,57,4,"version"],[58,13,57,11],[58,15,57,13,"version"],[58,22,57,20],[59,6,58,4,"tables"],[59,12,58,10],[59,14,58,12,"tables"],[59,20,58,18],[60,6,59,4,"unsafeSql"],[60,15,59,13],[60,17,59,15,"unsafeSql"],[61,4,60,2],[61,5,60,3],[62,2,61,0],[63,2,62,0],[63,6,62,4,"validateName"],[63,18,62,16],[63,21,62,19],[63,30,62,19,"validateName"],[63,31,62,29,"name"],[63,35,62,33],[63,37,62,35],[64,4,63,2],[64,8,63,6],[64,20,63,18],[64,25,63,23,"process"],[64,32,63,30],[64,33,63,31,"env"],[64,36,63,34],[64,37,63,35,"NODE_ENV"],[64,45,63,43],[64,47,63,45],[65,6,64,4],[65,7,64,5],[65,8,64,6],[65,10,64,8,"_invariant"],[65,20,64,18],[65,21,64,19,"default"],[65,28,64,26],[65,30,64,28],[65,31,64,29],[65,32,64,30],[65,36,64,34],[65,38,64,36],[65,48,64,46],[65,50,64,48],[65,59,64,57],[65,61,64,59],[65,76,64,74],[65,77,64,75],[65,78,64,76,"includes"],[65,86,64,84],[65,87,64,85,"name"],[65,91,64,89],[65,92,64,90,"toLowerCase"],[65,103,64,101],[65,104,64,102],[65,105,64,103],[65,106,64,104],[65,108,64,106],[65,140,64,138],[65,141,64,139,"concat"],[65,147,64,145],[65,148,64,146,"name"],[65,152,64,150],[65,154,64,152],[65,184,64,182],[65,185,64,183],[65,186,64,184],[66,6,65,4],[66,10,65,8,"checkName"],[66,19,65,17],[66,22,65,20,"require"],[66,29,65,27],[66,30,65,27,"_dependencyMap"],[66,44,65,27],[66,72,65,51],[66,73,65,52],[66,74,65,53,"default"],[66,81,65,60],[67,6,66,4,"checkName"],[67,15,66,13],[67,16,66,14,"name"],[67,20,66,18],[67,21,66,19],[68,4,67,2],[69,2,68,0],[69,3,68,1],[70,2,69,0],[70,11,69,9,"validateColumnSchema"],[70,31,69,29,"validateColumnSchema"],[70,32,69,30,"column"],[70,38,69,36],[70,40,69,38],[71,4,70,2],[71,8,70,6],[71,20,70,18],[71,25,70,23,"process"],[71,32,70,30],[71,33,70,31,"env"],[71,36,70,34],[71,37,70,35,"NODE_ENV"],[71,45,70,43],[71,47,70,45],[72,6,71,4],[72,7,71,5],[72,8,71,6],[72,10,71,8,"_invariant"],[72,20,71,18],[72,21,71,19,"default"],[72,28,71,26],[72,30,71,28,"column"],[72,36,71,34],[72,37,71,35,"name"],[72,41,71,39],[72,43,71,41],[72,64,71,62],[72,65,71,63],[73,6,72,4,"validateName"],[73,18,72,16],[73,19,72,17,"column"],[73,25,72,23],[73,26,72,24,"name"],[73,30,72,28],[73,31,72,29],[74,6,73,4],[74,7,73,5],[74,8,73,6],[74,10,73,8,"_invariant"],[74,20,73,18],[74,21,73,19,"default"],[74,28,73,26],[74,30,73,28],[74,31,73,29],[74,39,73,37],[74,41,73,39],[74,50,73,48],[74,52,73,50],[74,60,73,58],[74,61,73,59],[74,62,73,60,"includes"],[74,70,73,68],[74,71,73,69,"column"],[74,77,73,75],[74,78,73,76,"type"],[74,82,73,80],[74,83,73,81],[74,85,73,83],[74,100,73,98],[74,101,73,99,"concat"],[74,107,73,105],[74,108,73,106,"column"],[74,114,73,112],[74,115,73,113,"type"],[74,119,73,117],[74,121,73,119],[74,136,73,134],[74,137,73,135],[74,138,73,136,"concat"],[74,144,73,142],[74,145,73,143,"column"],[74,151,73,149],[74,152,73,150,"name"],[74,156,73,154],[74,158,73,156],[74,194,73,192],[74,195,73,193],[74,196,73,194],[75,6,74,4],[75,10,74,8],[75,22,74,20],[75,27,74,25,"column"],[75,33,74,31],[75,34,74,32,"name"],[75,38,74,36],[75,42,74,40],[75,54,74,52],[75,59,74,57,"column"],[75,65,74,63],[75,66,74,64,"name"],[75,70,74,68],[75,72,74,70],[76,8,75,6],[76,9,75,7],[76,10,75,8],[76,12,75,10,"_invariant"],[76,22,75,20],[76,23,75,21,"default"],[76,30,75,28],[76,32,75,30],[76,40,75,38],[76,45,75,43,"column"],[76,51,75,49],[76,52,75,50,"type"],[76,56,75,54],[76,60,75,58],[76,61,75,59,"column"],[76,67,75,65],[76,68,75,66,"isOptional"],[76,78,75,76],[76,80,75,78],[76,82,75,80],[76,83,75,81,"concat"],[76,89,75,87],[76,90,75,88,"column"],[76,96,75,94],[76,97,75,95,"name"],[76,101,75,99],[76,103,75,101],[76,145,75,143],[76,146,75,144],[76,147,75,145],[77,6,76,4],[78,6,77,4],[78,10,77,8],[78,25,77,23],[78,30,77,28,"column"],[78,36,77,34],[78,37,77,35,"name"],[78,41,77,39],[78,43,77,41],[79,8,78,6],[79,9,78,7],[79,10,78,8],[79,12,78,10,"_invariant"],[79,22,78,20],[79,23,78,21,"default"],[79,30,78,28],[79,32,78,30],[79,40,78,38],[79,45,78,43,"column"],[79,51,78,49],[79,52,78,50,"type"],[79,56,78,54],[79,58,78,56],[79,156,78,154],[79,157,78,155],[80,6,79,4],[81,4,80,2],[82,2,81,0],[84,2,83,0],[85,0,84,0],[86,0,85,0],[87,2,86,0],[87,11,86,9,"tableSchema"],[87,22,86,20,"tableSchema"],[87,23,86,21],[88,4,87,2,"name"],[88,8,87,6],[88,10,87,8,"name"],[88,14,87,12],[89,4,88,2,"columns"],[89,11,88,9],[89,13,88,11,"columnArray"],[89,24,88,22],[90,4,89,2,"unsafeSql"],[90,13,89,11],[90,15,89,13,"unsafeSql"],[91,2,90,0],[91,3,90,1],[91,5,90,3],[92,4,91,2],[92,8,91,6],[92,20,91,18],[92,25,91,23,"process"],[92,32,91,30],[92,33,91,31,"env"],[92,36,91,34],[92,37,91,35,"NODE_ENV"],[92,45,91,43],[92,47,91,45],[93,6,92,4],[93,7,92,5],[93,8,92,6],[93,10,92,8,"_invariant"],[93,20,92,18],[93,21,92,19,"default"],[93,28,92,26],[93,30,92,28,"name"],[93,34,92,32],[93,36,92,34],[93,66,92,64],[93,67,92,65],[94,6,93,4,"validateName"],[94,18,93,16],[94,19,93,17,"name"],[94,23,93,21],[94,24,93,22],[95,4,94,2],[96,4,95,2],[96,8,95,6,"columns"],[96,15,95,13],[96,18,95,16,"columnArray"],[96,29,95,27],[96,30,95,28,"reduce"],[96,36,95,34],[96,37,95,35],[96,47,95,45,"map"],[96,50,95,48],[96,52,95,50,"column"],[96,58,95,56],[96,60,95,58],[97,6,96,4],[97,10,96,8],[97,22,96,20],[97,27,96,25,"process"],[97,34,96,32],[97,35,96,33,"env"],[97,38,96,36],[97,39,96,37,"NODE_ENV"],[97,47,96,45],[97,49,96,47],[98,8,97,6,"validateColumnSchema"],[98,28,97,26],[98,29,97,27,"column"],[98,35,97,33],[98,36,97,34],[99,6,98,4],[100,6,99,4,"map"],[100,9,99,7],[100,10,99,8,"column"],[100,16,99,14],[100,17,99,15,"name"],[100,21,99,19],[100,22,99,20],[100,25,99,23,"column"],[100,31,99,29],[101,6,100,4],[101,13,100,11,"map"],[101,16,100,14],[102,4,101,2],[102,5,101,3],[102,7,101,5],[102,8,101,6],[102,9,101,7],[102,10,101,8],[103,4,102,2],[103,11,102,9],[104,6,103,4,"name"],[104,10,103,8],[104,12,103,10,"name"],[104,16,103,14],[105,6,104,4,"columns"],[105,13,104,11],[105,15,104,13,"columns"],[105,22,104,20],[106,6,105,4,"columnArray"],[106,17,105,15],[106,19,105,17,"columnArray"],[106,30,105,28],[107,6,106,4,"unsafeSql"],[107,15,106,13],[107,17,106,15,"unsafeSql"],[108,4,107,2],[108,5,107,3],[109,2,108,0],[110,0,108,1],[110,3]],"functionMap":{"names":["<global>","tableName","columnName","appSchema","tableList.reduce$argument_0","validateName","validateColumnSchema","tableSchema","columnArray.reduce$argument_0"],"mappings":"AAA;AC0B;CDE;AEK;CFE;AGK;gCCQ;GDM;CHM;mBKC;CLM;AMC;CNY;AOK;mCCS;GDM"},"hasCjsExports":true},"type":"js/module"}]}