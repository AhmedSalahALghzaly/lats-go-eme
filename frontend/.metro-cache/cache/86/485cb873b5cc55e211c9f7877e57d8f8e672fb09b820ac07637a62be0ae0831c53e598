{"dependencies":[{"name":"../../Observable","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":4,"column":19,"index":130},"end":{"line":4,"column":46,"index":157}}],"key":"b1EpRhgFcix0o3db0MXm3O/N3QE=","exportNames":["*"],"imports":1}},{"name":"../../scheduler/performanceTimestampProvider","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":5,"column":37,"index":196},"end":{"line":5,"column":92,"index":251}}],"key":"DPfuatu4rCaTeY1LSf6Obtw22yU=","exportNames":["*"],"imports":1}},{"name":"../../scheduler/animationFrameProvider","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":6,"column":31,"index":284},"end":{"line":6,"column":80,"index":333}}],"key":"I+TcjDAMyhtRsdjO20meFKWtMGQ=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.animationFrames = void 0;\n  var Observable_1 = require(_dependencyMap[0], \"../../Observable\");\n  var performanceTimestampProvider_1 = require(_dependencyMap[1], \"../../scheduler/performanceTimestampProvider\");\n  var animationFrameProvider_1 = require(_dependencyMap[2], \"../../scheduler/animationFrameProvider\");\n  function animationFrames(timestampProvider) {\n    return timestampProvider ? animationFramesFactory(timestampProvider) : DEFAULT_ANIMATION_FRAMES;\n  }\n  exports.animationFrames = animationFrames;\n  function animationFramesFactory(timestampProvider) {\n    return new Observable_1.Observable(function (subscriber) {\n      var provider = timestampProvider || performanceTimestampProvider_1.performanceTimestampProvider;\n      var start = provider.now();\n      var id = 0;\n      var run = function () {\n        if (!subscriber.closed) {\n          id = animationFrameProvider_1.animationFrameProvider.requestAnimationFrame(function (timestamp) {\n            id = 0;\n            var now = provider.now();\n            subscriber.next({\n              timestamp: timestampProvider ? now : timestamp,\n              elapsed: now - start\n            });\n            run();\n          });\n        }\n      };\n      run();\n      return function () {\n        if (id) {\n          animationFrameProvider_1.animationFrameProvider.cancelAnimationFrame(id);\n        }\n      };\n    });\n  }\n  var DEFAULT_ANIMATION_FRAMES = animationFramesFactory();\n});","lineCount":42,"map":[[2,2,1,0],[2,14,1,12],[4,2,2,0,"Object"],[4,8,2,6],[4,9,2,7,"defineProperty"],[4,23,2,21],[4,24,2,22,"exports"],[4,31,2,29],[4,33,2,31],[4,45,2,43],[4,47,2,45],[5,4,2,47,"value"],[5,9,2,52],[5,11,2,54],[6,2,2,59],[6,3,2,60],[6,4,2,61],[7,2,3,0,"exports"],[7,9,3,7],[7,10,3,8,"animationFrames"],[7,25,3,23],[7,28,3,26],[7,33,3,31],[7,34,3,32],[8,2,4,0],[8,6,4,4,"Observable_1"],[8,18,4,16],[8,21,4,19,"require"],[8,28,4,26],[8,29,4,26,"_dependencyMap"],[8,43,4,26],[8,66,4,45],[8,67,4,46],[9,2,5,0],[9,6,5,4,"performanceTimestampProvider_1"],[9,36,5,34],[9,39,5,37,"require"],[9,46,5,44],[9,47,5,44,"_dependencyMap"],[9,61,5,44],[9,112,5,91],[9,113,5,92],[10,2,6,0],[10,6,6,4,"animationFrameProvider_1"],[10,30,6,28],[10,33,6,31,"require"],[10,40,6,38],[10,41,6,38,"_dependencyMap"],[10,55,6,38],[10,100,6,79],[10,101,6,80],[11,2,7,0],[11,11,7,9,"animationFrames"],[11,26,7,24,"animationFrames"],[11,27,7,25,"timestampProvider"],[11,44,7,42],[11,46,7,44],[12,4,8,4],[12,11,8,11,"timestampProvider"],[12,28,8,28],[12,31,8,31,"animationFramesFactory"],[12,53,8,53],[12,54,8,54,"timestampProvider"],[12,71,8,71],[12,72,8,72],[12,75,8,75,"DEFAULT_ANIMATION_FRAMES"],[12,99,8,99],[13,2,9,0],[14,2,10,0,"exports"],[14,9,10,7],[14,10,10,8,"animationFrames"],[14,25,10,23],[14,28,10,26,"animationFrames"],[14,43,10,41],[15,2,11,0],[15,11,11,9,"animationFramesFactory"],[15,33,11,31,"animationFramesFactory"],[15,34,11,32,"timestampProvider"],[15,51,11,49],[15,53,11,51],[16,4,12,4],[16,11,12,11],[16,15,12,15,"Observable_1"],[16,27,12,27],[16,28,12,28,"Observable"],[16,38,12,38],[16,39,12,39],[16,49,12,49,"subscriber"],[16,59,12,59],[16,61,12,61],[17,6,13,8],[17,10,13,12,"provider"],[17,18,13,20],[17,21,13,23,"timestampProvider"],[17,38,13,40],[17,42,13,44,"performanceTimestampProvider_1"],[17,72,13,74],[17,73,13,75,"performanceTimestampProvider"],[17,101,13,103],[18,6,14,8],[18,10,14,12,"start"],[18,15,14,17],[18,18,14,20,"provider"],[18,26,14,28],[18,27,14,29,"now"],[18,30,14,32],[18,31,14,33],[18,32,14,34],[19,6,15,8],[19,10,15,12,"id"],[19,12,15,14],[19,15,15,17],[19,16,15,18],[20,6,16,8],[20,10,16,12,"run"],[20,13,16,15],[20,16,16,18],[20,25,16,18,"run"],[20,26,16,18],[20,28,16,30],[21,8,17,12],[21,12,17,16],[21,13,17,17,"subscriber"],[21,23,17,27],[21,24,17,28,"closed"],[21,30,17,34],[21,32,17,36],[22,10,18,16,"id"],[22,12,18,18],[22,15,18,21,"animationFrameProvider_1"],[22,39,18,45],[22,40,18,46,"animationFrameProvider"],[22,62,18,68],[22,63,18,69,"requestAnimationFrame"],[22,84,18,90],[22,85,18,91],[22,95,18,101,"timestamp"],[22,104,18,110],[22,106,18,112],[23,12,19,20,"id"],[23,14,19,22],[23,17,19,25],[23,18,19,26],[24,12,20,20],[24,16,20,24,"now"],[24,19,20,27],[24,22,20,30,"provider"],[24,30,20,38],[24,31,20,39,"now"],[24,34,20,42],[24,35,20,43],[24,36,20,44],[25,12,21,20,"subscriber"],[25,22,21,30],[25,23,21,31,"next"],[25,27,21,35],[25,28,21,36],[26,14,22,24,"timestamp"],[26,23,22,33],[26,25,22,35,"timestampProvider"],[26,42,22,52],[26,45,22,55,"now"],[26,48,22,58],[26,51,22,61,"timestamp"],[26,60,22,70],[27,14,23,24,"elapsed"],[27,21,23,31],[27,23,23,33,"now"],[27,26,23,36],[27,29,23,39,"start"],[28,12,24,20],[28,13,24,21],[28,14,24,22],[29,12,25,20,"run"],[29,15,25,23],[29,16,25,24],[29,17,25,25],[30,10,26,16],[30,11,26,17],[30,12,26,18],[31,8,27,12],[32,6,28,8],[32,7,28,9],[33,6,29,8,"run"],[33,9,29,11],[33,10,29,12],[33,11,29,13],[34,6,30,8],[34,13,30,15],[34,25,30,27],[35,8,31,12],[35,12,31,16,"id"],[35,14,31,18],[35,16,31,20],[36,10,32,16,"animationFrameProvider_1"],[36,34,32,40],[36,35,32,41,"animationFrameProvider"],[36,57,32,63],[36,58,32,64,"cancelAnimationFrame"],[36,78,32,84],[36,79,32,85,"id"],[36,81,32,87],[36,82,32,88],[37,8,33,12],[38,6,34,8],[38,7,34,9],[39,4,35,4],[39,5,35,5],[39,6,35,6],[40,2,36,0],[41,2,37,0],[41,6,37,4,"DEFAULT_ANIMATION_FRAMES"],[41,30,37,28],[41,33,37,31,"animationFramesFactory"],[41,55,37,53],[41,56,37,54],[41,57,37,55],[42,0,37,56],[42,3]],"functionMap":{"names":["<global>","animationFrames","animationFramesFactory","Observable_1.Observable$argument_0","run","animationFrameProvider_1.animationFrameProvider.requestAnimationFrame$argument_0","<anonymous>"],"mappings":"AAA;ACM;CDE;AEE;uCCC;kBCI;2FCE;iBDQ;SDE;eGE;SHI;KDC;CFC"},"hasCjsExports":true},"type":"js/module"}]}