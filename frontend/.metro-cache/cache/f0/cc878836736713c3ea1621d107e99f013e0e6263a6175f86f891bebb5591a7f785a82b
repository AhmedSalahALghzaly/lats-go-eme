{"dependencies":[{"name":"../../utils/fp","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":5,"column":10,"index":99},"end":{"line":5,"column":35,"index":124}}],"key":"F8BfGunTMkcMsQ7te+IdXJXLwKI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  exports.__esModule = true;\n  exports.stepsForMigration = stepsForMigration;\n  var _fp = require(_dependencyMap[0], \"../../utils/fp\");\n  function stepsForMigration({\n    migrations: schemaMigrations,\n    fromVersion: fromVersion,\n    toVersion: toVersion\n  }) {\n    var {\n      sortedMigrations: sortedMigrations,\n      minVersion: minVersion,\n      maxVersion: maxVersion\n    } = schemaMigrations;\n\n    // see if migrations in this range are available\n    if (fromVersion < minVersion || toVersion > maxVersion) {\n      return null;\n    }\n\n    // return steps\n    var matchingMigrations = sortedMigrations.filter(function ({\n      toVersion: version\n    }) {\n      return version > fromVersion && version <= toVersion;\n    });\n    var allSteps = (0, _fp.unnest)(matchingMigrations.map(function (migration) {\n      return migration.steps;\n    }));\n    return allSteps;\n  }\n});","lineCount":34,"map":[[2,2,1,0],[2,14,1,12],[4,2,3,0,"exports"],[4,9,3,7],[4,10,3,8,"__esModule"],[4,20,3,18],[4,23,3,21],[4,27,3,25],[5,2,4,0,"exports"],[5,9,4,7],[5,10,4,8,"stepsForMigration"],[5,27,4,25],[5,30,4,28,"stepsForMigration"],[5,47,4,45],[6,2,5,0],[6,6,5,4,"_fp"],[6,9,5,7],[6,12,5,10,"require"],[6,19,5,17],[6,20,5,17,"_dependencyMap"],[6,34,5,17],[6,55,5,34],[6,56,5,35],[7,2,6,0],[7,11,6,9,"stepsForMigration"],[7,28,6,26,"stepsForMigration"],[7,29,6,27],[8,4,7,2,"migrations"],[8,14,7,12],[8,16,7,14,"schemaMigrations"],[8,32,7,30],[9,4,8,2,"fromVersion"],[9,15,8,13],[9,17,8,15,"fromVersion"],[9,28,8,26],[10,4,9,2,"toVersion"],[10,13,9,11],[10,15,9,13,"toVersion"],[11,2,10,0],[11,3,10,1],[11,5,10,3],[12,4,11,2],[12,8,11,6],[13,6,12,4,"sortedMigrations"],[13,22,12,20],[13,24,12,22,"sortedMigrations"],[13,40,12,38],[14,6,13,4,"minVersion"],[14,16,13,14],[14,18,13,16,"minVersion"],[14,28,13,26],[15,6,14,4,"maxVersion"],[15,16,14,14],[15,18,14,16,"maxVersion"],[16,4,15,2],[16,5,15,3],[16,8,15,6,"schemaMigrations"],[16,24,15,22],[18,4,17,2],[19,4,18,2],[19,8,18,6,"fromVersion"],[19,19,18,17],[19,22,18,20,"minVersion"],[19,32,18,30],[19,36,18,34,"toVersion"],[19,45,18,43],[19,48,18,46,"maxVersion"],[19,58,18,56],[19,60,18,58],[20,6,19,4],[20,13,19,11],[20,17,19,15],[21,4,20,2],[23,4,22,2],[24,4,23,2],[24,8,23,6,"matchingMigrations"],[24,26,23,24],[24,29,23,27,"sortedMigrations"],[24,45,23,43],[24,46,23,44,"filter"],[24,52,23,50],[24,53,23,51],[24,63,23,61],[25,6,24,4,"toVersion"],[25,15,24,13],[25,17,24,15,"version"],[26,4,25,2],[26,5,25,3],[26,7,25,5],[27,6,26,4],[27,13,26,11,"version"],[27,20,26,18],[27,23,26,21,"fromVersion"],[27,34,26,32],[27,38,26,36,"version"],[27,45,26,43],[27,49,26,47,"toVersion"],[27,58,26,56],[28,4,27,2],[28,5,27,3],[28,6,27,4],[29,4,28,2],[29,8,28,6,"allSteps"],[29,16,28,14],[29,19,28,17],[29,20,28,18],[29,21,28,19],[29,23,28,21,"_fp"],[29,26,28,24],[29,27,28,25,"unnest"],[29,33,28,31],[29,35,28,33,"matchingMigrations"],[29,53,28,51],[29,54,28,52,"map"],[29,57,28,55],[29,58,28,56],[29,68,28,66,"migration"],[29,77,28,75],[29,79,28,77],[30,6,29,4],[30,13,29,11,"migration"],[30,22,29,20],[30,23,29,21,"steps"],[30,28,29,26],[31,4,30,2],[31,5,30,3],[31,6,30,4],[31,7,30,5],[32,4,31,2],[32,11,31,9,"allSteps"],[32,19,31,17],[33,2,32,0],[34,0,32,1],[34,3]],"functionMap":{"names":["<global>","stepsForMigration","sortedMigrations.filter$argument_0","matchingMigrations.map$argument_0"],"mappings":"AAA;ACK;mDCiB;GDI;wDEC;GFE"},"hasCjsExports":true},"type":"js/module"}]}