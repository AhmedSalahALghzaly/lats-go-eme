{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":3,"column":29,"index":44},"end":{"line":3,"column":84,"index":99}}],"key":"kslwqCIsh6ew+I1KeA1rlVRjsAk=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/extends","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":8,"column":39,"index":276},"end":{"line":8,"column":80,"index":317}}],"key":"+IMV7fApFxYj6g0kcsGRJafP6mc=","exportNames":["*"],"imports":1}},{"name":"../../../utils/common/logger","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":9,"column":37,"index":357},"end":{"line":9,"column":76,"index":396}}],"key":"qiPdBKj5ysE5SsTdLqbIQwTzX6k=","exportNames":["*"],"imports":1}},{"name":"lokijs/src/incremental-indexeddb-adapter","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":62,"column":58,"index":2710},"end":{"line":62,"column":109,"index":2761}},{"start":{"line":62,"column":112,"index":2764},"end":{"line":62,"column":163,"index":2815}}],"key":"YvHe/41k6wSp+OUEqbzlv1/jHSU=","exportNames":["*"],"imports":2}},{"name":"lokijs/src/loki-indexed-adapter","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":66,"column":33,"index":2977},"end":{"line":66,"column":75,"index":3019}}],"key":"sNYo2EFiJvEU/xitWgQv76boLBo=","exportNames":["*"],"imports":1}},{"name":"lokijs","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":81,"column":30,"index":3535},"end":{"line":81,"column":47,"index":3552}},{"start":{"line":81,"column":50,"index":3555},"end":{"line":81,"column":67,"index":3572}},{"start":{"line":93,"column":33,"index":3869},"end":{"line":93,"column":50,"index":3886}},{"start":{"line":93,"column":53,"index":3889},"end":{"line":93,"column":70,"index":3906}}],"key":"SHg3Yx8f7XJw09Hiio31cpspIqY=","exportNames":["*"],"imports":4}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _interopRequireDefault = require(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n  exports.__esModule = true;\n  exports.deleteDatabase = deleteDatabase;\n  exports.lokiFatalError = lokiFatalError;\n  exports.newLoki = newLoki;\n  var _extends2 = _interopRequireDefault(require(_dependencyMap[1], \"@babel/runtime/helpers/extends\"));\n  var _logger = _interopRequireDefault(require(_dependencyMap[2], \"../../../utils/common/logger\"));\n  /* eslint-disable no-undef */\n  // don't import the whole utils/ here!\n  var isIDBAvailable = function (onQuotaExceededError) {\n    return new Promise(function (resolve) {\n      // $FlowFixMe\n      if ('undefined' === typeof indexedDB) {\n        resolve(false);\n      }\n\n      // in Firefox private mode, IDB will be available, but will fail to open\n      // $FlowFixMe\n      var checkRequest = indexedDB.open('WatermelonIDBChecker');\n      checkRequest.onsuccess = function (e) {\n        var db = e.target.result;\n        db.close();\n        resolve(true);\n      };\n      checkRequest.onerror = function (event) {\n        var _event$target;\n        var error = null === event || void 0 === event ? void 0 : null === (_event$target = event.target) || void 0 === _event$target ? void 0 : _event$target.error;\n        // this is what Firefox in Private Mode returns:\n        // DOMException: \"A mutation operation was attempted on a database that did not allow mutations.\"\n        // code: 11, name: InvalidStateError\n        _logger.default.error('[Loki] IndexedDB checker failed to open. Most likely, user is in Private Mode. It could also be a quota exceeded error. Will fall back to in-memory database.', event, error);\n        if (error && 'QuotaExceededError' === error.name) {\n          _logger.default.log('[Loki] Looks like disk quota was exceeded: ', error);\n          onQuotaExceededError && onQuotaExceededError(error);\n        }\n        resolve(false);\n      };\n      checkRequest.onblocked = function () {\n        _logger.default.error('IndexedDB checker call is blocked');\n      };\n    });\n  };\n  function getLokiAdapter(options) {\n    return new Promise(function ($return, $error) {\n      var useIncrementalIndexedDB, adapter, onQuotaExceededError, dbName, extraIncrementalIDBOptions, IncrementalIDBAdapter, LokiIndexedAdapter, LokiMemoryAdapter;\n      ({\n        useIncrementalIndexedDB: useIncrementalIndexedDB,\n        _testLokiAdapter: adapter,\n        onQuotaExceededError: onQuotaExceededError,\n        dbName: dbName,\n        extraIncrementalIDBOptions = {}\n      } = options);\n      if (adapter) {\n        return $return(adapter);\n      } else {\n        return Promise.resolve(isIDBAvailable(onQuotaExceededError)).then(function ($await_3) {\n          try {\n            if ($await_3) {\n              if (useIncrementalIndexedDB) {\n                IncrementalIDBAdapter = options._betaLoki ? require(_dependencyMap[3], \"lokijs/src/incremental-indexeddb-adapter\") : require(_dependencyMap[3], \"lokijs/src/incremental-indexeddb-adapter\");\n                // $FlowFixMe\n                return $return(new IncrementalIDBAdapter(extraIncrementalIDBOptions));\n              }\n              LokiIndexedAdapter = require(_dependencyMap[4], \"lokijs/src/loki-indexed-adapter\");\n              return $return(new LokiIndexedAdapter(dbName));\n            }\n            return $If_2.call(this);\n          } catch ($boundEx) {\n            return $error($boundEx);\n          }\n        }.bind(this), $error);\n      }\n\n      // if IDB is unavailable (that happens in private mode), fall back to memory adapter\n      // we could also fall back to localstorage adapter, but it will fail in all but the smallest dbs\n      function $If_2() {\n        ({\n          LokiMemoryAdapter: LokiMemoryAdapter\n        } = options._betaLoki ? require(_dependencyMap[5], \"lokijs\") : require(_dependencyMap[5], \"lokijs\"));\n        return $return(new LokiMemoryAdapter());\n      }\n      return $If_2.call(this);\n    });\n  }\n  function newLoki(options) {\n    return new Promise(function ($return, $error) {\n      var extraLokiOptions, LokiDb, loki;\n      ({\n        extraLokiOptions = {}\n      } = options);\n      LokiDb = options._betaLoki ? require(_dependencyMap[5], \"lokijs\") : require(_dependencyMap[5], \"lokijs\");\n      return Promise.resolve(getLokiAdapter(options)).then(function ($await_4) {\n        try {\n          loki = new LokiDb(options.dbName, (0, _extends2.default)({\n            adapter: $await_4,\n            autosave: true,\n            autosaveInterval: 500,\n            verbose: true\n          }, extraLokiOptions));\n          return Promise.resolve(new Promise(function (resolve, reject) {\n            loki.loadDatabase({}, function (error) {\n              error ? reject(error) : resolve();\n            });\n          })).then(function ($await_5) {\n            try {\n              return $return(loki);\n            } catch ($boundEx) {\n              return $error($boundEx);\n            }\n          }, $error);\n        } catch ($boundEx) {\n          return $error($boundEx);\n        }\n      }, $error);\n    });\n  }\n  function deleteDatabase(loki) {\n    return new Promise(function ($return, $error) {\n      return Promise.resolve(new Promise(function (resolve, reject) {\n        // Works around a race condition - Loki doesn't disable autosave or drain save queue before\n        // deleting database, so it's possible to delete and then have the database be saved\n        loki.close(function () {\n          loki.deleteDatabase({}, function (response) {\n            // LokiIndexedAdapter responds with `{ success: true }`, while\n            // LokiMemory adapter just calls it with no params\n            if (response && response.success || response === undefined) {\n              resolve();\n            } else {\n              reject(response);\n            }\n          });\n        });\n      })).then(function ($await_6) {\n        try {\n          return $return();\n        } catch ($boundEx) {\n          return $error($boundEx);\n        }\n      }, $error);\n    });\n  }\n\n  // In case of a fatal error, break Loki so that it cannot save its contents to disk anymore\n  // This might result in a loss of data in recent changes, but we assume that whatever caused the\n  // fatal error has corrupted the database, so we want to prevent it from being persisted\n  // There's no recovery from this, app must be restarted with a fresh LokiJSAdapter.\n  function lokiFatalError(loki) {\n    try {\n      // below is some very ugly defensive coding, but we're fatal and don't trust anyone anymore\n      var fatalHandler = function fatalHandler() {\n        throw new Error('Illegal attempt to save Loki database after a fatal error');\n      };\n      loki.save = fatalHandler;\n      loki.saveDatabase = fatalHandler;\n      loki.saveDatabaseInternal = fatalHandler;\n      // disable autosave\n      loki.autosave = false;\n      loki.autosaveDisable();\n      // close db\n      loki.close();\n    } catch (error) {\n      _logger.default.error('Failed to perform loki fatal error');\n      _logger.default.error(error);\n    }\n  }\n});","lineCount":169,"map":[[2,2,1,0],[2,14,1,12],[4,2,3,0],[4,6,3,4,"_interopRequireDefault"],[4,28,3,26],[4,31,3,29,"require"],[4,38,3,36],[4,39,3,36,"_dependencyMap"],[4,53,3,36],[4,104,3,83],[4,105,3,84],[5,2,4,0,"exports"],[5,9,4,7],[5,10,4,8,"__esModule"],[5,20,4,18],[5,23,4,21],[5,27,4,25],[6,2,5,0,"exports"],[6,9,5,7],[6,10,5,8,"deleteDatabase"],[6,24,5,22],[6,27,5,25,"deleteDatabase"],[6,41,5,39],[7,2,6,0,"exports"],[7,9,6,7],[7,10,6,8,"lokiFatalError"],[7,24,6,22],[7,27,6,25,"lokiFatalError"],[7,41,6,39],[8,2,7,0,"exports"],[8,9,7,7],[8,10,7,8,"newLoki"],[8,17,7,15],[8,20,7,18,"newLoki"],[8,27,7,25],[9,2,8,0],[9,6,8,4,"_extends2"],[9,15,8,13],[9,18,8,16,"_interopRequireDefault"],[9,40,8,38],[9,41,8,39,"require"],[9,48,8,46],[9,49,8,46,"_dependencyMap"],[9,63,8,46],[9,100,8,79],[9,101,8,80],[9,102,8,81],[10,2,9,0],[10,6,9,4,"_logger"],[10,13,9,11],[10,16,9,14,"_interopRequireDefault"],[10,38,9,36],[10,39,9,37,"require"],[10,46,9,44],[10,47,9,44,"_dependencyMap"],[10,61,9,44],[10,96,9,75],[10,97,9,76],[10,98,9,77],[11,2,10,0],[12,2,11,0],[13,2,12,0],[13,6,12,4,"isIDBAvailable"],[13,20,12,18],[13,23,12,21],[13,32,12,21,"isIDBAvailable"],[13,33,12,31,"onQuotaExceededError"],[13,53,12,51],[13,55,12,53],[14,4,13,2],[14,11,13,9],[14,15,13,13,"Promise"],[14,22,13,20],[14,23,13,21],[14,33,13,31,"resolve"],[14,40,13,38],[14,42,13,40],[15,6,14,4],[16,6,15,4],[16,10,15,8],[16,21,15,19],[16,26,15,24],[16,33,15,31,"indexedDB"],[16,42,15,40],[16,44,15,42],[17,8,16,6,"resolve"],[17,15,16,13],[17,16,16,14],[17,21,16,19],[17,22,16,20],[18,6,17,4],[20,6,19,4],[21,6,20,4],[22,6,21,4],[22,10,21,8,"checkRequest"],[22,22,21,20],[22,25,21,23,"indexedDB"],[22,34,21,32],[22,35,21,33,"open"],[22,39,21,37],[22,40,21,38],[22,62,21,60],[22,63,21,61],[23,6,22,4,"checkRequest"],[23,18,22,16],[23,19,22,17,"onsuccess"],[23,28,22,26],[23,31,22,29],[23,41,22,39,"e"],[23,42,22,40],[23,44,22,42],[24,8,23,6],[24,12,23,10,"db"],[24,14,23,12],[24,17,23,15,"e"],[24,18,23,16],[24,19,23,17,"target"],[24,25,23,23],[24,26,23,24,"result"],[24,32,23,30],[25,8,24,6,"db"],[25,10,24,8],[25,11,24,9,"close"],[25,16,24,14],[25,17,24,15],[25,18,24,16],[26,8,25,6,"resolve"],[26,15,25,13],[26,16,25,14],[26,20,25,18],[26,21,25,19],[27,6,26,4],[27,7,26,5],[28,6,27,4,"checkRequest"],[28,18,27,16],[28,19,27,17,"onerror"],[28,26,27,24],[28,29,27,27],[28,39,27,37,"event"],[28,44,27,42],[28,46,27,44],[29,8,28,6],[29,12,28,10,"_event$target"],[29,25,28,23],[30,8,29,6],[30,12,29,10,"error"],[30,17,29,15],[30,20,29,18],[30,24,29,22],[30,29,29,27,"event"],[30,34,29,32],[30,38,29,36],[30,43,29,41],[30,44,29,42],[30,49,29,47,"event"],[30,54,29,52],[30,57,29,55],[30,62,29,60],[30,63,29,61],[30,66,29,64],[30,70,29,68],[30,76,29,74,"_event$target"],[30,89,29,87],[30,92,29,90,"event"],[30,97,29,95],[30,98,29,96,"target"],[30,104,29,102],[30,105,29,103],[30,109,29,107],[30,114,29,112],[30,115,29,113],[30,120,29,118,"_event$target"],[30,133,29,131],[30,136,29,134],[30,141,29,139],[30,142,29,140],[30,145,29,143,"_event$target"],[30,158,29,156],[30,159,29,157,"error"],[30,164,29,162],[31,8,30,6],[32,8,31,6],[33,8,32,6],[34,8,33,6,"_logger"],[34,15,33,13],[34,16,33,14,"default"],[34,23,33,21],[34,24,33,22,"error"],[34,29,33,27],[34,30,33,28],[34,189,33,187],[34,191,33,189,"event"],[34,196,33,194],[34,198,33,196,"error"],[34,203,33,201],[34,204,33,202],[35,8,34,6],[35,12,34,10,"error"],[35,17,34,15],[35,21,34,19],[35,41,34,39],[35,46,34,44,"error"],[35,51,34,49],[35,52,34,50,"name"],[35,56,34,54],[35,58,34,56],[36,10,35,8,"_logger"],[36,17,35,15],[36,18,35,16,"default"],[36,25,35,23],[36,26,35,24,"log"],[36,29,35,27],[36,30,35,28],[36,75,35,73],[36,77,35,75,"error"],[36,82,35,80],[36,83,35,81],[37,10,36,8,"onQuotaExceededError"],[37,30,36,28],[37,34,36,32,"onQuotaExceededError"],[37,54,36,52],[37,55,36,53,"error"],[37,60,36,58],[37,61,36,59],[38,8,37,6],[39,8,38,6,"resolve"],[39,15,38,13],[39,16,38,14],[39,21,38,19],[39,22,38,20],[40,6,39,4],[40,7,39,5],[41,6,40,4,"checkRequest"],[41,18,40,16],[41,19,40,17,"onblocked"],[41,28,40,26],[41,31,40,29],[41,43,40,41],[42,8,41,6,"_logger"],[42,15,41,13],[42,16,41,14,"default"],[42,23,41,21],[42,24,41,22,"error"],[42,29,41,27],[42,30,41,28],[42,65,41,63],[42,66,41,64],[43,6,42,4],[43,7,42,5],[44,4,43,2],[44,5,43,3],[44,6,43,4],[45,2,44,0],[45,3,44,1],[46,2,45,0],[46,11,45,9,"getLokiAdapter"],[46,25,45,23,"getLokiAdapter"],[46,26,45,24,"options"],[46,33,45,31],[46,35,45,33],[47,4,46,2],[47,11,46,9],[47,15,46,13,"Promise"],[47,22,46,20],[47,23,46,21],[47,33,46,31,"$return"],[47,40,46,38],[47,42,46,40,"$error"],[47,48,46,46],[47,50,46,48],[48,6,47,4],[48,10,47,8,"useIncrementalIndexedDB"],[48,33,47,31],[48,35,47,33,"adapter"],[48,42,47,40],[48,44,47,42,"onQuotaExceededError"],[48,64,47,62],[48,66,47,64,"dbName"],[48,72,47,70],[48,74,47,72,"extraIncrementalIDBOptions"],[48,100,47,98],[48,102,47,100,"IncrementalIDBAdapter"],[48,123,47,121],[48,125,47,123,"LokiIndexedAdapter"],[48,143,47,141],[48,145,47,143,"LokiMemoryAdapter"],[48,162,47,160],[49,6,48,4],[49,7,48,5],[50,8,49,6,"useIncrementalIndexedDB"],[50,31,49,29],[50,33,49,31,"useIncrementalIndexedDB"],[50,56,49,54],[51,8,50,6,"_testLokiAdapter"],[51,24,50,22],[51,26,50,24,"adapter"],[51,33,50,31],[52,8,51,6,"onQuotaExceededError"],[52,28,51,26],[52,30,51,28,"onQuotaExceededError"],[52,50,51,48],[53,8,52,6,"dbName"],[53,14,52,12],[53,16,52,14,"dbName"],[53,22,52,20],[54,8,53,6,"extraIncrementalIDBOptions"],[54,34,53,32],[54,37,53,35],[54,38,53,36],[55,6,54,4],[55,7,54,5],[55,10,54,8,"options"],[55,17,54,15],[56,6,55,4],[56,10,55,8,"adapter"],[56,17,55,15],[56,19,55,17],[57,8,56,6],[57,15,56,13,"$return"],[57,22,56,20],[57,23,56,21,"adapter"],[57,30,56,28],[57,31,56,29],[58,6,57,4],[58,7,57,5],[58,13,57,11],[59,8,58,6],[59,15,58,13,"Promise"],[59,22,58,20],[59,23,58,21,"resolve"],[59,30,58,28],[59,31,58,29,"isIDBAvailable"],[59,45,58,43],[59,46,58,44,"onQuotaExceededError"],[59,66,58,64],[59,67,58,65],[59,68,58,66],[59,69,58,67,"then"],[59,73,58,71],[59,74,58,72],[59,84,58,82,"$await_3"],[59,92,58,90],[59,94,58,92],[60,10,59,8],[60,14,59,12],[61,12,60,10],[61,16,60,14,"$await_3"],[61,24,60,22],[61,26,60,24],[62,14,61,12],[62,18,61,16,"useIncrementalIndexedDB"],[62,41,61,39],[62,43,61,41],[63,16,62,14,"IncrementalIDBAdapter"],[63,37,62,35],[63,40,62,38,"options"],[63,47,62,45],[63,48,62,46,"_betaLoki"],[63,57,62,55],[63,60,62,58,"require"],[63,67,62,65],[63,68,62,65,"_dependencyMap"],[63,82,62,65],[63,129,62,108],[63,130,62,109],[63,133,62,112,"require"],[63,140,62,119],[63,141,62,119,"_dependencyMap"],[63,155,62,119],[63,202,62,162],[63,203,62,163],[64,16,63,14],[65,16,64,14],[65,23,64,21,"$return"],[65,30,64,28],[65,31,64,29],[65,35,64,33,"IncrementalIDBAdapter"],[65,56,64,54],[65,57,64,55,"extraIncrementalIDBOptions"],[65,83,64,81],[65,84,64,82],[65,85,64,83],[66,14,65,12],[67,14,66,12,"LokiIndexedAdapter"],[67,32,66,30],[67,35,66,33,"require"],[67,42,66,40],[67,43,66,40,"_dependencyMap"],[67,57,66,40],[67,95,66,74],[67,96,66,75],[68,14,67,12],[68,21,67,19,"$return"],[68,28,67,26],[68,29,67,27],[68,33,67,31,"LokiIndexedAdapter"],[68,51,67,49],[68,52,67,50,"dbName"],[68,58,67,56],[68,59,67,57],[68,60,67,58],[69,12,68,10],[70,12,69,10],[70,19,69,17,"$If_2"],[70,24,69,22],[70,25,69,23,"call"],[70,29,69,27],[70,30,69,28],[70,34,69,32],[70,35,69,33],[71,10,70,8],[71,11,70,9],[71,12,70,10],[71,19,70,17,"$boundEx"],[71,27,70,25],[71,29,70,27],[72,12,71,10],[72,19,71,17,"$error"],[72,25,71,23],[72,26,71,24,"$boundEx"],[72,34,71,32],[72,35,71,33],[73,10,72,8],[74,8,73,6],[74,9,73,7],[74,10,73,8,"bind"],[74,14,73,12],[74,15,73,13],[74,19,73,17],[74,20,73,18],[74,22,73,20,"$error"],[74,28,73,26],[74,29,73,27],[75,6,74,4],[77,6,76,4],[78,6,77,4],[79,6,78,4],[79,15,78,13,"$If_2"],[79,20,78,18,"$If_2"],[79,21,78,18],[79,23,78,21],[80,8,79,6],[80,9,79,7],[81,10,80,8,"LokiMemoryAdapter"],[81,27,80,25],[81,29,80,27,"LokiMemoryAdapter"],[82,8,81,6],[82,9,81,7],[82,12,81,10,"options"],[82,19,81,17],[82,20,81,18,"_betaLoki"],[82,29,81,27],[82,32,81,30,"require"],[82,39,81,37],[82,40,81,37,"_dependencyMap"],[82,54,81,37],[82,67,81,46],[82,68,81,47],[82,71,81,50,"require"],[82,78,81,57],[82,79,81,57,"_dependencyMap"],[82,93,81,57],[82,106,81,66],[82,107,81,67],[83,8,82,6],[83,15,82,13,"$return"],[83,22,82,20],[83,23,82,21],[83,27,82,25,"LokiMemoryAdapter"],[83,44,82,42],[83,45,82,43],[83,46,82,44],[83,47,82,45],[84,6,83,4],[85,6,84,4],[85,13,84,11,"$If_2"],[85,18,84,16],[85,19,84,17,"call"],[85,23,84,21],[85,24,84,22],[85,28,84,26],[85,29,84,27],[86,4,85,2],[86,5,85,3],[86,6,85,4],[87,2,86,0],[88,2,87,0],[88,11,87,9,"newLoki"],[88,18,87,16,"newLoki"],[88,19,87,17,"options"],[88,26,87,24],[88,28,87,26],[89,4,88,2],[89,11,88,9],[89,15,88,13,"Promise"],[89,22,88,20],[89,23,88,21],[89,33,88,31,"$return"],[89,40,88,38],[89,42,88,40,"$error"],[89,48,88,46],[89,50,88,48],[90,6,89,4],[90,10,89,8,"extraLokiOptions"],[90,26,89,24],[90,28,89,26,"LokiDb"],[90,34,89,32],[90,36,89,34,"loki"],[90,40,89,38],[91,6,90,4],[91,7,90,5],[92,8,91,6,"extraLokiOptions"],[92,24,91,22],[92,27,91,25],[92,28,91,26],[93,6,92,4],[93,7,92,5],[93,10,92,8,"options"],[93,17,92,15],[94,6,93,4,"LokiDb"],[94,12,93,10],[94,15,93,13,"options"],[94,22,93,20],[94,23,93,21,"_betaLoki"],[94,32,93,30],[94,35,93,33,"require"],[94,42,93,40],[94,43,93,40,"_dependencyMap"],[94,57,93,40],[94,70,93,49],[94,71,93,50],[94,74,93,53,"require"],[94,81,93,60],[94,82,93,60,"_dependencyMap"],[94,96,93,60],[94,109,93,69],[94,110,93,70],[95,6,94,4],[95,13,94,11,"Promise"],[95,20,94,18],[95,21,94,19,"resolve"],[95,28,94,26],[95,29,94,27,"getLokiAdapter"],[95,43,94,41],[95,44,94,42,"options"],[95,51,94,49],[95,52,94,50],[95,53,94,51],[95,54,94,52,"then"],[95,58,94,56],[95,59,94,57],[95,69,94,67,"$await_4"],[95,77,94,75],[95,79,94,77],[96,8,95,6],[96,12,95,10],[97,10,96,8,"loki"],[97,14,96,12],[97,17,96,15],[97,21,96,19,"LokiDb"],[97,27,96,25],[97,28,96,26,"options"],[97,35,96,33],[97,36,96,34,"dbName"],[97,42,96,40],[97,44,96,42],[97,45,96,43],[97,46,96,44],[97,48,96,46,"_extends2"],[97,57,96,55],[97,58,96,56,"default"],[97,65,96,63],[97,67,96,65],[98,12,97,10,"adapter"],[98,19,97,17],[98,21,97,19,"$await_4"],[98,29,97,27],[99,12,98,10,"autosave"],[99,20,98,18],[99,22,98,20],[99,26,98,24],[100,12,99,10,"autosaveInterval"],[100,28,99,26],[100,30,99,28],[100,33,99,31],[101,12,100,10,"verbose"],[101,19,100,17],[101,21,100,19],[102,10,101,8],[102,11,101,9],[102,13,101,11,"extraLokiOptions"],[102,29,101,27],[102,30,101,28],[102,31,101,29],[103,10,102,8],[103,17,102,15,"Promise"],[103,24,102,22],[103,25,102,23,"resolve"],[103,32,102,30],[103,33,102,31],[103,37,102,35,"Promise"],[103,44,102,42],[103,45,102,43],[103,55,102,53,"resolve"],[103,62,102,60],[103,64,102,62,"reject"],[103,70,102,68],[103,72,102,70],[104,12,103,10,"loki"],[104,16,103,14],[104,17,103,15,"loadDatabase"],[104,29,103,27],[104,30,103,28],[104,31,103,29],[104,32,103,30],[104,34,103,32],[104,44,103,42,"error"],[104,49,103,47],[104,51,103,49],[105,14,104,12,"error"],[105,19,104,17],[105,22,104,20,"reject"],[105,28,104,26],[105,29,104,27,"error"],[105,34,104,32],[105,35,104,33],[105,38,104,36,"resolve"],[105,45,104,43],[105,46,104,44],[105,47,104,45],[106,12,105,10],[106,13,105,11],[106,14,105,12],[107,10,106,8],[107,11,106,9],[107,12,106,10],[107,13,106,11],[107,14,106,12,"then"],[107,18,106,16],[107,19,106,17],[107,29,106,27,"$await_5"],[107,37,106,35],[107,39,106,37],[108,12,107,10],[108,16,107,14],[109,14,108,12],[109,21,108,19,"$return"],[109,28,108,26],[109,29,108,27,"loki"],[109,33,108,31],[109,34,108,32],[110,12,109,10],[110,13,109,11],[110,14,109,12],[110,21,109,19,"$boundEx"],[110,29,109,27],[110,31,109,29],[111,14,110,12],[111,21,110,19,"$error"],[111,27,110,25],[111,28,110,26,"$boundEx"],[111,36,110,34],[111,37,110,35],[112,12,111,10],[113,10,112,8],[113,11,112,9],[113,13,112,11,"$error"],[113,19,112,17],[113,20,112,18],[114,8,113,6],[114,9,113,7],[114,10,113,8],[114,17,113,15,"$boundEx"],[114,25,113,23],[114,27,113,25],[115,10,114,8],[115,17,114,15,"$error"],[115,23,114,21],[115,24,114,22,"$boundEx"],[115,32,114,30],[115,33,114,31],[116,8,115,6],[117,6,116,4],[117,7,116,5],[117,9,116,7,"$error"],[117,15,116,13],[117,16,116,14],[118,4,117,2],[118,5,117,3],[118,6,117,4],[119,2,118,0],[120,2,119,0],[120,11,119,9,"deleteDatabase"],[120,25,119,23,"deleteDatabase"],[120,26,119,24,"loki"],[120,30,119,28],[120,32,119,30],[121,4,120,2],[121,11,120,9],[121,15,120,13,"Promise"],[121,22,120,20],[121,23,120,21],[121,33,120,31,"$return"],[121,40,120,38],[121,42,120,40,"$error"],[121,48,120,46],[121,50,120,48],[122,6,121,4],[122,13,121,11,"Promise"],[122,20,121,18],[122,21,121,19,"resolve"],[122,28,121,26],[122,29,121,27],[122,33,121,31,"Promise"],[122,40,121,38],[122,41,121,39],[122,51,121,49,"resolve"],[122,58,121,56],[122,60,121,58,"reject"],[122,66,121,64],[122,68,121,66],[123,8,122,6],[124,8,123,6],[125,8,124,6,"loki"],[125,12,124,10],[125,13,124,11,"close"],[125,18,124,16],[125,19,124,17],[125,31,124,29],[126,10,125,8,"loki"],[126,14,125,12],[126,15,125,13,"deleteDatabase"],[126,29,125,27],[126,30,125,28],[126,31,125,29],[126,32,125,30],[126,34,125,32],[126,44,125,42,"response"],[126,52,125,50],[126,54,125,52],[127,12,126,10],[128,12,127,10],[129,12,128,10],[129,16,128,14,"response"],[129,24,128,22],[129,28,128,26,"response"],[129,36,128,34],[129,37,128,35,"success"],[129,44,128,42],[129,48,128,46,"response"],[129,56,128,54],[129,61,128,59,"undefined"],[129,70,128,68],[129,72,128,70],[130,14,129,12,"resolve"],[130,21,129,19],[130,22,129,20],[130,23,129,21],[131,12,130,10],[131,13,130,11],[131,19,130,17],[132,14,131,12,"reject"],[132,20,131,18],[132,21,131,19,"response"],[132,29,131,27],[132,30,131,28],[133,12,132,10],[134,10,133,8],[134,11,133,9],[134,12,133,10],[135,8,134,6],[135,9,134,7],[135,10,134,8],[136,6,135,4],[136,7,135,5],[136,8,135,6],[136,9,135,7],[136,10,135,8,"then"],[136,14,135,12],[136,15,135,13],[136,25,135,23,"$await_6"],[136,33,135,31],[136,35,135,33],[137,8,136,6],[137,12,136,10],[138,10,137,8],[138,17,137,15,"$return"],[138,24,137,22],[138,25,137,23],[138,26,137,24],[139,8,138,6],[139,9,138,7],[139,10,138,8],[139,17,138,15,"$boundEx"],[139,25,138,23],[139,27,138,25],[140,10,139,8],[140,17,139,15,"$error"],[140,23,139,21],[140,24,139,22,"$boundEx"],[140,32,139,30],[140,33,139,31],[141,8,140,6],[142,6,141,4],[142,7,141,5],[142,9,141,7,"$error"],[142,15,141,13],[142,16,141,14],[143,4,142,2],[143,5,142,3],[143,6,142,4],[144,2,143,0],[146,2,145,0],[147,2,146,0],[148,2,147,0],[149,2,148,0],[150,2,149,0],[150,11,149,9,"lokiFatalError"],[150,25,149,23,"lokiFatalError"],[150,26,149,24,"loki"],[150,30,149,28],[150,32,149,30],[151,4,150,2],[151,8,150,6],[152,6,151,4],[153,6,152,4],[153,10,152,8,"fatalHandler"],[153,22,152,20],[153,25,152,23],[153,34,152,32,"fatalHandler"],[153,46,152,44,"fatalHandler"],[153,47,152,44],[153,49,152,47],[154,8,153,6],[154,14,153,12],[154,18,153,16,"Error"],[154,23,153,21],[154,24,153,22],[154,83,153,81],[154,84,153,82],[155,6,154,4],[155,7,154,5],[156,6,155,4,"loki"],[156,10,155,8],[156,11,155,9,"save"],[156,15,155,13],[156,18,155,16,"fatalHandler"],[156,30,155,28],[157,6,156,4,"loki"],[157,10,156,8],[157,11,156,9,"saveDatabase"],[157,23,156,21],[157,26,156,24,"fatalHandler"],[157,38,156,36],[158,6,157,4,"loki"],[158,10,157,8],[158,11,157,9,"saveDatabaseInternal"],[158,31,157,29],[158,34,157,32,"fatalHandler"],[158,46,157,44],[159,6,158,4],[160,6,159,4,"loki"],[160,10,159,8],[160,11,159,9,"autosave"],[160,19,159,17],[160,22,159,20],[160,27,159,25],[161,6,160,4,"loki"],[161,10,160,8],[161,11,160,9,"autosaveDisable"],[161,26,160,24],[161,27,160,25],[161,28,160,26],[162,6,161,4],[163,6,162,4,"loki"],[163,10,162,8],[163,11,162,9,"close"],[163,16,162,14],[163,17,162,15],[163,18,162,16],[164,4,163,2],[164,5,163,3],[164,6,163,4],[164,13,163,11,"error"],[164,18,163,16],[164,20,163,18],[165,6,164,4,"_logger"],[165,13,164,11],[165,14,164,12,"default"],[165,21,164,19],[165,22,164,20,"error"],[165,27,164,25],[165,28,164,26],[165,64,164,62],[165,65,164,63],[166,6,165,4,"_logger"],[166,13,165,11],[166,14,165,12,"default"],[166,21,165,19],[166,22,165,20,"error"],[166,27,165,25],[166,28,165,26,"error"],[166,33,165,31],[166,34,165,32],[167,4,166,2],[168,2,167,0],[169,0,167,1],[169,3]],"functionMap":{"names":["<global>","isIDBAvailable","Promise$argument_0","checkRequest.onsuccess","checkRequest.onerror","checkRequest.onblocked","getLokiAdapter","<anonymous>","$If_2","newLoki","Promise.resolve.then$argument_0","loki.loadDatabase$argument_1","deleteDatabase","loki.close$argument_0","loki.deleteDatabase$argument_1","lokiFatalError","fatalHandler"],"mappings":"AAA;qBCW;qBCC;6BCS;KDI;2BEC;KFY;6BGC;KHE;GDC;CDC;AMC;qBJC;wEKY;OLe;IMK;KNK;GIE;CNC;ASC;qBPC;yDQM;2CRQ;gCSC;WTE;SQC;KRU;GOC;CTC;AYC;qBVC;iBWI;gCCC;SDQ;OXC;aQC;KRM;GUC;CZC;AeM;uBCG;KDE"},"hasCjsExports":true},"type":"js/module"}]}